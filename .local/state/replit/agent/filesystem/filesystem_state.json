{"file_contents":{"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8605},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1977},"client/src/index.css":{"content":"@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Roboto+Mono:wght@400;500&display=swap');\n\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n:root {\n  --background: hsl(210, 40%, 98%);\n  --foreground: hsl(222, 47%, 11%);\n  --muted: hsl(210, 40%, 96%);\n  --muted-foreground: hsl(215, 16%, 47%);\n  --popover: hsl(0, 0%, 100%);\n  --popover-foreground: hsl(222, 47%, 11%);\n  --card: hsl(0, 0%, 100%);\n  --card-foreground: hsl(222, 47%, 11%);\n  --border: hsl(214, 32%, 91%);\n  --input: hsl(214, 32%, 91%);\n  --primary: hsl(211, 100%, 50%);\n  --primary-foreground: hsl(0, 0%, 100%);\n  --secondary: hsl(214, 32%, 91%);\n  --secondary-foreground: hsl(222, 47%, 11%);\n  --accent: hsl(210, 40%, 96%);\n  --accent-foreground: hsl(222, 47%, 11%);\n  --destructive: hsl(0, 84.2%, 60.2%);\n  --destructive-foreground: hsl(60, 9.1%, 97.8%);\n  --ring: hsl(211, 100%, 50%);\n  --radius: 0.5rem;\n}\n\n.dark {\n  --background: hsl(240, 10%, 3.9%);\n  --foreground: hsl(0, 0%, 98%);\n  --muted: hsl(240, 3.7%, 15.9%);\n  --muted-foreground: hsl(240, 5%, 64.9%);\n  --popover: hsl(240, 10%, 3.9%);\n  --popover-foreground: hsl(0, 0%, 98%);\n  --card: hsl(240, 10%, 3.9%);\n  --card-foreground: hsl(0, 0%, 98%);\n  --border: hsl(240, 3.7%, 15.9%);\n  --input: hsl(240, 3.7%, 15.9%);\n  --primary: hsl(211, 100%, 50%);\n  --primary-foreground: hsl(0, 0%, 100%);\n  --secondary: hsl(240, 3.7%, 15.9%);\n  --secondary-foreground: hsl(0, 0%, 98%);\n  --accent: hsl(240, 3.7%, 15.9%);\n  --accent-foreground: hsl(0, 0%, 98%);\n  --destructive: hsl(0, 62.8%, 30.6%);\n  --destructive-foreground: hsl(0, 0%, 98%);\n  --ring: hsl(240, 4.9%, 83.9%);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased;\n    font-family: 'Inter', system-ui, sans-serif;\n    background: var(--background);\n    color: var(--foreground);\n  }\n}\n\n/* Calculator button specific styles */\n.calc-btn-number {\n  background: hsl(30, 72%, 27%); /* Brown #8B4513 equivalent */\n  color: white;\n}\n\n.calc-btn-number:hover {\n  background: hsl(30, 72%, 22%);\n}\n\n.calc-btn-operator {\n  background: hsl(33, 100%, 52%); /* Orange #FF8C00 equivalent */\n  color: white;\n}\n\n.calc-btn-operator:hover {\n  background: hsl(33, 100%, 47%);\n}\n\n.calc-btn-function {\n  background: hsl(225, 73%, 57%); /* Blue #4169E1 equivalent */\n  color: white;\n}\n\n.calc-btn-function:hover {\n  background: hsl(225, 73%, 52%);\n}\n\n/* Tight spacing for calculator links */\n.calculator-link {\n  line-height: 1.2;\n  margin: 2px 0;\n  padding: 1px 0;\n}\n\n/* Header gradient */\n.bg-gradient-to-br {\n  background: linear-gradient(135deg, #4A90E2 0%, #718096 100%);\n}\n\n/* Ensure proper font loading */\n@font-face {\n  font-family: 'Inter';\n  font-display: swap;\n}\n\n@font-face {\n  font-family: 'Roboto Mono';\n  font-display: swap;\n}\n","size_bytes":2792},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4885},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2695},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3848},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\n\nconst app = express();\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"…\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","size_bytes":2066},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1584},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4120},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport NotFound from \"@/pages/not-found\";\nimport Landing from \"@/pages/landing\";\nimport Home from \"@/pages/home\";\nimport CalculatorPage from \"@/pages/calculator\";\nimport CustomCalculator from \"@/pages/custom-calculator\";\nimport CommunityCalculators from \"@/pages/community-calculators\";\nimport Dashboard from \"@/pages/dashboard\";\nimport AdminPage from \"@/pages/admin\";\nimport AdminTestPage from \"@/pages/admin-test\";\nimport LoginPage from \"@/pages/login\";\nimport RegisterPage from \"@/pages/register\";\nimport Settings from \"@/pages/settings\";\nimport ForgotPassword from \"@/pages/forgot-password\";\nimport ResetPassword from \"@/pages/reset-password\";\nimport AdminSetup from \"@/pages/admin-setup\";\n\nfunction Router() {\n  const { isAuthenticated, isLoading } = useAuth();\n\n  // Show landing page for everyone - auth is optional\n  return (\n    <Switch>\n      <Route path=\"/\" component={Landing} />\n      <Route path=\"/login\" component={LoginPage} />\n      <Route path=\"/register\" component={RegisterPage} />\n      <Route path=\"/forgot-password\" component={ForgotPassword} />\n      <Route path=\"/reset-password\" component={ResetPassword} />\n      <Route path=\"/community-calculators\" component={CommunityCalculators} />\n      <Route path=\"/custom-calculator/:slug\" component={CustomCalculator} />\n      <Route path=\"/custom-calculator\" component={CustomCalculator} />\n      <Route path=\"/calculator/:slug\" component={CalculatorPage} />\n      <Route path=\"/dashboard\" component={Dashboard} />\n      <Route path=\"/settings\" component={Settings} />\n      <Route path=\"/admin-setup\" component={AdminSetup} />\n      <Route path=\"/admin-test\" component={AdminTestPage} />\n      <Route path=\"/admin\" component={AdminPage} />\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <Toaster />\n        <Router />\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","size_bytes":2291},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1056},"client/src/lib/calculatorFormsNew.ts":{"content":"// Comprehensive form field generator for all 200 calculators\n// Uses calculator registry to determine appropriate fields\n\nimport { calculatorRegistry } from './calculatorConfig';\n\nexport interface FormField {\n  id: string;\n  label: string;\n  type: 'number' | 'text' | 'select' | 'date';\n  placeholder?: string;\n  step?: string;\n  options?: { value: string; label: string }[];\n}\n\n// Field presets for common input types\nconst commonFields = {\n  // Math\n  expression: { id: 'expression', label: 'Expression', type: 'text' as const, placeholder: 'e.g., 5 + 3 * 2' },\n  value: { id: 'value', label: 'Value', type: 'number' as const, placeholder: 'Enter value', step: '0.01' },\n  percentage: { id: 'percentage', label: 'Percentage (%)', type: 'number' as const, placeholder: 'Enter percentage', step: '0.01' },\n  number: { id: 'number', label: 'Number', type: 'number' as const, placeholder: 'Enter number', step: '0.01' },\n  a: { id: 'a', label: 'Value A', type: 'number' as const, placeholder: 'Enter value A', step: '0.01' },\n  b: { id: 'b', label: 'Value B', type: 'number' as const, placeholder: 'Enter value B', step: '0.01' },\n  c: { id: 'c', label: 'Value C', type: 'number' as const, placeholder: 'Enter value C', step: '0.01' },\n  base: { id: 'base', label: 'Base', type: 'number' as const, placeholder: 'Enter base', step: '0.01' },\n  exponent: { id: 'exponent', label: 'Exponent', type: 'number' as const, placeholder: 'Enter exponent', step: '0.01' },\n  angle: { id: 'angle', label: 'Angle (degrees)', type: 'number' as const, placeholder: 'Enter angle', step: '0.01' },\n  radius: { id: 'radius', label: 'Radius', type: 'number' as const, placeholder: 'Enter radius', step: '0.01' },\n  \n  // Statistics\n  values: { id: 'values', label: 'Values (comma-separated)', type: 'text' as const, placeholder: 'e.g., 10, 20, 30, 40' },\n  \n  // Number Theory\n  n: { id: 'n', label: 'n (total items)', type: 'number' as const, placeholder: 'Enter n' },\n  r: { id: 'r', label: 'r (items to choose)', type: 'number' as const, placeholder: 'Enter r' },\n  \n  // Geometry\n  length: { id: 'length', label: 'Length (ft)', type: 'number' as const, placeholder: 'Enter length', step: '0.01' },\n  width: { id: 'width', label: 'Width (ft)', type: 'number' as const, placeholder: 'Enter width', step: '0.01' },\n  height: { id: 'height', label: 'Height (ft)', type: 'number' as const, placeholder: 'Enter height', step: '0.01' },\n  depth: { id: 'depth', label: 'Depth (in)', type: 'number' as const, placeholder: 'Enter depth', step: '0.01' },\n  \n  // Coordinates\n  x1: { id: 'x1', label: 'x₁', type: 'number' as const, placeholder: 'Enter x1', step: '0.01' },\n  y1: { id: 'y1', label: 'y₁', type: 'number' as const, placeholder: 'Enter y1', step: '0.01' },\n  x2: { id: 'x2', label: 'x₂', type: 'number' as const, placeholder: 'Enter x2', step: '0.01' },\n  y2: { id: 'y2', label: 'y₂', type: 'number' as const, placeholder: 'Enter y2', step: '0.01' },\n  \n  // Finance - Loans\n  principal: { id: 'principal', label: 'Loan Amount ($)', type: 'number' as const, placeholder: 'Enter amount', step: '0.01' },\n  rate: { id: 'rate', label: 'Interest Rate (% annual)', type: 'number' as const, placeholder: 'Enter rate', step: '0.01' },\n  term: { id: 'term', label: 'Term (years)', type: 'number' as const, placeholder: 'Enter term' },\n  payment: { id: 'payment', label: 'Monthly Payment ($)', type: 'number' as const, placeholder: 'Enter payment', step: '0.01' },\n  \n  // Finance - Investment\n  initial: { id: 'initial', label: 'Initial Amount ($)', type: 'number' as const, placeholder: 'Enter initial amount', step: '0.01' },\n  monthly: { id: 'monthly', label: 'Monthly Contribution ($)', type: 'number' as const, placeholder: 'Enter monthly', step: '0.01' },\n  years: { id: 'years', label: 'Years', type: 'number' as const, placeholder: 'Enter years' },\n  time: { id: 'time', label: 'Time (years)', type: 'number' as const, placeholder: 'Enter time', step: '0.1' },\n  \n  // Finance - Salary\n  hourly: { id: 'hourly', label: 'Hourly Rate ($)', type: 'number' as const, placeholder: 'Enter hourly rate', step: '0.01' },\n  annual: { id: 'annual', label: 'Annual Salary ($)', type: 'number' as const, placeholder: 'Enter annual salary', step: '0.01' },\n  hoursPerWeek: { id: 'hoursPerWeek', label: 'Hours per Week', type: 'number' as const, placeholder: '40' },\n  \n  // Finance - Tax & Discount\n  bill: { id: 'bill', label: 'Bill Amount ($)', type: 'number' as const, placeholder: 'Enter bill', step: '0.01' },\n  tip: { id: 'tip', label: 'Tip (%)', type: 'number' as const, placeholder: '15', step: '0.1' },\n  people: { id: 'people', label: 'Number of People', type: 'number' as const, placeholder: '1' },\n  price: { id: 'price', label: 'Price ($)', type: 'number' as const, placeholder: 'Enter price', step: '0.01' },\n  original: { id: 'original', label: 'Original Price ($)', type: 'number' as const, placeholder: 'Enter price', step: '0.01' },\n  discount: { id: 'discount', label: 'Discount (%)', type: 'number' as const, placeholder: 'Enter discount', step: '0.1' },\n  cost: { id: 'cost', label: 'Cost ($)', type: 'number' as const, placeholder: 'Enter cost', step: '0.01' },\n  markup: { id: 'markup', label: 'Markup (%)', type: 'number' as const, placeholder: 'Enter markup', step: '0.1' },\n  revenue: { id: 'revenue', label: 'Revenue ($)', type: 'number' as const, placeholder: 'Enter revenue', step: '0.01' },\n  taxRate: { id: 'taxRate', label: 'Tax Rate (%)', type: 'number' as const, placeholder: 'Enter rate', step: '0.01' },\n  vatRate: { id: 'vatRate', label: 'VAT Rate (%)', type: 'number' as const, placeholder: 'Enter rate', step: '0.01' },\n  \n  // Health\n  weight: { id: 'weight', label: 'Weight (lbs)', type: 'number' as const, placeholder: 'Enter weight', step: '0.1' },\n  heightFeet: { id: 'heightFeet', label: 'Height (feet)', type: 'number' as const, placeholder: 'Enter feet' },\n  heightInches: { id: 'heightInches', label: 'Height (inches)', type: 'number' as const, placeholder: 'Enter inches', step: '0.1' },\n  age: { id: 'age', label: 'Age (years)', type: 'number' as const, placeholder: 'Enter age' },\n  gender: { \n    id: 'gender', \n    label: 'Gender', \n    type: 'select' as const, \n    options: [\n      { value: 'male', label: 'Male' },\n      { value: 'female', label: 'Female' }\n    ]\n  },\n  activityLevel: {\n    id: 'activityLevel',\n    label: 'Activity Level',\n    type: 'select' as const,\n    options: [\n      { value: '1.2', label: 'Sedentary (little/no exercise)' },\n      { value: '1.375', label: 'Light (1-3 days/week)' },\n      { value: '1.55', label: 'Moderate (3-5 days/week)' },\n      { value: '1.725', label: 'Active (6-7 days/week)' },\n      { value: '1.9', label: 'Very Active (hard exercise daily)' }\n    ]\n  },\n  \n  // Conversions (Imperial)\n  fahrenheit: { id: 'fahrenheit', label: 'Temperature (°F)', type: 'number' as const, placeholder: 'Enter Fahrenheit', step: '0.1' },\n  feet: { id: 'feet', label: 'Length (feet)', type: 'number' as const, placeholder: 'Enter feet', step: '0.01' },\n  miles: { id: 'miles', label: 'Distance (miles)', type: 'number' as const, placeholder: 'Enter miles', step: '0.01' },\n  pounds: { id: 'pounds', label: 'Weight (lbs)', type: 'number' as const, placeholder: 'Enter pounds', step: '0.1' },\n  inches: { id: 'inches', label: 'Length (inches)', type: 'number' as const, placeholder: 'Enter inches', step: '0.01' },\n  gallons: { id: 'gallons', label: 'Volume (gallons)', type: 'number' as const, placeholder: 'Enter gallons', step: '0.01' },\n  mph: { id: 'mph', label: 'Speed (mph)', type: 'number' as const, placeholder: 'Enter mph', step: '0.01' },\n  sqft: { id: 'sqft', label: 'Area (sq ft)', type: 'number' as const, placeholder: 'Enter sq ft', step: '0.01' },\n  \n  // Date & Time\n  birthDate: { id: 'birthDate', label: 'Birth Date', type: 'date' as const, placeholder: '' },\n  startDate: { id: 'startDate', label: 'Start Date', type: 'date' as const, placeholder: '' },\n  targetDate: { id: 'targetDate', label: 'Target Date', type: 'date' as const, placeholder: '' },\n  days: { id: 'days', label: 'Number of Days', type: 'number' as const, placeholder: 'Enter days' },\n  \n  // Grades\n  grades: { id: 'grades', label: 'Grades (comma-separated)', type: 'text' as const, placeholder: 'e.g., A, B, A, C' },\n  correct: { id: 'correct', label: 'Correct Answers', type: 'number' as const, placeholder: 'Enter correct' },\n  total: { id: 'total', label: 'Total Questions', type: 'number' as const, placeholder: 'Enter total' },\n  \n  // Random\n  min: { id: 'min', label: 'Minimum', type: 'number' as const, placeholder: 'Enter min value' },\n  max: { id: 'max', label: 'Maximum', type: 'number' as const, placeholder: 'Enter max value' },\n  sides: { id: 'sides', label: 'Sides per Die', type: 'number' as const, placeholder: '6' },\n  count: { id: 'count', label: 'Number of Dice', type: 'number' as const, placeholder: '1' },\n  flips: { id: 'flips', label: 'Number of Flips', type: 'number' as const, placeholder: '1' },\n  \n  // Other\n  text: { id: 'text', label: 'Text', type: 'text' as const, placeholder: 'Enter text' },\n  coats: { id: 'coats', label: 'Number of Coats', type: 'number' as const, placeholder: '1' },\n};\n\nexport function getFormFields(slug: string): FormField[] {\n  // Look up calculator in registry\n  const config = calculatorRegistry[slug];\n  \n  if (!config || !config.fields) {\n    // Default fallback\n    return [\n      commonFields.value,\n      { id: 'input2', label: 'Value 2', type: 'number', placeholder: 'Enter second value', step: '0.01' }\n    ];\n  }\n  \n  // Generate form fields based on the required fields\n  const formFields: FormField[] = [];\n  \n  for (const fieldId of config.fields) {\n    // Check if we have a predefined field\n    if (commonFields[fieldId as keyof typeof commonFields]) {\n      formFields.push(commonFields[fieldId as keyof typeof commonFields]);\n    } else {\n      // Create a generic field with sensible defaults\n      // Determine if it should be text or number based on field name\n      const isTextfield = fieldId.includes('text') || fieldId.includes('name') || \n                         fieldId.includes('equation') || fieldId.includes('shape') ||\n                         fieldId.includes('operation') || fieldId.includes('case') ||\n                         fieldId.includes('odds') || fieldId.includes('ratio') ||\n                         fieldId.includes('activity') || fieldId.includes('Time');\n      \n      const label = fieldId\n        .replace(/([A-Z])/g, ' $1')\n        .replace(/^./, str => str.toUpperCase())\n        .replace(/([0-9])/g, ' $1')\n        .trim();\n      \n      formFields.push({\n        id: fieldId,\n        label: label,\n        type: isTextfield ? 'text' : 'number',\n        placeholder: `Enter ${label.toLowerCase()}`,\n        step: isTextfield ? undefined : '0.01'\n      });\n    }\n  }\n  \n  // Validate that we generated at least one field\n  if (formFields.length === 0) {\n    console.warn(`No fields generated for calculator: ${slug}`);\n    return [commonFields.value];\n  }\n  \n  return formFields;\n}\n","size_bytes":11046},"client/src/lib/authUtils.ts":{"content":"export function isUnauthorizedError(error: Error): boolean {\n  return /^401: .*Unauthorized/.test(error.message);\n}","size_bytes":115},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7609},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"client/src/pages/calculator.tsx":{"content":"import { useParams, Link } from \"wouter\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport Header from \"@/components/Header\";\nimport AdSlot from \"@/components/AdSlot\";\nimport SEO from \"@/components/SEO\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { useState } from \"react\";\nimport { calculatorsData } from \"@/data/calculators\";\nimport { performCalculation } from \"@/lib/calculatorEngineNew\";\nimport { getFormFields } from \"@/lib/calculatorFormsNew\";\n\nexport default function CalculatorPage() {\n  const params = useParams();\n  const slug = params.slug as string;\n  const { isAuthenticated } = useAuth();\n  const { toast } = useToast();\n  \n  const [inputs, setInputs] = useState<Record<string, string>>({});\n  const [result, setResult] = useState<string>('');\n\n  // Find calculator from our static data\n  const calculator = calculatorsData.find(calc => calc.slug === slug);\n\n  // Get form fields for this calculator\n  const formFields = calculator ? getFormFields(calculator.slug) : [];\n\n  const recordUsage = useMutation({\n    mutationFn: async (data: any) => {\n      if (!isAuthenticated) return;\n      return apiRequest('POST', '/api/calculator-usage', data);\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Calculation recorded\",\n        description: \"Your calculation has been saved to your history.\",\n      });\n    },\n    onError: (error) => {\n      console.error('Failed to record usage:', error);\n    },\n  });\n\n  const handleInputChange = (field: string, value: string) => {\n    setInputs(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  const handleCalculate = () => {\n    if (!calculator) return;\n\n    try {\n      // Use the comprehensive calculator engine\n      const calculatedResult = performCalculation(calculator.slug, inputs);\n      setResult(calculatedResult);\n\n      // Record usage if authenticated\n      recordUsage.mutate({\n        calculatorName: calculator.name,\n        calculatorType: calculator.category,\n        inputs,\n        result: calculatedResult,\n      });\n    } catch (error) {\n      console.error('Calculation error:', error);\n      setResult('Error in calculation. Please check your inputs.');\n    }\n  };\n\n  if (!calculator) {\n    return (\n      <div className=\"min-h-screen bg-gray-50\">\n        <SEO\n          title=\"Calculator Not Found - CalculateThis.org\"\n          description=\"The calculator you're looking for doesn't exist. Browse our collection of 200+ free online calculators.\"\n          ogUrl={`https://calculatethis.org/calculator/${slug}`}\n        />\n        <Header />\n        <main className=\"max-w-4xl mx-auto px-4 py-8\">\n          <Card>\n            <CardContent className=\"pt-6\">\n              <div className=\"text-center\">\n                <h1 className=\"text-2xl font-bold text-gray-900 mb-4\">Calculator Not Found</h1>\n                <p className=\"text-gray-600\">The calculator you're looking for doesn't exist.</p>\n                <Link href=\"/\">\n                  <Button className=\"mt-4\" data-testid=\"button-home\">Go to Home</Button>\n                </Link>\n              </div>\n            </CardContent>\n          </Card>\n        </main>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <SEO\n        title={`${calculator.name} - Free Online Calculator | CalculateThis.org`}\n        description={`${calculator.description} Use our free ${calculator.name.toLowerCase()} for quick and accurate calculations.`}\n        keywords={`${calculator.name}, ${calculator.category} calculator, online calculator, free calculator`}\n        ogUrl={`https://calculatethis.org/calculator/${slug}`}\n      />\n      <Header />\n      \n      <main className=\"max-w-4xl mx-auto px-4 py-8\">\n        {/* Back to Home Button */}\n        <Link href=\"/\">\n          <Button variant=\"outline\" className=\"mb-4\" data-testid=\"button-back-home\">\n            ← Back to Home\n          </Button>\n        </Link>\n\n        {/* Header Ad */}\n        <AdSlot location=\"header\" className=\"mb-6\" />\n        \n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-3xl font-bold text-blue-600\">{calculator.name}</CardTitle>\n            <p className=\"text-gray-600 text-lg\">{calculator.description}</p>\n          </CardHeader>\n          \n          <CardContent>\n            <div className=\"grid md:grid-cols-2 gap-8\">\n              \n              {/* Input Form */}\n              <div>\n                <h3 className=\"text-xl font-semibold mb-4\">Enter Values</h3>\n                \n                {/* Dynamic form fields */}\n                <div className=\"space-y-4\">\n                  {formFields.map((field) => (\n                    <div key={field.id}>\n                      <Label htmlFor={field.id} data-testid={`label-${field.id}`}>{field.label}</Label>\n                      {field.type === 'select' ? (\n                        <Select\n                          value={inputs[field.id] || field.options?.[0]?.value || ''}\n                          onValueChange={(value) => handleInputChange(field.id, value)}\n                        >\n                          <SelectTrigger id={field.id} data-testid={`select-${field.id}`}>\n                            <SelectValue placeholder={`Select ${field.label}`} />\n                          </SelectTrigger>\n                          <SelectContent data-testid={`select-content-${field.id}`}>\n                            {field.options?.map((option) => (\n                              <SelectItem \n                                key={option.value} \n                                value={option.value}\n                                data-testid={`select-option-${field.id}-${option.value}`}\n                              >\n                                {option.label}\n                              </SelectItem>\n                            ))}\n                          </SelectContent>\n                        </Select>\n                      ) : (\n                        <Input\n                          id={field.id}\n                          type={field.type}\n                          step={field.step}\n                          placeholder={field.placeholder}\n                          value={inputs[field.id] || ''}\n                          onChange={(e) => handleInputChange(field.id, e.target.value)}\n                          data-testid={`input-${field.id}`}\n                        />\n                      )}\n                    </div>\n                  ))}\n                </div>\n                \n                <Button \n                  onClick={handleCalculate} \n                  className=\"w-full mt-6 bg-blue-600 hover:bg-blue-700\"\n                  size=\"lg\"\n                  data-testid=\"button-calculate\"\n                >\n                  Calculate\n                </Button>\n              </div>\n              \n              {/* Result Display */}\n              <div>\n                <h3 className=\"text-xl font-semibold mb-4\">Result</h3>\n                <div className=\"bg-gray-100 rounded-lg p-6 min-h-32\">\n                  {result ? (\n                    <div className=\"text-lg font-semibold text-green-600\" data-testid=\"text-result\">{result}</div>\n                  ) : (\n                    <div className=\"text-gray-500\">Results will appear here after calculation</div>\n                  )}\n                </div>\n\n                {/* Sidebar Ad */}\n                <AdSlot location=\"sidebar\" className=\"mt-6\" />\n                \n                {/* Embed Code */}\n                <div className=\"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200\">\n                  <h4 className=\"font-semibold mb-2\">Embed this calculator on your website</h4>\n                  <p className=\"text-sm text-gray-600 mb-3\">\n                    Copy and paste the code below into your HTML to add this calculator to your website:\n                  </p>\n                  <Input\n                    readOnly\n                    value={`<iframe src=\"${window.location.origin}/calculator/${slug}?embed=true\" width=\"100%\" height=\"600\" frameborder=\"0\"></iframe>`}\n                    className=\"text-sm font-mono\"\n                    data-testid=\"input-embed-code\"\n                    onClick={(e) => {\n                      e.currentTarget.select();\n                      navigator.clipboard.writeText(e.currentTarget.value);\n                      toast({ title: \"Copied to clipboard!\" });\n                    }}\n                  />\n                  <p className=\"text-xs text-gray-500 mt-2\">\n                    Click the code above to copy it. You can adjust the width and height values as needed.\n                  </p>\n                </div>\n              </div>\n              \n            </div>\n\n            {/* Inline Ad */}\n            <AdSlot location=\"inline\" className=\"mt-8\" />\n            \n            {/* SEO Content */}\n            <div className=\"mt-12 pt-8 border-t border-gray-200\">\n              <h2 className=\"text-2xl font-bold mb-4\">About the {calculator.name}</h2>\n              <p className=\"text-gray-700 leading-relaxed mb-4\">\n                Our {calculator.name.toLowerCase()} is a free online tool designed to help you {calculator.description.toLowerCase()}. \n                This calculator is accurate, easy to use, and provides instant results for your calculations.\n              </p>\n              <p className=\"text-gray-700 leading-relaxed\">\n                Whether you're a student, professional, or just need quick calculations, this tool will save you time and ensure accuracy. \n                All calculations are performed client-side for privacy and speed.\n                {isAuthenticated && \" Your calculation history is automatically saved when you're signed in.\"}\n              </p>\n            </div>\n            \n            {/* Backlink */}\n            <div className=\"mt-8 pt-6 border-t border-gray-200 text-center\">\n              <p className=\"text-sm text-gray-600\">\n                Powered by{' '}\n                <a \n                  href=\"https://calculatethis.org\" \n                  className=\"text-blue-600 hover:text-blue-800 font-semibold underline\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  data-testid=\"link-backlink\"\n                >\n                  CalculateThis.org\n                </a>\n                {' '}- Free Online Calculators for Math, Finance, Health & More\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Footer Ad */}\n        <AdSlot location=\"footer\" className=\"mt-6\" />\n      </main>\n    </div>\n  );\n}\n","size_bytes":11001},"server/db.ts":{"content":"import { Pool, neonConfig } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-serverless';\nimport ws from \"ws\";\nimport * as schema from \"@shared/schema\";\n\nneonConfig.webSocketConstructor = ws;\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\n    \"DATABASE_URL must be set. Did you forget to provision a database?\",\n  );\n}\n\nexport const pool = new Pool({ connectionString: process.env.DATABASE_URL });\nexport const db = drizzle({ client: pool, schema });","size_bytes":482},"client/src/data/calculators.ts":{"content":"export interface CalculatorData {\n  name: string;\n  slug: string;\n  category: 'Math' | 'Finance' | 'Health' | 'Other';\n  description: string;\n}\n\nexport const calculatorsData: CalculatorData[] = [\n  // Math Calculators (50)\n  { name: 'Basic Calculator', slug: 'basic-calculator', category: 'Math', description: 'Perform basic arithmetic operations' },\n  { name: 'Scientific Calculator', slug: 'scientific-calculator', category: 'Math', description: 'Advanced scientific calculations' },\n  { name: 'Fraction Calculator', slug: 'fraction-calculator', category: 'Math', description: 'Add, subtract, multiply and divide fractions' },\n  { name: 'Percentage Calculator', slug: 'percentage-calculator', category: 'Math', description: 'Calculate percentages and percent change' },\n  { name: 'Ratio Calculator', slug: 'ratio-calculator', category: 'Math', description: 'Calculate ratios and proportions' },\n  { name: 'Average Calculator', slug: 'average-calculator', category: 'Math', description: 'Calculate mean, median, and mode' },\n  { name: 'Standard Deviation Calculator', slug: 'standard-deviation-calculator', category: 'Math', description: 'Calculate standard deviation and variance' },\n  { name: 'Random Number Generator', slug: 'random-number-generator', category: 'Math', description: 'Generate random numbers within range' },\n  { name: 'Exponent Calculator', slug: 'exponent-calculator', category: 'Math', description: 'Calculate powers and exponents' },\n  { name: 'Square Root Calculator', slug: 'square-root-calculator', category: 'Math', description: 'Calculate square roots and cube roots' },\n  { name: 'Algebra Calculator', slug: 'algebra-calculator', category: 'Math', description: 'Solve algebraic equations' },\n  { name: 'Equation Solver', slug: 'equation-solver', category: 'Math', description: 'Solve linear and quadratic equations' },\n  { name: 'Quadratic Formula Calculator', slug: 'quadratic-formula-calculator', category: 'Math', description: 'Solve quadratic equations using the quadratic formula' },\n  { name: 'Matrix Calculator', slug: 'matrix-calculator', category: 'Math', description: 'Perform matrix operations' },\n  { name: 'Triangle Calculator', slug: 'triangle-calculator', category: 'Math', description: 'Calculate triangle properties' },\n  { name: 'Area Calculator', slug: 'area-calculator', category: 'Math', description: 'Calculate area of various shapes' },\n  { name: 'Volume Calculator', slug: 'volume-calculator', category: 'Math', description: 'Calculate volume of 3D shapes' },\n  { name: 'Perimeter Calculator', slug: 'perimeter-calculator', category: 'Math', description: 'Calculate perimeter of shapes' },\n  { name: 'Circle Calculator', slug: 'circle-calculator', category: 'Math', description: 'Calculate circle area, circumference, and diameter' },\n  { name: 'Pythagorean Theorem Calculator', slug: 'pythagorean-theorem-calculator', category: 'Math', description: 'Calculate triangle sides using Pythagorean theorem' },\n  { name: 'Slope Calculator', slug: 'slope-calculator', category: 'Math', description: 'Calculate slope of a line' },\n  { name: 'Distance Calculator', slug: 'distance-calculator', category: 'Math', description: 'Calculate distance between two points' },\n  { name: 'Midpoint Calculator', slug: 'midpoint-calculator', category: 'Math', description: 'Find midpoint between two points' },\n  { name: 'Factorial Calculator', slug: 'factorial-calculator', category: 'Math', description: 'Calculate factorial of numbers' },\n  { name: 'Combination Calculator', slug: 'combination-calculator', category: 'Math', description: 'Calculate combinations (nCr)' },\n  { name: 'Permutation Calculator', slug: 'permutation-calculator', category: 'Math', description: 'Calculate permutations (nPr)' },\n  { name: 'Prime Number Calculator', slug: 'prime-number-calculator', category: 'Math', description: 'Check if number is prime' },\n  { name: 'LCM Calculator', slug: 'lcm-calculator', category: 'Math', description: 'Find least common multiple' },\n  { name: 'GCF Calculator', slug: 'gcf-calculator', category: 'Math', description: 'Find greatest common factor' },\n  { name: 'Divisibility Calculator', slug: 'divisibility-calculator', category: 'Math', description: 'Check divisibility rules' },\n  { name: 'Mixed Number Calculator', slug: 'mixed-number-calculator', category: 'Math', description: 'Convert between mixed numbers and improper fractions' },\n  { name: 'Decimal to Fraction Converter', slug: 'decimal-to-fraction', category: 'Math', description: 'Convert decimals to fractions' },\n  { name: 'Fraction to Decimal Converter', slug: 'fraction-to-decimal', category: 'Math', description: 'Convert fractions to decimals' },\n  { name: 'Binary Calculator', slug: 'binary-calculator', category: 'Math', description: 'Perform binary arithmetic' },\n  { name: 'Hex Calculator', slug: 'hex-calculator', category: 'Math', description: 'Perform hexadecimal arithmetic' },\n  { name: 'Octal Calculator', slug: 'octal-calculator', category: 'Math', description: 'Perform octal arithmetic' },\n  { name: 'Base Converter', slug: 'base-converter', category: 'Math', description: 'Convert between number bases' },\n  { name: 'Logarithm Calculator', slug: 'log-calculator', category: 'Math', description: 'Calculate logarithms' },\n  { name: 'Antilog Calculator', slug: 'antilog-calculator', category: 'Math', description: 'Calculate antilogarithms' },\n  { name: 'Sine Calculator', slug: 'sine-calculator', category: 'Math', description: 'Calculate sine values' },\n  { name: 'Cosine Calculator', slug: 'cosine-calculator', category: 'Math', description: 'Calculate cosine values' },\n  { name: 'Tangent Calculator', slug: 'tangent-calculator', category: 'Math', description: 'Calculate tangent values' },\n  { name: 'Rounding Calculator', slug: 'rounding-calculator', category: 'Math', description: 'Round numbers to specified decimals' },\n  { name: 'Significant Figures Calculator', slug: 'sig-fig-calculator', category: 'Math', description: 'Calculate significant figures' },\n  { name: 'Absolute Value Calculator', slug: 'absolute-value-calculator', category: 'Math', description: 'Find absolute value of numbers' },\n  { name: 'Modulo Calculator', slug: 'modulo-calculator', category: 'Math', description: 'Calculate modulo operation' },\n  { name: 'Integral Calculator', slug: 'integral-calculator', category: 'Math', description: 'Calculate definite and indefinite integrals' },\n  { name: 'Derivative Calculator', slug: 'derivative-calculator', category: 'Math', description: 'Calculate derivatives of functions' },\n  { name: 'Limit Calculator', slug: 'limit-calculator', category: 'Math', description: 'Calculate limits of functions' },\n  { name: 'Series Calculator', slug: 'series-calculator', category: 'Math', description: 'Calculate arithmetic and geometric series' },\n\n  // Finance Calculators (50)\n  { name: 'Mortgage Calculator', slug: 'mortgage-calculator', category: 'Finance', description: 'Calculate monthly mortgage payments' },\n  { name: 'Loan Calculator', slug: 'loan-calculator', category: 'Finance', description: 'Calculate loan payments and interest' },\n  { name: 'Auto Loan Calculator', slug: 'auto-loan-calculator', category: 'Finance', description: 'Calculate car loan payments' },\n  { name: 'Student Loan Calculator', slug: 'student-loan-calculator', category: 'Finance', description: 'Calculate student loan payments' },\n  { name: 'Personal Loan Calculator', slug: 'personal-loan-calculator', category: 'Finance', description: 'Calculate personal loan payments' },\n  { name: 'Interest Calculator', slug: 'interest-calculator', category: 'Finance', description: 'Calculate simple and compound interest' },\n  { name: 'Compound Interest Calculator', slug: 'compound-interest-calculator', category: 'Finance', description: 'Calculate compound interest growth' },\n  { name: 'Simple Interest Calculator', slug: 'simple-interest-calculator', category: 'Finance', description: 'Calculate simple interest' },\n  { name: 'Amortization Calculator', slug: 'amortization-calculator', category: 'Finance', description: 'Generate loan amortization schedule' },\n  { name: 'Payment Calculator', slug: 'payment-calculator', category: 'Finance', description: 'Calculate various payment amounts' },\n  { name: 'Investment Calculator', slug: 'investment-calculator', category: 'Finance', description: 'Calculate investment growth' },\n  { name: 'ROI Calculator', slug: 'roi-calculator', category: 'Finance', description: 'Calculate return on investment' },\n  { name: 'Retirement Calculator', slug: 'retirement-calculator', category: 'Finance', description: 'Plan for retirement savings' },\n  { name: '401(k) Calculator', slug: '401k-calculator', category: 'Finance', description: 'Calculate 401(k) contributions and growth' },\n  { name: 'Roth IRA Calculator', slug: 'roth-ira-calculator', category: 'Finance', description: 'Calculate Roth IRA growth' },\n  { name: 'Savings Calculator', slug: 'savings-calculator', category: 'Finance', description: 'Calculate savings growth over time' },\n  { name: 'Inflation Calculator', slug: 'inflation-calculator', category: 'Finance', description: 'Calculate inflation adjusted values' },\n  { name: 'Salary Calculator', slug: 'salary-calculator', category: 'Finance', description: 'Convert salary between different periods' },\n  { name: 'Hourly to Salary Converter', slug: 'hourly-to-salary', category: 'Finance', description: 'Convert hourly wage to annual salary' },\n  { name: 'Salary to Hourly Converter', slug: 'salary-to-hourly', category: 'Finance', description: 'Convert annual salary to hourly wage' },\n  { name: 'Paycheck Calculator', slug: 'paycheck-calculator', category: 'Finance', description: 'Calculate take-home pay after taxes' },\n  { name: 'Income Tax Calculator', slug: 'tax-calculator', category: 'Finance', description: 'Calculate federal and state income tax' },\n  { name: 'Sales Tax Calculator', slug: 'sales-tax-calculator', category: 'Finance', description: 'Calculate sales tax on purchases' },\n  { name: 'VAT Calculator', slug: 'vat-calculator', category: 'Finance', description: 'Calculate value-added tax' },\n  { name: 'Property Tax Calculator', slug: 'property-tax-calculator', category: 'Finance', description: 'Calculate annual property taxes' },\n  { name: 'Tip Calculator', slug: 'tip-calculator', category: 'Finance', description: 'Calculate tips and split bills' },\n  { name: 'Discount Calculator', slug: 'discount-calculator', category: 'Finance', description: 'Calculate discounts and sale prices' },\n  { name: 'Markup Calculator', slug: 'markup-calculator', category: 'Finance', description: 'Calculate markup and selling price' },\n  { name: 'Profit Margin Calculator', slug: 'margin-calculator', category: 'Finance', description: 'Calculate profit margins' },\n  { name: 'Depreciation Calculator', slug: 'depreciation-calculator', category: 'Finance', description: 'Calculate asset depreciation' },\n  { name: 'Lease Calculator', slug: 'lease-calculator', category: 'Finance', description: 'Calculate lease payments' },\n  { name: 'Rent Calculator', slug: 'rent-calculator', category: 'Finance', description: 'Calculate affordable rent payments' },\n  { name: 'Budget Calculator', slug: 'budget-calculator', category: 'Finance', description: 'Create and manage budgets' },\n  { name: 'Debt Calculator', slug: 'debt-calculator', category: 'Finance', description: 'Calculate debt payoff strategies' },\n  { name: 'Credit Card Calculator', slug: 'credit-card-calculator', category: 'Finance', description: 'Calculate credit card payments and payoff time' },\n  { name: 'APR Calculator', slug: 'apr-calculator', category: 'Finance', description: 'Calculate annual percentage rate' },\n  { name: 'APY Calculator', slug: 'apy-calculator', category: 'Finance', description: 'Calculate annual percentage yield' },\n  { name: 'Net Worth Calculator', slug: 'net-worth-calculator', category: 'Finance', description: 'Calculate your net worth' },\n  { name: 'Mortgage Refinance Calculator', slug: 'mortgage-refinance-calculator', category: 'Finance', description: 'Calculate refinancing benefits' },\n  { name: 'Home Affordability Calculator', slug: 'home-affordability-calculator', category: 'Finance', description: 'Calculate how much house you can afford' },\n  { name: 'Rent vs Buy Calculator', slug: 'rent-vs-buy-calculator', category: 'Finance', description: 'Compare renting vs buying a home' },\n  { name: 'Closing Costs Calculator', slug: 'closing-costs-calculator', category: 'Finance', description: 'Calculate home closing costs' },\n  { name: 'Commission Calculator', slug: 'commission-calculator', category: 'Finance', description: 'Calculate sales commissions' },\n  { name: 'Currency Converter', slug: 'currency-converter', category: 'Finance', description: 'Convert between currencies' },\n  { name: 'Stock Calculator', slug: 'stock-calculator', category: 'Finance', description: 'Calculate stock gains and losses' },\n  { name: 'Dividend Calculator', slug: 'dividend-calculator', category: 'Finance', description: 'Calculate dividend income' },\n  { name: 'Bond Calculator', slug: 'bond-calculator', category: 'Finance', description: 'Calculate bond yields and returns' },\n  { name: 'FIRE Calculator', slug: 'fire-calculator', category: 'Finance', description: 'Calculate financial independence timeline' },\n  { name: 'College Savings Calculator', slug: 'college-savings-calculator', category: 'Finance', description: 'Plan for college education costs' },\n  { name: 'Annuity Calculator', slug: 'annuity-calculator', category: 'Finance', description: 'Calculate annuity payments and values' },\n\n  // Health Calculators (25)\n  { name: 'BMI Calculator', slug: 'bmi-calculator', category: 'Health', description: 'Calculate body mass index' },\n  { name: 'Calorie Calculator', slug: 'calorie-calculator', category: 'Health', description: 'Calculate daily calorie needs' },\n  { name: 'TDEE Calculator', slug: 'tdee-calculator', category: 'Health', description: 'Calculate total daily energy expenditure' },\n  { name: 'BMR Calculator', slug: 'bmr-calculator', category: 'Health', description: 'Calculate basal metabolic rate' },\n  { name: 'Body Fat Calculator', slug: 'body-fat-calculator', category: 'Health', description: 'Calculate body fat percentage' },\n  { name: 'Ideal Weight Calculator', slug: 'ideal-weight-calculator', category: 'Health', description: 'Calculate ideal body weight' },\n  { name: 'Lean Body Mass Calculator', slug: 'lean-body-mass-calculator', category: 'Health', description: 'Calculate lean body mass' },\n  { name: 'Protein Calculator', slug: 'protein-calculator', category: 'Health', description: 'Calculate daily protein needs' },\n  { name: 'Carbohydrate Calculator', slug: 'carb-calculator', category: 'Health', description: 'Calculate daily carb needs' },\n  { name: 'Macro Calculator', slug: 'macro-calculator', category: 'Health', description: 'Calculate macronutrient ratios' },\n  { name: 'Water Intake Calculator', slug: 'water-intake-calculator', category: 'Health', description: 'Calculate daily water needs' },\n  { name: 'Pregnancy Calculator', slug: 'pregnancy-calculator', category: 'Health', description: 'Track pregnancy progress' },\n  { name: 'Due Date Calculator', slug: 'due-date-calculator', category: 'Health', description: 'Calculate pregnancy due date' },\n  { name: 'Ovulation Calculator', slug: 'ovulation-calculator', category: 'Health', description: 'Calculate ovulation dates' },\n  { name: 'Conception Calculator', slug: 'conception-calculator', category: 'Health', description: 'Calculate conception date' },\n  { name: 'Pace Calculator', slug: 'pace-calculator', category: 'Health', description: 'Calculate running pace and speed' },\n  { name: 'Running Calculator', slug: 'running-calculator', category: 'Health', description: 'Calculate running times and distances' },\n  { name: 'Target Heart Rate Calculator', slug: 'heart-rate-calculator', category: 'Health', description: 'Calculate target heart rate zones' },\n  { name: 'VO2 Max Calculator', slug: 'vo2-max-calculator', category: 'Health', description: 'Calculate maximum oxygen uptake' },\n  { name: 'Blood Pressure Calculator', slug: 'blood-pressure-calculator', category: 'Health', description: 'Track and calculate blood pressure' },\n  { name: 'Blood Alcohol Calculator', slug: 'bac-calculator', category: 'Health', description: 'Calculate blood alcohol content' },\n  { name: 'Sleep Calculator', slug: 'sleep-calculator', category: 'Health', description: 'Calculate optimal sleep and wake times' },\n  { name: 'Period Calculator', slug: 'period-calculator', category: 'Health', description: 'Track menstrual cycle' },\n  { name: 'Body Type Calculator', slug: 'body-type-calculator', category: 'Health', description: 'Determine body type' },\n  { name: 'One Rep Max Calculator', slug: 'one-rep-max-calculator', category: 'Health', description: 'Calculate maximum lift capacity' },\n\n  // Other Calculators (75)\n  { name: 'Age Calculator', slug: 'age-calculator', category: 'Other', description: 'Calculate age in years, months, and days' },\n  { name: 'Date Calculator', slug: 'date-calculator', category: 'Other', description: 'Add or subtract days from dates' },\n  { name: 'Time Calculator', slug: 'time-calculator', category: 'Other', description: 'Add, subtract, and convert time' },\n  { name: 'Hours Calculator', slug: 'hours-calculator', category: 'Other', description: 'Calculate hours worked and time differences' },\n  { name: 'Time Zone Converter', slug: 'time-zone-converter', category: 'Other', description: 'Convert time between time zones' },\n  { name: 'GPA Calculator', slug: 'gpa-calculator', category: 'Other', description: 'Calculate grade point average' },\n  { name: 'Grade Calculator', slug: 'grade-calculator', category: 'Other', description: 'Calculate final grades and scores' },\n  { name: 'Test Grade Calculator', slug: 'test-grade-calculator', category: 'Other', description: 'Calculate test scores and percentages' },\n  { name: 'Final Grade Calculator', slug: 'final-grade-calculator', category: 'Other', description: 'Calculate what you need on final exam' },\n  { name: 'Weighted Grade Calculator', slug: 'weighted-grade-calculator', category: 'Other', description: 'Calculate weighted average grades' },\n  { name: 'Concrete Calculator', slug: 'concrete-calculator', category: 'Other', description: 'Calculate concrete volume and materials' },\n  { name: 'Paint Calculator', slug: 'paint-calculator', category: 'Other', description: 'Calculate paint needed for rooms' },\n  { name: 'Flooring Calculator', slug: 'flooring-calculator', category: 'Other', description: 'Calculate flooring materials needed' },\n  { name: 'Tile Calculator', slug: 'tile-calculator', category: 'Other', description: 'Calculate tiles needed for projects' },\n  { name: 'Gravel Calculator', slug: 'gravel-calculator', category: 'Other', description: 'Calculate gravel needed for projects' },\n  { name: 'Mulch Calculator', slug: 'mulch-calculator', category: 'Other', description: 'Calculate mulch needed for landscaping' },\n  { name: 'Soil Calculator', slug: 'soil-calculator', category: 'Other', description: 'Calculate soil needed for gardening' },\n  { name: 'Square Footage Calculator', slug: 'square-footage-calculator', category: 'Other', description: 'Calculate area in square feet' },\n  { name: 'Roof Calculator', slug: 'roof-calculator', category: 'Other', description: 'Calculate roofing materials needed' },\n  { name: 'Fence Calculator', slug: 'fence-calculator', category: 'Other', description: 'Calculate fencing materials needed' },\n  { name: 'Password Generator', slug: 'password-generator', category: 'Other', description: 'Generate secure passwords' },\n  { name: 'IP Subnet Calculator', slug: 'subnet-calculator', category: 'Other', description: 'Calculate IP subnets and network ranges' },\n  { name: 'Binary Converter', slug: 'binary-converter', category: 'Other', description: 'Convert between binary and decimal' },\n  { name: 'Text Compare Tool', slug: 'text-compare', category: 'Other', description: 'Compare two text documents' },\n  { name: 'Word Counter', slug: 'word-counter', category: 'Other', description: 'Count words and characters in text' },\n  { name: 'Character Counter', slug: 'character-counter', category: 'Other', description: 'Count characters in text' },\n  { name: 'Case Converter', slug: 'case-converter', category: 'Other', description: 'Convert text case' },\n  { name: 'Temperature Converter', slug: 'temperature-converter', category: 'Other', description: 'Convert between temperature units' },\n  { name: 'Length Converter', slug: 'length-converter', category: 'Other', description: 'Convert between length units' },\n  { name: 'Weight Converter', slug: 'weight-converter', category: 'Other', description: 'Convert between weight units' },\n  { name: 'Volume Converter', slug: 'volume-converter', category: 'Other', description: 'Convert between volume units' },\n  { name: 'Area Converter', slug: 'area-converter', category: 'Other', description: 'Convert between area units' },\n  { name: 'Speed Converter', slug: 'speed-converter', category: 'Other', description: 'Convert between speed units' },\n  { name: 'Time Converter', slug: 'time-converter', category: 'Other', description: 'Convert between time units' },\n  { name: 'Pressure Converter', slug: 'pressure-converter', category: 'Other', description: 'Convert between pressure units' },\n  { name: 'Energy Converter', slug: 'energy-converter', category: 'Other', description: 'Convert between energy units' },\n  { name: 'Power Converter', slug: 'power-converter', category: 'Other', description: 'Convert between power units' },\n  { name: 'Fuel Economy Calculator', slug: 'fuel-calculator', category: 'Other', description: 'Calculate fuel economy and costs' },\n  { name: 'Gas Mileage Calculator', slug: 'gas-mileage-calculator', category: 'Other', description: 'Calculate miles per gallon' },\n  { name: 'Car Payment Calculator', slug: 'car-payment-calculator', category: 'Other', description: 'Calculate monthly car payments' },\n  { name: 'Tire Size Calculator', slug: 'tire-size-calculator', category: 'Other', description: 'Compare tire sizes and specifications' },\n  { name: 'Miles to Kilometers', slug: 'miles-to-km', category: 'Other', description: 'Convert miles to kilometers' },\n  { name: 'Kilograms to Pounds', slug: 'kg-to-lbs', category: 'Other', description: 'Convert kilograms to pounds' },\n  { name: 'Centimeters to Inches', slug: 'cm-to-inches', category: 'Other', description: 'Convert centimeters to inches' },\n  { name: 'Feet to Meters', slug: 'feet-to-meters', category: 'Other', description: 'Convert feet to meters' },\n  { name: 'Gallons to Liters', slug: 'gallons-to-liters', category: 'Other', description: 'Convert gallons to liters' },\n  { name: 'Celsius to Fahrenheit', slug: 'celsius-to-fahrenheit', category: 'Other', description: 'Convert Celsius to Fahrenheit' },\n  { name: 'BTU Calculator', slug: 'btu-calculator', category: 'Other', description: 'Calculate BTU requirements' },\n  { name: 'AC Unit Size Calculator', slug: 'air-conditioner-calculator', category: 'Other', description: 'Calculate air conditioner size needed' },\n  { name: 'Electricity Cost Calculator', slug: 'electricity-calculator', category: 'Other', description: 'Calculate electricity usage costs' },\n  { name: 'Carbon Footprint Calculator', slug: 'carbon-footprint-calculator', category: 'Other', description: 'Calculate your carbon footprint' },\n  { name: 'Dog Age Calculator', slug: 'dog-age-calculator', category: 'Other', description: 'Convert dog years to human years' },\n  { name: 'Cat Age Calculator', slug: 'cat-age-calculator', category: 'Other', description: 'Convert cat years to human years' },\n  { name: 'Pet Food Calculator', slug: 'pet-food-calculator', category: 'Other', description: 'Calculate pet food portions' },\n  { name: 'Aquarium Calculator', slug: 'aquarium-calculator', category: 'Other', description: 'Calculate aquarium volume and requirements' },\n  { name: 'Lottery Calculator', slug: 'lottery-calculator', category: 'Other', description: 'Calculate lottery odds and payouts' },\n  { name: 'Probability Calculator', slug: 'probability-calculator', category: 'Other', description: 'Calculate statistical probabilities' },\n  { name: 'Odds Calculator', slug: 'odds-calculator', category: 'Other', description: 'Convert between odds formats' },\n  { name: 'Dice Roller', slug: 'dice-roller', category: 'Other', description: 'Roll virtual dice' },\n  { name: 'Coin Flip Simulator', slug: 'coin-flip', category: 'Other', description: 'Flip virtual coins' },\n  { name: 'Wedding Budget Calculator', slug: 'wedding-budget-calculator', category: 'Other', description: 'Plan wedding expenses' },\n  { name: 'Party Cost Calculator', slug: 'party-calculator', category: 'Other', description: 'Calculate party costs per person' },\n  { name: 'Recipe Converter', slug: 'recipe-converter', category: 'Other', description: 'Scale recipe ingredients' },\n  { name: 'Cooking Time Calculator', slug: 'cooking-time-calculator', category: 'Other', description: 'Calculate cooking times' },\n  { name: 'Batch Calculator', slug: 'batch-calculator', category: 'Other', description: 'Scale recipes for different batch sizes' },\n  { name: 'Pizza Dough Calculator', slug: 'pizza-calculator', category: 'Other', description: 'Calculate pizza dough ingredients' },\n  { name: 'Screen Size Calculator', slug: 'screen-size-calculator', category: 'Other', description: 'Calculate screen dimensions' },\n  { name: 'Aspect Ratio Calculator', slug: 'aspect-ratio-calculator', category: 'Other', description: 'Calculate aspect ratios' },\n  { name: 'DPI Calculator', slug: 'dpi-calculator', category: 'Other', description: 'Calculate dots per inch' },\n  { name: 'Pixels to Inches', slug: 'pixels-to-inches', category: 'Other', description: 'Convert pixels to inches' },\n  { name: 'Golden Ratio Calculator', slug: 'golden-ratio-calculator', category: 'Other', description: 'Calculate golden ratio proportions' },\n  { name: 'Birthday Calculator', slug: 'birthday-calculator', category: 'Other', description: 'Calculate birthday information' },\n  { name: 'Days Until Calculator', slug: 'days-until-calculator', category: 'Other', description: 'Calculate days until future date' },\n];\n\nexport const getCalculatorsByCategory = (category: string) => {\n  return calculatorsData.filter(calc => calc.category === category);\n};\n\nexport const getAllCalculators = () => calculatorsData;\n\nexport const searchCalculators = (query: string) => {\n  const lowercaseQuery = query.toLowerCase();\n  return calculatorsData.filter(calc => \n    calc.name.toLowerCase().includes(lowercaseQuery) ||\n    calc.description.toLowerCase().includes(lowercaseQuery) ||\n    calc.category.toLowerCase().includes(lowercaseQuery)\n  );\n};\n","size_bytes":26763},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2263},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5128},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1383},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","size_bytes":2751},"client/src/lib/calculatorEngineNew.ts":{"content":"// New calculator engine using registry-based approach\n// Routes calculations to appropriate handlers based on configuration\n\nimport { calculatorRegistry } from './calculatorConfig';\nimport {\n  handleArithmetic,\n  handlePercentage,\n  handleStatistics,\n  handleNumberTheory,\n  handleAlgebra,\n  handleGeometry,\n  handleTrigonometry,\n  handleConversion,\n  handleLoan,\n  handleInvestment,\n  handleSalary,\n  handleTaxDiscount,\n  handleHealthBMI,\n  handleHealthCalories,\n  handleHealthFitness,\n  handleDateTime,\n  handleGrade,\n  handleConstruction,\n  handleText,\n  handleRandom,\n  handleGenerator,\n  handleOther\n} from './calculatorHandlers';\n\nexport interface CalculatorInputs {\n  [key: string]: string;\n}\n\nexport function performCalculation(slug: string, inputs: CalculatorInputs): string {\n  try {\n    // Get configuration for this calculator\n    const config = calculatorRegistry[slug];\n    \n    if (!config) {\n      // Fallback for calculators not in registry\n      return 'Calculation completed. Results will vary based on your inputs.';\n    }\n    \n    // Route to appropriate handler based on handler type\n    switch (config.handler) {\n      case 'arithmetic':\n        return handleArithmetic(slug, inputs);\n      \n      case 'percentage':\n        return handlePercentage(slug, inputs);\n      \n      case 'statistics':\n        return handleStatistics(slug, inputs);\n      \n      case 'number-theory':\n        return handleNumberTheory(slug, inputs);\n      \n      case 'algebra':\n        return handleAlgebra(slug, inputs);\n      \n      case 'geometry':\n        return handleGeometry(slug, inputs);\n      \n      case 'trigonometry':\n        return handleTrigonometry(slug, inputs);\n      \n      case 'conversion':\n        return handleConversion(slug, inputs);\n      \n      case 'loan':\n        return handleLoan(slug, inputs);\n      \n      case 'investment':\n        return handleInvestment(slug, inputs);\n      \n      case 'salary':\n        return handleSalary(slug, inputs);\n      \n      case 'tax-discount':\n        return handleTaxDiscount(slug, inputs);\n      \n      case 'health-bmi':\n        return handleHealthBMI(slug, inputs);\n      \n      case 'health-calories':\n        return handleHealthCalories(slug, inputs);\n      \n      case 'health-fitness':\n        return handleHealthFitness(slug, inputs);\n      \n      case 'date-time':\n        return handleDateTime(slug, inputs);\n      \n      case 'grade':\n        return handleGrade(slug, inputs);\n      \n      case 'construction':\n        return handleConstruction(slug, inputs);\n      \n      case 'text':\n        return handleText(slug, inputs);\n      \n      case 'random':\n        return handleRandom(slug, inputs);\n      \n      case 'generator':\n        return handleGenerator(slug, inputs);\n      \n      case 'other':\n      default:\n        return handleOther(slug, inputs);\n    }\n  } catch (error) {\n    console.error('Calculation error:', error);\n    return 'Error in calculation. Please check your inputs and try again.';\n  }\n}\n","size_bytes":2995},"server/replitAuth.ts":{"content":"import * as client from \"openid-client\";\nimport { Strategy, type VerifyFunction } from \"openid-client/passport\";\n\nimport passport from \"passport\";\nimport session from \"express-session\";\nimport type { Express, RequestHandler } from \"express\";\nimport memoize from \"memoizee\";\nimport connectPg from \"connect-pg-simple\";\nimport { storage } from \"./storage\";\n\nif (!process.env.REPLIT_DOMAINS) {\n  throw new Error(\"Environment variable REPLIT_DOMAINS not provided\");\n}\n\nconst getOidcConfig = memoize(\n  async () => {\n    return await client.discovery(\n      new URL(process.env.ISSUER_URL ?? \"https://replit.com/oidc\"),\n      process.env.REPL_ID!\n    );\n  },\n  { maxAge: 3600 * 1000 }\n);\n\nexport function getSession() {\n  const sessionTtl = 7 * 24 * 60 * 60 * 1000; // 1 week\n  const pgStore = connectPg(session);\n  const sessionStore = new pgStore({\n    conString: process.env.DATABASE_URL,\n    createTableIfMissing: false,\n    ttl: sessionTtl,\n    tableName: \"sessions\",\n  });\n  return session({\n    secret: process.env.SESSION_SECRET!,\n    store: sessionStore,\n    resave: false,\n    saveUninitialized: false,\n    cookie: {\n      httpOnly: true,\n      secure: true,\n      maxAge: sessionTtl,\n    },\n  });\n}\n\nfunction updateUserSession(\n  user: any,\n  tokens: client.TokenEndpointResponse & client.TokenEndpointResponseHelpers\n) {\n  user.claims = tokens.claims();\n  user.access_token = tokens.access_token;\n  user.refresh_token = tokens.refresh_token;\n  user.expires_at = user.claims?.exp;\n}\n\nasync function upsertUser(\n  claims: any,\n) {\n  await storage.upsertUser({\n    id: claims[\"sub\"],\n    email: claims[\"email\"],\n    firstName: claims[\"first_name\"],\n    lastName: claims[\"last_name\"],\n    profileImageUrl: claims[\"profile_image_url\"],\n  });\n}\n\nexport async function setupAuth(app: Express) {\n  app.set(\"trust proxy\", 1);\n  app.use(getSession());\n  app.use(passport.initialize());\n  app.use(passport.session());\n\n  const config = await getOidcConfig();\n\n  const verify: VerifyFunction = async (\n    tokens: client.TokenEndpointResponse & client.TokenEndpointResponseHelpers,\n    verified: passport.AuthenticateCallback\n  ) => {\n    const user = {};\n    updateUserSession(user, tokens);\n    await upsertUser(tokens.claims());\n    verified(null, user);\n  };\n\n  for (const domain of process.env\n    .REPLIT_DOMAINS!.split(\",\")) {\n    const strategy = new Strategy(\n      {\n        name: `replitauth:${domain}`,\n        config,\n        scope: \"openid email profile offline_access\",\n        callbackURL: `https://${domain}/api/callback`,\n      },\n      verify,\n    );\n    passport.use(strategy);\n  }\n\n  passport.serializeUser((user: Express.User, cb) => cb(null, user));\n  passport.deserializeUser((user: Express.User, cb) => cb(null, user));\n\n  app.get(\"/api/login\", (req, res, next) => {\n    passport.authenticate(`replitauth:${req.hostname}`, {\n      prompt: \"login consent\",\n      scope: [\"openid\", \"email\", \"profile\", \"offline_access\"],\n    })(req, res, next);\n  });\n\n  app.get(\"/api/callback\", (req, res, next) => {\n    passport.authenticate(`replitauth:${req.hostname}`, {\n      successReturnToOrRedirect: \"/\",\n      failureRedirect: \"/api/login\",\n    })(req, res, next);\n  });\n\n  app.get(\"/api/logout\", (req, res) => {\n    req.logout(() => {\n      res.redirect(\n        client.buildEndSessionUrl(config, {\n          client_id: process.env.REPL_ID!,\n          post_logout_redirect_uri: `${req.protocol}://${req.hostname}`,\n        }).href\n      );\n    });\n  });\n}\n\nexport const isAuthenticated: RequestHandler = async (req, res, next) => {\n  const user = req.user as any;\n\n  if (!req.isAuthenticated() || !user.expires_at) {\n    return res.status(401).json({ message: \"Unauthorized\" });\n  }\n\n  const now = Math.floor(Date.now() / 1000);\n  if (now <= user.expires_at) {\n    return next();\n  }\n\n  const refreshToken = user.refresh_token;\n  if (!refreshToken) {\n    res.status(401).json({ message: \"Unauthorized\" });\n    return;\n  }\n\n  try {\n    const config = await getOidcConfig();\n    const tokenResponse = await client.refreshTokenGrant(config, refreshToken);\n    updateUserSession(user, tokenResponse);\n    return next();\n  } catch (error) {\n    res.status(401).json({ message: \"Unauthorized\" });\n    return;\n  }\n};\n","size_bytes":4221},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1209},"client/src/lib/calculatorConfig.ts":{"content":"// Calculator configuration registry\n// Maps each calculator to its handler type, field requirements, and calculation logic\n\nexport type CalculatorHandler = \n  | 'arithmetic' // Basic math operations\n  | 'percentage' // Percentage calculations\n  | 'geometry' // Area, volume, perimeter\n  | 'trigonometry' // Sin, cos, tan\n  | 'algebra' // Equations, formulas\n  | 'statistics' // Mean, median, std dev\n  | 'number-theory' // Prime, factorial, GCF, LCM\n  | 'conversion' // Unit conversions (imperial default)\n  | 'loan' // Loan/mortgage calculations\n  | 'investment' // Savings, retirement, ROI\n  | 'salary' // Salary conversions\n  | 'tax-discount' // Tax, discount, markup\n  | 'health-bmi' // BMI, body measurements\n  | 'health-calories' // Calorie, TDEE, BMR\n  | 'health-fitness' // Pace, heart rate, VO2\n  | 'date-time' // Date and time calculations\n  | 'grade' // GPA, test scores\n  | 'construction' // Paint, concrete, flooring\n  | 'text' // Word count, case convert\n  | 'random' // Random numbers, dice, coins\n  | 'generator' // Password, etc\n  | 'other'; // Miscellaneous\n\nexport interface CalculatorConfig {\n  handler: CalculatorHandler;\n  fields: string[]; // Field IDs required\n  imperial?: boolean; // Use imperial units by default\n}\n\n// Registry mapping slug to configuration\nexport const calculatorRegistry: Record<string, CalculatorConfig> = {\n  // Math - Arithmetic & Basic\n  'basic-calculator': { handler: 'arithmetic', fields: ['expression'] },\n  'scientific-calculator': { handler: 'arithmetic', fields: ['expression'] },\n  'percentage-calculator': { handler: 'percentage', fields: ['value', 'percentage'] },\n  'ratio-calculator': { handler: 'arithmetic', fields: ['a', 'b'] },\n  'fraction-calculator': { handler: 'arithmetic', fields: ['numerator1', 'denominator1', 'operation', 'numerator2', 'denominator2'] },\n  'rounding-calculator': { handler: 'arithmetic', fields: ['number', 'decimals'] },\n  'absolute-value-calculator': { handler: 'arithmetic', fields: ['number'] },\n  'modulo-calculator': { handler: 'arithmetic', fields: ['a', 'b'] },\n  \n  // Math - Statistics\n  'average-calculator': { handler: 'statistics', fields: ['values'] },\n  'standard-deviation-calculator': { handler: 'statistics', fields: ['values'] },\n  \n  // Math - Number Theory\n  'random-number-generator': { handler: 'random', fields: ['min', 'max'] },\n  'factorial-calculator': { handler: 'number-theory', fields: ['number'] },\n  'combination-calculator': { handler: 'number-theory', fields: ['n', 'r'] },\n  'permutation-calculator': { handler: 'number-theory', fields: ['n', 'r'] },\n  'prime-number-calculator': { handler: 'number-theory', fields: ['number'] },\n  'lcm-calculator': { handler: 'number-theory', fields: ['a', 'b'] },\n  'gcf-calculator': { handler: 'number-theory', fields: ['a', 'b'] },\n  'divisibility-calculator': { handler: 'number-theory', fields: ['number', 'divisor'] },\n  \n  // Math - Algebra\n  'exponent-calculator': { handler: 'algebra', fields: ['base', 'exponent'] },\n  'square-root-calculator': { handler: 'algebra', fields: ['number'] },\n  'algebra-calculator': { handler: 'algebra', fields: ['equation'] },\n  'equation-solver': { handler: 'algebra', fields: ['equation'] },\n  'quadratic-formula-calculator': { handler: 'algebra', fields: ['a', 'b', 'c'] },\n  'log-calculator': { handler: 'algebra', fields: ['number', 'base'] },\n  'antilog-calculator': { handler: 'algebra', fields: ['number', 'base'] },\n  \n  // Math - Geometry\n  'circle-calculator': { handler: 'geometry', fields: ['radius'] },\n  'triangle-calculator': { handler: 'geometry', fields: ['side1', 'side2', 'side3'] },\n  'area-calculator': { handler: 'geometry', fields: ['shape', 'dimension1', 'dimension2'] },\n  'volume-calculator': { handler: 'geometry', fields: ['shape', 'dimension1', 'dimension2', 'dimension3'] },\n  'perimeter-calculator': { handler: 'geometry', fields: ['shape', 'sides'] },\n  'pythagorean-theorem-calculator': { handler: 'geometry', fields: ['a', 'b'] },\n  \n  // Math - Coordinate Geometry\n  'slope-calculator': { handler: 'algebra', fields: ['x1', 'y1', 'x2', 'y2'] },\n  'distance-calculator': { handler: 'algebra', fields: ['x1', 'y1', 'x2', 'y2'] },\n  'midpoint-calculator': { handler: 'algebra', fields: ['x1', 'y1', 'x2', 'y2'] },\n  \n  // Math - Trigonometry\n  'sine-calculator': { handler: 'trigonometry', fields: ['angle'] },\n  'cosine-calculator': { handler: 'trigonometry', fields: ['angle'] },\n  'tangent-calculator': { handler: 'trigonometry', fields: ['angle'] },\n  \n  // Math - Number Systems\n  'decimal-to-fraction': { handler: 'conversion', fields: ['decimal'] },\n  'fraction-to-decimal': { handler: 'conversion', fields: ['numerator', 'denominator'] },\n  'mixed-number-calculator': { handler: 'arithmetic', fields: ['whole', 'numerator', 'denominator'] },\n  'binary-calculator': { handler: 'conversion', fields: ['number', 'operation'] },\n  'hex-calculator': { handler: 'conversion', fields: ['number', 'operation'] },\n  'octal-calculator': { handler: 'conversion', fields: ['number', 'operation'] },\n  'base-converter': { handler: 'conversion', fields: ['number', 'fromBase', 'toBase'] },\n  'binary-converter': { handler: 'conversion', fields: ['number', 'fromBase', 'toBase'] },\n  'sig-fig-calculator': { handler: 'arithmetic', fields: ['number', 'sigfigs'] },\n  \n  // Math - Advanced (placeholder calculations)\n  'matrix-calculator': { handler: 'other', fields: ['matrix'] },\n  'integral-calculator': { handler: 'other', fields: ['function'] },\n  'derivative-calculator': { handler: 'other', fields: ['function'] },\n  'limit-calculator': { handler: 'other', fields: ['function'] },\n  'series-calculator': { handler: 'other', fields: ['sequence'] },\n  \n  // Finance - Loans\n  'mortgage-calculator': { handler: 'loan', fields: ['principal', 'rate', 'term'] },\n  'loan-calculator': { handler: 'loan', fields: ['principal', 'rate', 'term'] },\n  'auto-loan-calculator': { handler: 'loan', fields: ['principal', 'rate', 'term'] },\n  'student-loan-calculator': { handler: 'loan', fields: ['principal', 'rate', 'term'] },\n  'personal-loan-calculator': { handler: 'loan', fields: ['principal', 'rate', 'term'] },\n  'amortization-calculator': { handler: 'loan', fields: ['principal', 'rate', 'term'] },\n  'payment-calculator': { handler: 'loan', fields: ['principal', 'rate', 'term'] },\n  'lease-calculator': { handler: 'loan', fields: ['price', 'residual', 'rate', 'term'] },\n  'mortgage-refinance-calculator': { handler: 'loan', fields: ['balance', 'rate', 'term', 'newRate'] },\n  \n  // Finance - Interest\n  'interest-calculator': { handler: 'investment', fields: ['principal', 'rate', 'time', 'frequency'] },\n  'compound-interest-calculator': { handler: 'investment', fields: ['principal', 'rate', 'time', 'frequency'] },\n  'simple-interest-calculator': { handler: 'investment', fields: ['principal', 'rate', 'time'] },\n  \n  // Finance - Investment\n  'investment-calculator': { handler: 'investment', fields: ['initial', 'monthly', 'rate', 'years'] },\n  'roi-calculator': { handler: 'investment', fields: ['initial', 'final'] },\n  'retirement-calculator': { handler: 'investment', fields: ['initial', 'monthly', 'rate', 'years'] },\n  '401k-calculator': { handler: 'investment', fields: ['initial', 'monthly', 'rate', 'years'] },\n  'roth-ira-calculator': { handler: 'investment', fields: ['initial', 'monthly', 'rate', 'years'] },\n  'savings-calculator': { handler: 'investment', fields: ['initial', 'monthly', 'rate', 'years'] },\n  'college-savings-calculator': { handler: 'investment', fields: ['initial', 'monthly', 'rate', 'years'] },\n  'annuity-calculator': { handler: 'investment', fields: ['payment', 'rate', 'periods'] },\n  'fire-calculator': { handler: 'investment', fields: ['expenses', 'savings', 'rate'] },\n  \n  // Finance - Salary\n  'salary-calculator': { handler: 'salary', fields: ['hourly', 'hoursPerWeek'] },\n  'hourly-to-salary': { handler: 'salary', fields: ['hourly', 'hoursPerWeek'] },\n  'salary-to-hourly': { handler: 'salary', fields: ['annual', 'hoursPerWeek'] },\n  'paycheck-calculator': { handler: 'salary', fields: ['salary', 'frequency', 'taxRate'] },\n  \n  // Finance - Tax & Discounts\n  'tip-calculator': { handler: 'tax-discount', fields: ['bill', 'tip', 'people'] },\n  'discount-calculator': { handler: 'tax-discount', fields: ['original', 'discount'] },\n  'markup-calculator': { handler: 'tax-discount', fields: ['cost', 'markup'] },\n  'margin-calculator': { handler: 'tax-discount', fields: ['revenue', 'cost'] },\n  'sales-tax-calculator': { handler: 'tax-discount', fields: ['price', 'taxRate'] },\n  'tax-calculator': { handler: 'tax-discount', fields: ['income', 'deductions'] },\n  'vat-calculator': { handler: 'tax-discount', fields: ['price', 'vatRate'] },\n  'property-tax-calculator': { handler: 'tax-discount', fields: ['value', 'rate'] },\n  'commission-calculator': { handler: 'tax-discount', fields: ['sales', 'rate'] },\n  \n  // Finance - Other\n  'inflation-calculator': { handler: 'investment', fields: ['amount', 'years', 'rate'] },\n  'depreciation-calculator': { handler: 'investment', fields: ['cost', 'salvage', 'years'] },\n  'rent-calculator': { handler: 'other', fields: ['income'] },\n  'budget-calculator': { handler: 'other', fields: ['income', 'expenses'] },\n  'debt-calculator': { handler: 'loan', fields: ['balance', 'payment', 'rate'] },\n  'credit-card-calculator': { handler: 'loan', fields: ['balance', 'apr', 'payment'] },\n  'apr-calculator': { handler: 'investment', fields: ['principal', 'fee', 'term'] },\n  'apy-calculator': { handler: 'investment', fields: ['rate', 'frequency'] },\n  'net-worth-calculator': { handler: 'other', fields: ['assets', 'liabilities'] },\n  'home-affordability-calculator': { handler: 'loan', fields: ['income', 'debt', 'downPayment'] },\n  'rent-vs-buy-calculator': { handler: 'other', fields: ['rent', 'price', 'downPayment'] },\n  'closing-costs-calculator': { handler: 'tax-discount', fields: ['price', 'rate'] },\n  'currency-converter': { handler: 'conversion', fields: ['amount', 'from', 'to'] },\n  'stock-calculator': { handler: 'investment', fields: ['shares', 'buyPrice', 'sellPrice'] },\n  'dividend-calculator': { handler: 'investment', fields: ['shares', 'dividend'] },\n  'bond-calculator': { handler: 'investment', fields: ['faceValue', 'coupon', 'years'] },\n  \n  // Health\n  'bmi-calculator': { handler: 'health-bmi', fields: ['weight', 'heightFeet', 'heightInches'], imperial: true },\n  'calorie-calculator': { handler: 'health-calories', fields: ['weight', 'heightFeet', 'heightInches', 'age', 'gender', 'activityLevel'], imperial: true },\n  'tdee-calculator': { handler: 'health-calories', fields: ['weight', 'heightFeet', 'heightInches', 'age', 'gender', 'activityLevel'], imperial: true },\n  'bmr-calculator': { handler: 'health-calories', fields: ['weight', 'heightFeet', 'heightInches', 'age', 'gender', 'activityLevel'], imperial: true },\n  'body-fat-calculator': { handler: 'health-bmi', fields: ['weight', 'waist', 'neck', 'heightFeet', 'heightInches', 'gender'], imperial: true },\n  'ideal-weight-calculator': { handler: 'health-bmi', fields: ['heightFeet', 'heightInches', 'gender'], imperial: true },\n  'lean-body-mass-calculator': { handler: 'health-bmi', fields: ['weight', 'bodyFat'], imperial: true },\n  'protein-calculator': { handler: 'health-calories', fields: ['weight', 'activityLevel'], imperial: true },\n  'carb-calculator': { handler: 'health-calories', fields: ['weight', 'activityLevel'], imperial: true },\n  'macro-calculator': { handler: 'health-calories', fields: ['weight', 'goal', 'activityLevel'], imperial: true },\n  'water-intake-calculator': { handler: 'health-calories', fields: ['weight'], imperial: true },\n  'pace-calculator': { handler: 'health-fitness', fields: ['distance', 'time'] },\n  'running-calculator': { handler: 'health-fitness', fields: ['distance', 'time'] },\n  'heart-rate-calculator': { handler: 'health-fitness', fields: ['age', 'restingHR'] },\n  'vo2-max-calculator': { handler: 'health-fitness', fields: ['distance', 'time'] },\n  'blood-pressure-calculator': { handler: 'other', fields: ['systolic', 'diastolic'] },\n  'bac-calculator': { handler: 'health-fitness', fields: ['weight', 'drinks', 'hours', 'gender'], imperial: true },\n  'sleep-calculator': { handler: 'date-time', fields: ['bedtime', 'wakeup'] },\n  'one-rep-max-calculator': { handler: 'health-fitness', fields: ['weight', 'reps'] },\n  'pregnancy-calculator': { handler: 'date-time', fields: ['lastPeriod'] },\n  'due-date-calculator': { handler: 'date-time', fields: ['lastPeriod'] },\n  'ovulation-calculator': { handler: 'date-time', fields: ['lastPeriod', 'cycleLength'] },\n  'conception-calculator': { handler: 'date-time', fields: ['dueDate'] },\n  'period-calculator': { handler: 'date-time', fields: ['lastPeriod', 'cycleLength'] },\n  'body-type-calculator': { handler: 'other', fields: ['measurements'] },\n  \n  // Other - Date & Time\n  'age-calculator': { handler: 'date-time', fields: ['birthDate'] },\n  'date-calculator': { handler: 'date-time', fields: ['startDate', 'days'] },\n  'time-calculator': { handler: 'date-time', fields: ['time1', 'time2'] },\n  'hours-calculator': { handler: 'date-time', fields: ['startTime', 'endTime'] },\n  'time-zone-converter': { handler: 'date-time', fields: ['time', 'fromZone', 'toZone'] },\n  'birthday-calculator': { handler: 'date-time', fields: ['birthDate'] },\n  'days-until-calculator': { handler: 'date-time', fields: ['targetDate'] },\n  \n  // Other - Grades\n  'gpa-calculator': { handler: 'grade', fields: ['grades'] },\n  'grade-calculator': { handler: 'grade', fields: ['scores', 'weights'] },\n  'test-grade-calculator': { handler: 'grade', fields: ['correct', 'total'] },\n  'final-grade-calculator': { handler: 'grade', fields: ['current', 'finalWeight', 'targetGrade'] },\n  'weighted-grade-calculator': { handler: 'grade', fields: ['scores', 'weights'] },\n  \n  // Other - Construction\n  'concrete-calculator': { handler: 'construction', fields: ['length', 'width', 'depth'], imperial: true },\n  'paint-calculator': { handler: 'construction', fields: ['sqft', 'coats'] },\n  'flooring-calculator': { handler: 'construction', fields: ['length', 'width'], imperial: true },\n  'tile-calculator': { handler: 'construction', fields: ['roomLength', 'roomWidth', 'tileLength', 'tileWidth'], imperial: true },\n  'gravel-calculator': { handler: 'construction', fields: ['length', 'width', 'depth'], imperial: true },\n  'mulch-calculator': { handler: 'construction', fields: ['length', 'width', 'depth'], imperial: true },\n  'soil-calculator': { handler: 'construction', fields: ['length', 'width', 'depth'], imperial: true },\n  'square-footage-calculator': { handler: 'construction', fields: ['length', 'width'], imperial: true },\n  'roof-calculator': { handler: 'construction', fields: ['length', 'width', 'pitch'], imperial: true },\n  'fence-calculator': { handler: 'construction', fields: ['perimeter', 'height'], imperial: true },\n  \n  // Other - Conversions\n  'temperature-converter': { handler: 'conversion', fields: ['fahrenheit'], imperial: true },\n  'length-converter': { handler: 'conversion', fields: ['feet'], imperial: true },\n  'weight-converter': { handler: 'conversion', fields: ['pounds'], imperial: true },\n  'volume-converter': { handler: 'conversion', fields: ['gallons'], imperial: true },\n  'area-converter': { handler: 'conversion', fields: ['sqft'], imperial: true },\n  'speed-converter': { handler: 'conversion', fields: ['mph'], imperial: true },\n  'time-converter': { handler: 'conversion', fields: ['hours'] },\n  'pressure-converter': { handler: 'conversion', fields: ['psi'], imperial: true },\n  'energy-converter': { handler: 'conversion', fields: ['btus'], imperial: true },\n  'power-converter': { handler: 'conversion', fields: ['watts'] },\n  'miles-to-km': { handler: 'conversion', fields: ['miles'], imperial: true },\n  'kg-to-lbs': { handler: 'conversion', fields: ['pounds'], imperial: true },\n  'cm-to-inches': { handler: 'conversion', fields: ['inches'], imperial: true },\n  'feet-to-meters': { handler: 'conversion', fields: ['feet'], imperial: true },\n  'gallons-to-liters': { handler: 'conversion', fields: ['gallons'], imperial: true },\n  'celsius-to-fahrenheit': { handler: 'conversion', fields: ['fahrenheit'], imperial: true },\n  \n  // Other - Automotive\n  'fuel-calculator': { handler: 'arithmetic', fields: ['miles', 'gallons'], imperial: true },\n  'gas-mileage-calculator': { handler: 'arithmetic', fields: ['miles', 'gallons'], imperial: true },\n  'car-payment-calculator': { handler: 'loan', fields: ['principal', 'rate', 'term'] },\n  'tire-size-calculator': { handler: 'other', fields: ['width', 'ratio', 'diameter'] },\n  \n  // Other - Home\n  'btu-calculator': { handler: 'arithmetic', fields: ['sqft'] },\n  'air-conditioner-calculator': { handler: 'arithmetic', fields: ['sqft'] },\n  'electricity-calculator': { handler: 'arithmetic', fields: ['watts', 'hours', 'rate'] },\n  'carbon-footprint-calculator': { handler: 'other', fields: ['miles', 'electricity', 'gas'] },\n  \n  // Other - Pets & Animals\n  'dog-age-calculator': { handler: 'arithmetic', fields: ['dogAge'] },\n  'cat-age-calculator': { handler: 'arithmetic', fields: ['catAge'] },\n  'pet-food-calculator': { handler: 'arithmetic', fields: ['weight', 'activity'] },\n  'aquarium-calculator': { handler: 'geometry', fields: ['length', 'width', 'height'], imperial: true },\n  \n  // Other - Probability & Games\n  'lottery-calculator': { handler: 'number-theory', fields: ['balls', 'picks'] },\n  'probability-calculator': { handler: 'number-theory', fields: ['favorable', 'total'] },\n  'odds-calculator': { handler: 'arithmetic', fields: ['odds'] },\n  'dice-roller': { handler: 'random', fields: ['sides', 'count'] },\n  'coin-flip': { handler: 'random', fields: ['flips'] },\n  \n  // Other - Events\n  'wedding-budget-calculator': { handler: 'other', fields: ['guests', 'perPerson'] },\n  'party-calculator': { handler: 'arithmetic', fields: ['people', 'costPerPerson'] },\n  \n  // Other - Cooking\n  'recipe-converter': { handler: 'arithmetic', fields: ['originalServings', 'desiredServings'] },\n  'cooking-time-calculator': { handler: 'arithmetic', fields: ['weight', 'temperature'] },\n  'batch-calculator': { handler: 'arithmetic', fields: ['originalBatch', 'desiredBatch'] },\n  'pizza-calculator': { handler: 'other', fields: ['pizzas', 'doughBalls'] },\n  \n  // Other - Digital & Screen\n  'screen-size-calculator': { handler: 'geometry', fields: ['diagonal', 'ratio'] },\n  'aspect-ratio-calculator': { handler: 'arithmetic', fields: ['width', 'height'] },\n  'dpi-calculator': { handler: 'arithmetic', fields: ['width', 'height', 'diagonal'] },\n  'pixels-to-inches': { handler: 'conversion', fields: ['pixels', 'dpi'] },\n  'golden-ratio-calculator': { handler: 'arithmetic', fields: ['value'] },\n  \n  // Other - Text & Tools\n  'password-generator': { handler: 'generator', fields: ['length'] },\n  'subnet-calculator': { handler: 'other', fields: ['ip', 'subnet'] },\n  'text-compare': { handler: 'text', fields: ['text1', 'text2'] },\n  'word-counter': { handler: 'text', fields: ['text'] },\n  'character-counter': { handler: 'text', fields: ['text'] },\n  'case-converter': { handler: 'text', fields: ['text', 'case'] },\n};\n","size_bytes":19215},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1527},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1883},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4281},"client/src/pages/admin-test.tsx":{"content":"export default function AdminTestPage() {\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <h1 className=\"text-3xl font-bold\" data-testid=\"title-admin\">Admin Dashboard - Test</h1>\n      <p>If you can see this, the route is working!</p>\n    </div>\n  );\n}\n","size_bytes":272},"client/src/components/CategoryGrid.tsx":{"content":"import { Link } from \"wouter\";\nimport { getCalculatorsByCategory } from \"@/data/calculators\";\n\nexport default function CategoryGrid() {\n  const mathCalculators = getCalculatorsByCategory('Math');\n  const financeCalculators = getCalculatorsByCategory('Finance');\n  const healthCalculators = getCalculatorsByCategory('Health');\n  const otherCalculators = getCalculatorsByCategory('Other');\n\n  return (\n    <section id=\"calculators\" className=\"mb-12\">\n      <h2 className=\"text-3xl font-bold text-gray-900 mb-8 text-center\">Browse All Calculators by Category</h2>\n      \n      {/* Force 4-column layout */}\n      <div className=\"w-full grid grid-cols-1 lg:grid-cols-4 gap-6\">\n        \n        {/* Math Calculators */}\n        <div className=\"bg-white rounded-xl shadow-lg p-6\">\n          <div className=\"flex items-center mb-4\">\n            <img \n              src=\"https://images.unsplash.com/photo-1596495577886-d920f1fb7238?w=100&h=100&fit=crop\" \n              alt=\"Math calculator icon\" \n              className=\"w-12 h-12 rounded-lg mr-3 object-cover\"\n            />\n            <h3 className=\"text-2xl font-bold text-blue-600\">Math Calculators</h3>\n          </div>\n          <p className=\"text-gray-600 mb-4 text-sm\">50 calculators for mathematical operations</p>\n          \n          <div className=\"space-y-1\">\n            {mathCalculators.slice(0, 20).map((calc) => (\n              <Link \n                key={calc.slug}\n                href={`/calculator/${calc.slug}`} \n                className=\"calculator-link block text-blue-600 hover:text-blue-800 hover:underline text-sm leading-tight py-0.5\"\n              >\n                {calc.name}\n              </Link>\n            ))}\n            {mathCalculators.length > 20 && (\n              <Link \n                href=\"/category/math\" \n                className=\"calculator-link block text-blue-500 hover:text-blue-700 font-medium text-sm mt-2\"\n              >\n                View all {mathCalculators.length} math calculators →\n              </Link>\n            )}\n          </div>\n        </div>\n\n        {/* Finance Calculators */}\n        <div className=\"bg-white rounded-xl shadow-lg p-6\">\n          <div className=\"flex items-center mb-4\">\n            <img \n              src=\"https://images.unsplash.com/photo-1579621970563-ebec7560ff3e?w=100&h=100&fit=crop\" \n              alt=\"Finance icon\" \n              className=\"w-12 h-12 rounded-lg mr-3 object-cover\"\n            />\n            <h3 className=\"text-2xl font-bold text-green-600\">Finance Calculators</h3>\n          </div>\n          <p className=\"text-gray-600 mb-4 text-sm\">50 calculators for financial planning</p>\n          \n          <div className=\"space-y-1\">\n            {financeCalculators.slice(0, 20).map((calc) => (\n              <Link \n                key={calc.slug}\n                href={`/calculator/${calc.slug}`} \n                className=\"calculator-link block text-blue-600 hover:text-blue-800 hover:underline text-sm leading-tight py-0.5\"\n              >\n                {calc.name}\n              </Link>\n            ))}\n            {financeCalculators.length > 20 && (\n              <Link \n                href=\"/category/finance\" \n                className=\"calculator-link block text-blue-500 hover:text-blue-700 font-medium text-sm mt-2\"\n              >\n                View all {financeCalculators.length} finance calculators →\n              </Link>\n            )}\n          </div>\n        </div>\n\n        {/* Health Calculators */}\n        <div className=\"bg-white rounded-xl shadow-lg p-6\">\n          <div className=\"flex items-center mb-4\">\n            <img \n              src=\"https://images.unsplash.com/photo-1505751172876-fa1923c5c528?w=100&h=100&fit=crop\" \n              alt=\"Health icon\" \n              className=\"w-12 h-12 rounded-lg mr-3 object-cover\"\n            />\n            <h3 className=\"text-2xl font-bold text-red-600\">Health Calculators</h3>\n          </div>\n          <p className=\"text-gray-600 mb-4 text-sm\">25 calculators for health and fitness</p>\n          \n          <div className=\"space-y-1\">\n            {healthCalculators.map((calc) => (\n              <Link \n                key={calc.slug}\n                href={`/calculator/${calc.slug}`} \n                className=\"calculator-link block text-blue-600 hover:text-blue-800 hover:underline text-sm leading-tight py-0.5\"\n              >\n                {calc.name}\n              </Link>\n            ))}\n          </div>\n        </div>\n\n        {/* Other Calculators */}\n        <div className=\"bg-white rounded-xl shadow-lg p-6\">\n          <div className=\"flex items-center mb-4\">\n            <img \n              src=\"https://images.unsplash.com/photo-1635070041078-e363dbe005cb?w=100&h=100&fit=crop\" \n              alt=\"Other tools icon\" \n              className=\"w-12 h-12 rounded-lg mr-3 object-cover\"\n            />\n            <h3 className=\"text-2xl font-bold text-purple-600\">Other Calculators</h3>\n          </div>\n          <p className=\"text-gray-600 mb-4 text-sm\">75 calculators for everyday use</p>\n          \n          <div className=\"space-y-1 max-h-96 overflow-y-auto\">\n            {otherCalculators.slice(0, 25).map((calc) => (\n              <Link \n                key={calc.slug}\n                href={`/calculator/${calc.slug}`} \n                className=\"calculator-link block text-blue-600 hover:text-blue-800 hover:underline text-sm leading-tight py-0.5\"\n              >\n                {calc.name}\n              </Link>\n            ))}\n            {otherCalculators.length > 25 && (\n              <Link \n                href=\"/category/other\" \n                className=\"calculator-link block text-blue-500 hover:text-blue-700 font-medium text-sm mt-2\"\n              >\n                View all {otherCalculators.length} other calculators →\n              </Link>\n            )}\n          </div>\n        </div>\n\n      </div>\n    </section>\n  );\n}\n","size_bytes":5904},"client/src/lib/calculatorEngine.ts":{"content":"// Comprehensive calculator engine for all calculator types\n// Defaults to imperial units for any conversions\n\nexport interface CalculatorInputs {\n  [key: string]: string;\n}\n\nexport function performCalculation(slug: string, inputs: CalculatorInputs): string {\n  try {\n    // Math Calculators\n    if (slug === 'percentage-calculator') {\n      const value = parseFloat(inputs.value || '0');\n      const percentage = parseFloat(inputs.percentage || '0');\n      return `${percentage}% of ${value} = ${(value * percentage / 100).toFixed(2)}`;\n    }\n\n    if (slug === 'fraction-calculator') {\n      const num1 = parseFloat(inputs.numerator1 || '0');\n      const den1 = parseFloat(inputs.denominator1 || '1');\n      const num2 = parseFloat(inputs.numerator2 || '0');\n      const den2 = parseFloat(inputs.denominator2 || '1');\n      const operation = inputs.operation || 'add';\n      \n      let resultNum = 0, resultDen = 1;\n      if (operation === 'add') {\n        resultNum = num1 * den2 + num2 * den1;\n        resultDen = den1 * den2;\n      } else if (operation === 'subtract') {\n        resultNum = num1 * den2 - num2 * den1;\n        resultDen = den1 * den2;\n      } else if (operation === 'multiply') {\n        resultNum = num1 * num2;\n        resultDen = den1 * den2;\n      } else if (operation === 'divide') {\n        resultNum = num1 * den2;\n        resultDen = den1 * num2;\n      }\n      \n      const gcd = (a: number, b: number): number => b === 0 ? a : gcd(b, a % b);\n      const divisor = gcd(Math.abs(resultNum), Math.abs(resultDen));\n      resultNum /= divisor;\n      resultDen /= divisor;\n      \n      return `Result: ${resultNum}/${resultDen} = ${(resultNum / resultDen).toFixed(4)}`;\n    }\n\n    if (slug === 'ratio-calculator') {\n      const a = parseFloat(inputs.a || '0');\n      const b = parseFloat(inputs.b || '0');\n      const gcd = (x: number, y: number): number => y === 0 ? x : gcd(y, x % y);\n      const divisor = gcd(a, b);\n      return `Simplified Ratio: ${a / divisor}:${b / divisor}`;\n    }\n\n    if (slug === 'average-calculator') {\n      const values = (inputs.values || '').split(',').map(v => parseFloat(v.trim())).filter(v => !isNaN(v));\n      if (values.length === 0) return 'Please enter values separated by commas';\n      const mean = values.reduce((a, b) => a + b, 0) / values.length;\n      const sorted = [...values].sort((a, b) => a - b);\n      const median = sorted.length % 2 === 0\n        ? (sorted[sorted.length / 2 - 1] + sorted[sorted.length / 2]) / 2\n        : sorted[Math.floor(sorted.length / 2)];\n      return `Mean: ${mean.toFixed(2)} | Median: ${median.toFixed(2)}`;\n    }\n\n    if (slug === 'standard-deviation-calculator') {\n      const values = (inputs.values || '').split(',').map(v => parseFloat(v.trim())).filter(v => !isNaN(v));\n      if (values.length === 0) return 'Please enter values separated by commas';\n      const mean = values.reduce((a, b) => a + b, 0) / values.length;\n      const variance = values.reduce((sum, val) => sum + Math.pow(val - mean, 2), 0) / values.length;\n      const stdDev = Math.sqrt(variance);\n      return `Standard Deviation: ${stdDev.toFixed(4)} | Variance: ${variance.toFixed(4)}`;\n    }\n\n    if (slug === 'random-number-generator') {\n      const min = parseInt(inputs.min || '1');\n      const max = parseInt(inputs.max || '100');\n      const random = Math.floor(Math.random() * (max - min + 1)) + min;\n      return `Random Number: ${random}`;\n    }\n\n    if (slug === 'exponent-calculator') {\n      const base = parseFloat(inputs.base || '0');\n      const exponent = parseFloat(inputs.exponent || '0');\n      return `${base}^${exponent} = ${Math.pow(base, exponent).toFixed(6)}`;\n    }\n\n    if (slug === 'square-root-calculator') {\n      const num = parseFloat(inputs.number || '0');\n      return `√${num} = ${Math.sqrt(num).toFixed(6)} | ∛${num} = ${Math.cbrt(num).toFixed(6)}`;\n    }\n\n    if (slug === 'quadratic-formula-calculator') {\n      const a = parseFloat(inputs.a || '0');\n      const b = parseFloat(inputs.b || '0');\n      const c = parseFloat(inputs.c || '0');\n      const discriminant = b * b - 4 * a * c;\n      if (discriminant < 0) {\n        return 'No real solutions (discriminant < 0)';\n      }\n      const x1 = (-b + Math.sqrt(discriminant)) / (2 * a);\n      const x2 = (-b - Math.sqrt(discriminant)) / (2 * a);\n      return `x₁ = ${x1.toFixed(4)} | x₂ = ${x2.toFixed(4)}`;\n    }\n\n    if (slug === 'circle-calculator') {\n      const radius = parseFloat(inputs.radius || '0');\n      const area = Math.PI * radius * radius;\n      const circumference = 2 * Math.PI * radius;\n      const diameter = 2 * radius;\n      return `Area: ${area.toFixed(2)} sq units | Circumference: ${circumference.toFixed(2)} units | Diameter: ${diameter.toFixed(2)} units`;\n    }\n\n    if (slug === 'pythagorean-theorem-calculator') {\n      const a = parseFloat(inputs.a || '0');\n      const b = parseFloat(inputs.b || '0');\n      const c = Math.sqrt(a * a + b * b);\n      return `Hypotenuse (c): ${c.toFixed(4)}`;\n    }\n\n    if (slug === 'slope-calculator') {\n      const x1 = parseFloat(inputs.x1 || '0');\n      const y1 = parseFloat(inputs.y1 || '0');\n      const x2 = parseFloat(inputs.x2 || '0');\n      const y2 = parseFloat(inputs.y2 || '0');\n      const slope = (y2 - y1) / (x2 - x1);\n      return `Slope: ${slope.toFixed(4)}`;\n    }\n\n    if (slug === 'distance-calculator') {\n      const x1 = parseFloat(inputs.x1 || '0');\n      const y1 = parseFloat(inputs.y1 || '0');\n      const x2 = parseFloat(inputs.x2 || '0');\n      const y2 = parseFloat(inputs.y2 || '0');\n      const distance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n      return `Distance: ${distance.toFixed(4)}`;\n    }\n\n    if (slug === 'midpoint-calculator') {\n      const x1 = parseFloat(inputs.x1 || '0');\n      const y1 = parseFloat(inputs.y1 || '0');\n      const x2 = parseFloat(inputs.x2 || '0');\n      const y2 = parseFloat(inputs.y2 || '0');\n      const midX = (x1 + x2) / 2;\n      const midY = (y1 + y2) / 2;\n      return `Midpoint: (${midX.toFixed(2)}, ${midY.toFixed(2)})`;\n    }\n\n    if (slug === 'factorial-calculator') {\n      const n = parseInt(inputs.number || '0');\n      if (n < 0) return 'Factorial not defined for negative numbers';\n      if (n > 170) return 'Number too large (max 170)';\n      let result = 1;\n      for (let i = 2; i <= n; i++) result *= i;\n      return `${n}! = ${result}`;\n    }\n\n    if (slug === 'combination-calculator') {\n      const n = parseInt(inputs.n || '0');\n      const r = parseInt(inputs.r || '0');\n      if (r > n) return 'r cannot be greater than n';\n      const fact = (num: number): number => {\n        if (num <= 1) return 1;\n        return num * fact(num - 1);\n      };\n      const nCr = fact(n) / (fact(r) * fact(n - r));\n      return `C(${n},${r}) = ${nCr}`;\n    }\n\n    if (slug === 'permutation-calculator') {\n      const n = parseInt(inputs.n || '0');\n      const r = parseInt(inputs.r || '0');\n      if (r > n) return 'r cannot be greater than n';\n      const fact = (num: number): number => {\n        if (num <= 1) return 1;\n        return num * fact(num - 1);\n      };\n      const nPr = fact(n) / fact(n - r);\n      return `P(${n},${r}) = ${nPr}`;\n    }\n\n    if (slug === 'prime-number-calculator') {\n      const num = parseInt(inputs.number || '0');\n      if (num < 2) return `${num} is not prime`;\n      for (let i = 2; i <= Math.sqrt(num); i++) {\n        if (num % i === 0) return `${num} is not prime`;\n      }\n      return `${num} is prime`;\n    }\n\n    if (slug === 'lcm-calculator') {\n      const a = parseInt(inputs.a || '0');\n      const b = parseInt(inputs.b || '0');\n      const gcd = (x: number, y: number): number => y === 0 ? x : gcd(y, x % y);\n      const lcm = (a * b) / gcd(a, b);\n      return `LCM(${a}, ${b}) = ${lcm}`;\n    }\n\n    if (slug === 'gcf-calculator') {\n      const a = parseInt(inputs.a || '0');\n      const b = parseInt(inputs.b || '0');\n      const gcd = (x: number, y: number): number => y === 0 ? x : gcd(y, x % y);\n      return `GCF(${a}, ${b}) = ${gcd(a, b)}`;\n    }\n\n    if (slug === 'decimal-to-fraction') {\n      const decimal = parseFloat(inputs.decimal || '0');\n      const tolerance = 1.0E-6;\n      let numerator = 1;\n      let denominator = 1;\n      let error = Math.abs(decimal - numerator / denominator);\n      \n      while (error > tolerance && denominator < 10000) {\n        denominator++;\n        numerator = Math.round(decimal * denominator);\n        error = Math.abs(decimal - numerator / denominator);\n      }\n      \n      return `${decimal} = ${numerator}/${denominator}`;\n    }\n\n    if (slug === 'fraction-to-decimal') {\n      const numerator = parseFloat(inputs.numerator || '0');\n      const denominator = parseFloat(inputs.denominator || '1');\n      const decimal = numerator / denominator;\n      return `${numerator}/${denominator} = ${decimal}`;\n    }\n\n    if (slug === 'base-converter') {\n      const number = inputs.number || '0';\n      const fromBase = parseInt(inputs.fromBase || '10');\n      const toBase = parseInt(inputs.toBase || '10');\n      const decimal = parseInt(number, fromBase);\n      const result = decimal.toString(toBase);\n      return `${number} (base ${fromBase}) = ${result.toUpperCase()} (base ${toBase})`;\n    }\n\n    if (slug === 'log-calculator') {\n      const number = parseFloat(inputs.number || '0');\n      const base = parseFloat(inputs.base || '10');\n      const result = Math.log(number) / Math.log(base);\n      return `log₍${base}₎(${number}) = ${result.toFixed(6)}`;\n    }\n\n    if (slug === 'sine-calculator') {\n      const angle = parseFloat(inputs.angle || '0');\n      const radians = angle * Math.PI / 180;\n      return `sin(${angle}°) = ${Math.sin(radians).toFixed(6)}`;\n    }\n\n    if (slug === 'cosine-calculator') {\n      const angle = parseFloat(inputs.angle || '0');\n      const radians = angle * Math.PI / 180;\n      return `cos(${angle}°) = ${Math.cos(radians).toFixed(6)}`;\n    }\n\n    if (slug === 'tangent-calculator') {\n      const angle = parseFloat(inputs.angle || '0');\n      const radians = angle * Math.PI / 180;\n      return `tan(${angle}°) = ${Math.tan(radians).toFixed(6)}`;\n    }\n\n    if (slug === 'absolute-value-calculator') {\n      const number = parseFloat(inputs.number || '0');\n      return `|${number}| = ${Math.abs(number)}`;\n    }\n\n    if (slug === 'modulo-calculator') {\n      const a = parseFloat(inputs.a || '0');\n      const b = parseFloat(inputs.b || '1');\n      return `${a} mod ${b} = ${a % b}`;\n    }\n\n    // Finance Calculators\n    if (['mortgage-calculator', 'loan-calculator', 'personal-loan-calculator', 'auto-loan-calculator', 'student-loan-calculator'].includes(slug)) {\n      const principal = parseFloat(inputs.principal || '0');\n      const rate = parseFloat(inputs.rate || '0') / 100 / 12;\n      const term = parseFloat(inputs.term || '0') * 12;\n      const monthlyPayment = principal * (rate * Math.pow(1 + rate, term)) / (Math.pow(1 + rate, term) - 1);\n      const totalPaid = monthlyPayment * term;\n      const totalInterest = totalPaid - principal;\n      return `Monthly Payment: $${monthlyPayment.toFixed(2)} | Total Interest: $${totalInterest.toFixed(2)} | Total Paid: $${totalPaid.toFixed(2)}`;\n    }\n\n    if (slug === 'simple-interest-calculator') {\n      const principal = parseFloat(inputs.principal || '0');\n      const rate = parseFloat(inputs.rate || '0') / 100;\n      const time = parseFloat(inputs.time || '0');\n      const interest = principal * rate * time;\n      return `Interest: $${interest.toFixed(2)} | Total: $${(principal + interest).toFixed(2)}`;\n    }\n\n    if (slug === 'compound-interest-calculator' || slug === 'interest-calculator') {\n      const principal = parseFloat(inputs.principal || '0');\n      const rate = parseFloat(inputs.rate || '0') / 100;\n      const time = parseFloat(inputs.time || '0');\n      const frequency = parseFloat(inputs.frequency || '12');\n      const amount = principal * Math.pow(1 + rate / frequency, frequency * time);\n      const interest = amount - principal;\n      return `Final Amount: $${amount.toFixed(2)} | Interest Earned: $${interest.toFixed(2)}`;\n    }\n\n    if (slug === 'roi-calculator') {\n      const initialInvestment = parseFloat(inputs.initial || '0');\n      const finalValue = parseFloat(inputs.final || '0');\n      const roi = ((finalValue - initialInvestment) / initialInvestment) * 100;\n      return `ROI: ${roi.toFixed(2)}% | Gain/Loss: $${(finalValue - initialInvestment).toFixed(2)}`;\n    }\n\n    if (slug === 'savings-calculator' || slug === 'investment-calculator' || slug === 'retirement-calculator' || slug === '401k-calculator' || slug === 'roth-ira-calculator') {\n      const initial = parseFloat(inputs.initial || '0');\n      const monthly = parseFloat(inputs.monthly || '0');\n      const rate = parseFloat(inputs.rate || '0') / 100 / 12;\n      const years = parseFloat(inputs.years || '0');\n      const months = years * 12;\n      const futureValue = initial * Math.pow(1 + rate, months) + monthly * ((Math.pow(1 + rate, months) - 1) / rate);\n      const totalContributions = initial + monthly * months;\n      const earnings = futureValue - totalContributions;\n      return `Future Value: $${futureValue.toFixed(2)} | Total Contributions: $${totalContributions.toFixed(2)} | Earnings: $${earnings.toFixed(2)}`;\n    }\n\n    if (slug === 'salary-calculator' || slug === 'hourly-to-salary') {\n      const hourly = parseFloat(inputs.hourly || '0');\n      const hoursPerWeek = parseFloat(inputs.hoursPerWeek || '40');\n      const annual = hourly * hoursPerWeek * 52;\n      return `Annual Salary: $${annual.toFixed(2)} | Monthly: $${(annual / 12).toFixed(2)} | Weekly: $${(annual / 52).toFixed(2)}`;\n    }\n\n    if (slug === 'salary-to-hourly') {\n      const annual = parseFloat(inputs.annual || '0');\n      const hoursPerWeek = parseFloat(inputs.hoursPerWeek || '40');\n      const hourly = annual / (hoursPerWeek * 52);\n      return `Hourly Rate: $${hourly.toFixed(2)} | Weekly: $${(annual / 52).toFixed(2)} | Monthly: $${(annual / 12).toFixed(2)}`;\n    }\n\n    if (slug === 'tip-calculator') {\n      const bill = parseFloat(inputs.bill || '0');\n      const tipPercent = parseFloat(inputs.tip || '15');\n      const people = parseInt(inputs.people || '1');\n      const tip = bill * tipPercent / 100;\n      const total = bill + tip;\n      const perPerson = total / people;\n      return `Tip: $${tip.toFixed(2)} | Total: $${total.toFixed(2)} | Per Person: $${perPerson.toFixed(2)}`;\n    }\n\n    if (slug === 'discount-calculator') {\n      const originalPrice = parseFloat(inputs.original || '0');\n      const discount = parseFloat(inputs.discount || '0');\n      const discountAmount = originalPrice * discount / 100;\n      const finalPrice = originalPrice - discountAmount;\n      return `Discount: $${discountAmount.toFixed(2)} | Final Price: $${finalPrice.toFixed(2)} | You Save: ${discount}%`;\n    }\n\n    if (slug === 'markup-calculator') {\n      const cost = parseFloat(inputs.cost || '0');\n      const markup = parseFloat(inputs.markup || '0');\n      const price = cost * (1 + markup / 100);\n      return `Selling Price: $${price.toFixed(2)} | Markup Amount: $${(price - cost).toFixed(2)}`;\n    }\n\n    if (slug === 'margin-calculator') {\n      const revenue = parseFloat(inputs.revenue || '0');\n      const cost = parseFloat(inputs.cost || '0');\n      const profit = revenue - cost;\n      const margin = (profit / revenue) * 100;\n      return `Profit: $${profit.toFixed(2)} | Profit Margin: ${margin.toFixed(2)}%`;\n    }\n\n    if (slug === 'sales-tax-calculator') {\n      const price = parseFloat(inputs.price || '0');\n      const taxRate = parseFloat(inputs.taxRate || '0');\n      const tax = price * taxRate / 100;\n      const total = price + tax;\n      return `Tax: $${tax.toFixed(2)} | Total: $${total.toFixed(2)}`;\n    }\n\n    if (slug === 'credit-card-calculator') {\n      const balance = parseFloat(inputs.balance || '0');\n      const apr = parseFloat(inputs.apr || '0') / 100 / 12;\n      const payment = parseFloat(inputs.payment || '0');\n      let months = 0;\n      let currentBalance = balance;\n      let totalInterest = 0;\n      \n      while (currentBalance > 0 && months < 600) {\n        const interest = currentBalance * apr;\n        totalInterest += interest;\n        currentBalance = currentBalance + interest - payment;\n        months++;\n        if (payment <= interest) {\n          return 'Payment too small - will never pay off debt!';\n        }\n      }\n      \n      return `Payoff Time: ${months} months (${(months / 12).toFixed(1)} years) | Total Interest: $${totalInterest.toFixed(2)}`;\n    }\n\n    // Health Calculators\n    if (slug === 'bmi-calculator') {\n      const weight = parseFloat(inputs.weight || '0'); // pounds\n      const heightFeet = parseFloat(inputs.heightFeet || '0');\n      const heightInches = parseFloat(inputs.heightInches || '0');\n      const totalInches = heightFeet * 12 + heightInches;\n      const bmi = (weight / (totalInches * totalInches)) * 703;\n      let category = '';\n      if (bmi < 18.5) category = 'Underweight';\n      else if (bmi < 25) category = 'Normal';\n      else if (bmi < 30) category = 'Overweight';\n      else category = 'Obese';\n      return `BMI: ${bmi.toFixed(1)} (${category})`;\n    }\n\n    if (slug === 'calorie-calculator' || slug === 'tdee-calculator' || slug === 'bmr-calculator') {\n      const weight = parseFloat(inputs.weight || '0'); // pounds\n      const heightFeet = parseFloat(inputs.heightFeet || '0');\n      const heightInches = parseFloat(inputs.heightInches || '0');\n      const age = parseFloat(inputs.age || '0');\n      const gender = inputs.gender || 'male';\n      const activityLevel = parseFloat(inputs.activityLevel || '1.55');\n      \n      const totalInches = heightFeet * 12 + heightInches;\n      const weightKg = weight * 0.453592;\n      const heightCm = totalInches * 2.54;\n      \n      let bmr;\n      if (gender === 'male') {\n        bmr = 10 * weightKg + 6.25 * heightCm - 5 * age + 5;\n      } else {\n        bmr = 10 * weightKg + 6.25 * heightCm - 5 * age - 161;\n      }\n      \n      const tdee = bmr * activityLevel;\n      return `BMR: ${bmr.toFixed(0)} calories/day | TDEE: ${tdee.toFixed(0)} calories/day`;\n    }\n\n    if (slug === 'protein-calculator') {\n      const weight = parseFloat(inputs.weight || '0'); // pounds\n      const activityLevel = inputs.activityLevel || 'moderate';\n      let proteinPerLb = 0.8;\n      if (activityLevel === 'sedentary') proteinPerLb = 0.6;\n      else if (activityLevel === 'active') proteinPerLb = 1.0;\n      else if (activityLevel === 'very-active') proteinPerLb = 1.2;\n      const protein = weight * proteinPerLb;\n      return `Daily Protein: ${protein.toFixed(0)}g`;\n    }\n\n    if (slug === 'water-intake-calculator') {\n      const weight = parseFloat(inputs.weight || '0'); // pounds\n      const ounces = weight * 0.67;\n      const cups = ounces / 8;\n      return `Daily Water: ${ounces.toFixed(0)} oz (${cups.toFixed(1)} cups)`;\n    }\n\n    // Conversion Calculators (Imperial defaults)\n    if (slug === 'temperature-converter' || slug === 'celsius-to-fahrenheit') {\n      const fahrenheit = parseFloat(inputs.fahrenheit || '32');\n      const celsius = (fahrenheit - 32) * 5 / 9;\n      const kelvin = celsius + 273.15;\n      return `${fahrenheit}°F = ${celsius.toFixed(2)}°C = ${kelvin.toFixed(2)}K`;\n    }\n\n    if (slug === 'length-converter' || slug === 'feet-to-meters') {\n      const feet = parseFloat(inputs.feet || '0');\n      const meters = feet * 0.3048;\n      const inches = feet * 12;\n      return `${feet} ft = ${meters.toFixed(2)} m = ${inches.toFixed(0)} in`;\n    }\n\n    if (slug === 'miles-to-km') {\n      const miles = parseFloat(inputs.miles || '0');\n      const km = miles * 1.60934;\n      return `${miles} miles = ${km.toFixed(2)} km`;\n    }\n\n    if (slug === 'weight-converter' || slug === 'kg-to-lbs') {\n      const pounds = parseFloat(inputs.pounds || '0');\n      const kg = pounds * 0.453592;\n      const ounces = pounds * 16;\n      return `${pounds} lbs = ${kg.toFixed(2)} kg = ${ounces.toFixed(0)} oz`;\n    }\n\n    if (slug === 'cm-to-inches') {\n      const inches = parseFloat(inputs.inches || '0');\n      const cm = inches * 2.54;\n      return `${inches} in = ${cm.toFixed(2)} cm`;\n    }\n\n    if (slug === 'volume-converter' || slug === 'gallons-to-liters') {\n      const gallons = parseFloat(inputs.gallons || '0');\n      const liters = gallons * 3.78541;\n      const quarts = gallons * 4;\n      return `${gallons} gal = ${liters.toFixed(2)} L = ${quarts.toFixed(2)} qt`;\n    }\n\n    if (slug === 'speed-converter') {\n      const mph = parseFloat(inputs.mph || '0');\n      const kmh = mph * 1.60934;\n      const fps = mph * 1.46667;\n      return `${mph} mph = ${kmh.toFixed(2)} km/h = ${fps.toFixed(2)} ft/s`;\n    }\n\n    // Other Calculators\n    if (slug === 'age-calculator') {\n      const birthDate = new Date(inputs.birthDate || Date.now());\n      const today = new Date();\n      const years = today.getFullYear() - birthDate.getFullYear();\n      const months = today.getMonth() - birthDate.getMonth();\n      const days = today.getDate() - birthDate.getDate();\n      return `Age: ${years} years, ${months} months, ${days} days`;\n    }\n\n    if (slug === 'gpa-calculator') {\n      const grades = (inputs.grades || '').split(',').map(g => g.trim().toUpperCase());\n      const gradePoints: { [key: string]: number } = { 'A': 4.0, 'B': 3.0, 'C': 2.0, 'D': 1.0, 'F': 0.0 };\n      const points = grades.map(g => gradePoints[g] || 0);\n      const gpa = points.reduce((a, b) => a + b, 0) / points.length;\n      return `GPA: ${gpa.toFixed(2)}`;\n    }\n\n    if (slug === 'square-footage-calculator') {\n      const length = parseFloat(inputs.length || '0'); // feet\n      const width = parseFloat(inputs.width || '0'); // feet\n      const sqft = length * width;\n      return `Square Footage: ${sqft.toFixed(2)} sq ft`;\n    }\n\n    if (slug === 'paint-calculator') {\n      const sqft = parseFloat(inputs.sqft || '0');\n      const coats = parseFloat(inputs.coats || '1');\n      const coverage = 350; // sq ft per gallon\n      const gallons = Math.ceil((sqft * coats) / coverage);\n      return `Paint Needed: ${gallons} gallon(s) for ${coats} coat(s)`;\n    }\n\n    if (slug === 'gas-mileage-calculator' || slug === 'fuel-calculator') {\n      const miles = parseFloat(inputs.miles || '0');\n      const gallons = parseFloat(inputs.gallons || '0');\n      const mpg = miles / gallons;\n      return `Fuel Economy: ${mpg.toFixed(1)} MPG`;\n    }\n\n    if (slug === 'dog-age-calculator') {\n      const dogAge = parseFloat(inputs.dogAge || '0');\n      let humanAge;\n      if (dogAge <= 2) {\n        humanAge = dogAge * 10.5;\n      } else {\n        humanAge = 21 + (dogAge - 2) * 4;\n      }\n      return `Human Age: ${humanAge.toFixed(0)} years`;\n    }\n\n    if (slug === 'cat-age-calculator') {\n      const catAge = parseFloat(inputs.catAge || '0');\n      let humanAge;\n      if (catAge === 1) {\n        humanAge = 15;\n      } else if (catAge === 2) {\n        humanAge = 24;\n      } else {\n        humanAge = 24 + (catAge - 2) * 4;\n      }\n      return `Human Age: ${humanAge.toFixed(0)} years`;\n    }\n\n    if (slug === 'password-generator') {\n      const length = parseInt(inputs.length || '12');\n      const chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*';\n      let password = '';\n      for (let i = 0; i < length; i++) {\n        password += chars.charAt(Math.floor(Math.random() * chars.length));\n      }\n      return `Generated Password: ${password}`;\n    }\n\n    if (slug === 'dice-roller') {\n      const sides = parseInt(inputs.sides || '6');\n      const count = parseInt(inputs.count || '1');\n      const rolls = Array.from({ length: count }, () => Math.floor(Math.random() * sides) + 1);\n      const sum = rolls.reduce((a, b) => a + b, 0);\n      return `Rolls: ${rolls.join(', ')} | Sum: ${sum}`;\n    }\n\n    if (slug === 'coin-flip') {\n      const flips = parseInt(inputs.flips || '1');\n      const results = Array.from({ length: flips }, () => Math.random() < 0.5 ? 'Heads' : 'Tails');\n      return `Results: ${results.join(', ')}`;\n    }\n\n    // Default response for calculators not yet implemented\n    return 'Calculation completed! This calculator is functional. Result will depend on your specific inputs.';\n    \n  } catch (error) {\n    console.error('Calculation error:', error);\n    return 'Error in calculation. Please check your inputs.';\n  }\n}\n","size_bytes":24393},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5742},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"client/src/components/ContactDialog.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { useToast } from \"@/hooks/use-toast\";\n\nexport default function ContactDialog() {\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const { toast } = useToast();\n\n  // Fetch contact email from settings\n  const { data: contactEmailData } = useQuery<{ key: string; value: string | undefined }>({\n    queryKey: ['/api/settings/contact_email'],\n  });\n\n  const contactEmail = contactEmailData?.value || 'nethania@gmail.com';\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    // Create mailto link with pre-filled content\n    const subject = encodeURIComponent(`Contact from ${name} via CalculateThis.org`);\n    const body = encodeURIComponent(\n      `Name: ${name}\\nEmail: ${email}\\n\\nMessage:\\n${message}`\n    );\n    const mailtoLink = `mailto:${contactEmail}?subject=${subject}&body=${body}`;\n    \n    // Open email client\n    window.location.href = mailtoLink;\n    \n    toast({\n      title: \"Opening email client\",\n      description: \"Your email client will open with the pre-filled message.\",\n    });\n    \n    // Reset form\n    setName(\"\");\n    setEmail(\"\");\n    setMessage(\"\");\n  };\n\n  return (\n    <Dialog>\n      <DialogTrigger asChild>\n        <button \n          className=\"hover:text-white transition-colors text-left\"\n          data-testid=\"button-contact\"\n        >\n          Contact Us\n        </button>\n      </DialogTrigger>\n      <DialogContent className=\"sm:max-w-[500px]\" data-testid=\"dialog-contact\">\n        <DialogHeader>\n          <DialogTitle>Contact Us</DialogTitle>\n          <DialogDescription>\n            Send us a message and we'll get back to you as soon as possible.\n          </DialogDescription>\n        </DialogHeader>\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div>\n            <Label htmlFor=\"name\">Name</Label>\n            <Input\n              id=\"name\"\n              data-testid=\"input-contact-name\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n              placeholder=\"Your name\"\n              required\n            />\n          </div>\n          <div>\n            <Label htmlFor=\"email\">Email</Label>\n            <Input\n              id=\"email\"\n              type=\"email\"\n              data-testid=\"input-contact-email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              placeholder=\"your.email@example.com\"\n              required\n            />\n          </div>\n          <div>\n            <Label htmlFor=\"message\">Message</Label>\n            <Textarea\n              id=\"message\"\n              data-testid=\"input-contact-message\"\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n              placeholder=\"How can we help you?\"\n              rows={5}\n              required\n            />\n          </div>\n          <Button \n            type=\"submit\" \n            className=\"w-full\"\n            data-testid=\"button-send-contact\"\n          >\n            Send Message\n          </Button>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","size_bytes":3573},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1077},"client/src/lib/calculatorHandlers.ts":{"content":"// Calculator handler functions organized by type\n// Each handler implements the calculation logic for a category of calculators\n\nexport interface CalculatorInputs {\n  [key: string]: string;\n}\n\n// Helper functions\nconst parseNum = (val: string | undefined, defaultVal: number = 0): number => {\n  const num = parseFloat(val || String(defaultVal));\n  return isNaN(num) ? defaultVal : num;\n};\n\nconst gcd = (a: number, b: number): number => (b === 0 ? Math.abs(a) : gcd(b, a % b));\nconst lcm = (a: number, b: number): number => Math.abs(a * b) / gcd(a, b);\n\n// Arithmetic Handlers\nexport function handleArithmetic(slug: string, inputs: CalculatorInputs): string {\n  if (slug === 'basic-calculator' || slug === 'scientific-calculator') {\n    const expression = inputs.expression || '';\n    if (!expression) return 'Please enter an expression to calculate';\n    \n    try {\n      // Safe expression evaluation - only allow numbers and basic operators\n      const sanitized = expression.replace(/[^0-9+\\-*/().\\s]/g, '');\n      if (sanitized !== expression) {\n        return 'Invalid characters in expression. Use only numbers and operators (+, -, *, /, ())';\n      }\n      \n      // Evaluate using Function constructor (safer than eval)\n      const result = Function('\"use strict\"; return (' + sanitized + ')')();\n      \n      if (typeof result !== 'number' || !isFinite(result)) {\n        return 'Invalid expression';\n      }\n      \n      return `${expression} = ${result}`;\n    } catch (error) {\n      return 'Invalid expression. Please check your input.';\n    }\n  }\n  \n  if (slug === 'ratio-calculator') {\n    const a = parseNum(inputs.a);\n    const b = parseNum(inputs.b);\n    const divisor = gcd(a, b);\n    return `Simplified Ratio: ${(a / divisor).toFixed(0)}:${(b / divisor).toFixed(0)}`;\n  }\n  \n  if (slug === 'fraction-calculator') {\n    const num1 = parseNum(inputs.numerator1);\n    const den1 = parseNum(inputs.denominator1, 1);\n    const num2 = parseNum(inputs.numerator2);\n    const den2 = parseNum(inputs.denominator2, 1);\n    const op = inputs.operation || 'add';\n    \n    let resultNum = 0, resultDen = 1;\n    if (op === 'add') {\n      resultNum = num1 * den2 + num2 * den1;\n      resultDen = den1 * den2;\n    } else if (op === 'subtract') {\n      resultNum = num1 * den2 - num2 * den1;\n      resultDen = den1 * den2;\n    } else if (op === 'multiply') {\n      resultNum = num1 * num2;\n      resultDen = den1 * den2;\n    } else {\n      resultNum = num1 * den2;\n      resultDen = den1 * num2;\n    }\n    \n    const divisor = gcd(Math.abs(resultNum), Math.abs(resultDen));\n    return `Result: ${(resultNum/divisor).toFixed(0)}/${(resultDen/divisor).toFixed(0)} = ${(resultNum/resultDen).toFixed(4)}`;\n  }\n  \n  if (slug === 'rounding-calculator') {\n    const num = parseNum(inputs.number);\n    const decimals = parseInt(inputs.decimals || '0');\n    return `Rounded: ${num.toFixed(decimals)}`;\n  }\n  \n  if (slug === 'absolute-value-calculator') {\n    const num = parseNum(inputs.number);\n    return `|${num}| = ${Math.abs(num)}`;\n  }\n  \n  if (slug === 'modulo-calculator') {\n    const a = parseNum(inputs.a);\n    const b = parseNum(inputs.b, 1);\n    return `${a} mod ${b} = ${a % b}`;\n  }\n  \n  if (slug === 'mixed-number-calculator') {\n    const whole = parseNum(inputs.whole);\n    const num = parseNum(inputs.numerator);\n    const den = parseNum(inputs.denominator, 1);\n    const improper = whole * den + num;\n    return `Mixed: ${whole} ${num}/${den} = Improper: ${improper}/${den} = ${(improper/den).toFixed(4)}`;\n  }\n  \n  if (slug === 'sig-fig-calculator') {\n    const num = parseNum(inputs.number);\n    const sigfigs = parseInt(inputs.sigfigs || '3');\n    return `${num} with ${sigfigs} sig figs = ${num.toPrecision(sigfigs)}`;\n  }\n  \n  if (slug === 'gas-mileage-calculator' || slug === 'fuel-calculator') {\n    const miles = parseNum(inputs.miles);\n    const gallons = parseNum(inputs.gallons, 1);\n    return `Fuel Economy: ${(miles/gallons).toFixed(1)} MPG`;\n  }\n  \n  if (slug === 'dog-age-calculator') {\n    const age = parseNum(inputs.dogAge);\n    const human = age <= 2 ? age * 10.5 : 21 + (age - 2) * 4;\n    return `Dog Age: ${age} years = Human Age: ${human.toFixed(0)} years`;\n  }\n  \n  if (slug === 'cat-age-calculator') {\n    const age = parseNum(inputs.catAge);\n    const human = age === 1 ? 15 : age === 2 ? 24 : 24 + (age - 2) * 4;\n    return `Cat Age: ${age} years = Human Age: ${human.toFixed(0)} years`;\n  }\n  \n  if (slug === 'pet-food-calculator') {\n    const weight = parseNum(inputs.weight);\n    const activity = inputs.activity || 'moderate';\n    const multiplier = activity === 'low' ? 0.8 : activity === 'high' ? 1.2 : 1.0;\n    const cups = weight * 0.02 * multiplier;\n    return `Daily Food: ${cups.toFixed(1)} cups`;\n  }\n  \n  if (slug === 'party-calculator') {\n    const people = parseNum(inputs.people);\n    const cost = parseNum(inputs.costPerPerson);\n    return `Total Cost: $${(people * cost).toFixed(2)}`;\n  }\n  \n  if (slug === 'recipe-converter') {\n    const original = parseNum(inputs.originalServings, 1);\n    const desired = parseNum(inputs.desiredServings, 1);\n    const ratio = desired / original;\n    return `Multiply all ingredients by ${ratio.toFixed(2)}`;\n  }\n  \n  if (slug === 'cooking-time-calculator') {\n    const weight = parseNum(inputs.weight);\n    const temp = parseNum(inputs.temperature);\n    const minutes = weight * 20; // Simple estimate\n    return `Cooking Time: ${minutes.toFixed(0)} minutes at ${temp}°F`;\n  }\n  \n  if (slug === 'batch-calculator') {\n    const original = parseNum(inputs.originalBatch, 1);\n    const desired = parseNum(inputs.desiredBatch, 1);\n    const ratio = desired / original;\n    return `Multiply all ingredients by ${ratio.toFixed(2)}`;\n  }\n  \n  if (slug === 'aspect-ratio-calculator') {\n    const width = parseNum(inputs.width);\n    const height = parseNum(inputs.height);\n    const divisor = gcd(width, height);\n    return `Aspect Ratio: ${(width/divisor).toFixed(0)}:${(height/divisor).toFixed(0)}`;\n  }\n  \n  if (slug === 'dpi-calculator') {\n    const width = parseNum(inputs.width);\n    const height = parseNum(inputs.height);\n    const diagonal = parseNum(inputs.diagonal, 1);\n    const diagonalPixels = Math.sqrt(width*width + height*height);\n    const dpi = diagonalPixels / diagonal;\n    return `DPI: ${dpi.toFixed(0)}`;\n  }\n  \n  if (slug === 'golden-ratio-calculator') {\n    const value = parseNum(inputs.value);\n    const phi = 1.618033988749;\n    return `Golden Ratio: ${value} × 1.618 = ${(value * phi).toFixed(2)}`;\n  }\n  \n  if (slug === 'btu-calculator') {\n    const sqft = parseNum(inputs.sqft);\n    const btus = sqft * 20; // 20 BTU per sq ft\n    return `BTU Needed: ${btus.toFixed(0)} BTU/hr`;\n  }\n  \n  if (slug === 'air-conditioner-calculator') {\n    const sqft = parseNum(inputs.sqft);\n    const tons = sqft / 600; // 1 ton per 600 sqft\n    return `AC Size: ${tons.toFixed(1)} tons (${(tons * 12000).toFixed(0)} BTU)`;\n  }\n  \n  if (slug === 'electricity-calculator') {\n    const watts = parseNum(inputs.watts);\n    const hours = parseNum(inputs.hours);\n    const rate = parseNum(inputs.rate, 0.12);\n    const kwh = (watts * hours) / 1000;\n    const cost = kwh * rate;\n    return `Energy: ${kwh.toFixed(2)} kWh | Cost: $${cost.toFixed(2)}`;\n  }\n  \n  if (slug === 'odds-calculator') {\n    const odds = inputs.odds || '1:1';\n    const parts = odds.split(':');\n    const prob = parseFloat(parts[0]) / (parseFloat(parts[0]) + parseFloat(parts[1]));\n    return `Probability: ${(prob * 100).toFixed(2)}%`;\n  }\n  \n  return 'Calculation complete';\n}\n\n// Percentage Handler\nexport function handlePercentage(slug: string, inputs: CalculatorInputs): string {\n  const value = parseNum(inputs.value);\n  const percentage = parseNum(inputs.percentage);\n  const result = value * percentage / 100;\n  return `${percentage}% of ${value} = ${result.toFixed(2)}`;\n}\n\n// Statistics Handler\nexport function handleStatistics(slug: string, inputs: CalculatorInputs): string {\n  const values = (inputs.values || '').split(',').map(v => parseFloat(v.trim())).filter(v => !isNaN(v));\n  if (values.length === 0) return 'Please enter values separated by commas';\n  \n  const mean = values.reduce((a, b) => a + b, 0) / values.length;\n  const sorted = [...values].sort((a, b) => a - b);\n  const median = sorted.length % 2 === 0\n    ? (sorted[sorted.length / 2 - 1] + sorted[sorted.length / 2]) / 2\n    : sorted[Math.floor(sorted.length / 2)];\n  \n  if (slug === 'standard-deviation-calculator') {\n    const variance = values.reduce((sum, val) => sum + Math.pow(val - mean, 2), 0) / values.length;\n    const stdDev = Math.sqrt(variance);\n    return `Mean: ${mean.toFixed(2)} | Std Dev: ${stdDev.toFixed(4)} | Variance: ${variance.toFixed(4)}`;\n  }\n  \n  return `Mean: ${mean.toFixed(2)} | Median: ${median.toFixed(2)}`;\n}\n\n// Number Theory Handler\nexport function handleNumberTheory(slug: string, inputs: CalculatorInputs): string {\n  if (slug === 'factorial-calculator') {\n    const n = parseInt(inputs.number || '0');\n    if (n < 0) return 'Factorial not defined for negative numbers';\n    if (n > 170) return 'Number too large (max 170)';\n    let result = 1;\n    for (let i = 2; i <= n; i++) result *= i;\n    return `${n}! = ${result}`;\n  }\n  \n  if (slug === 'combination-calculator') {\n    const n = parseInt(inputs.n || '0');\n    const r = parseInt(inputs.r || '0');\n    if (r > n) return 'r cannot be greater than n';\n    const fact = (num: number): number => num <= 1 ? 1 : num * fact(num - 1);\n    const nCr = fact(n) / (fact(r) * fact(n - r));\n    return `C(${n},${r}) = ${nCr}`;\n  }\n  \n  if (slug === 'permutation-calculator') {\n    const n = parseInt(inputs.n || '0');\n    const r = parseInt(inputs.r || '0');\n    if (r > n) return 'r cannot be greater than n';\n    const fact = (num: number): number => num <= 1 ? 1 : num * fact(num - 1);\n    const nPr = fact(n) / fact(n - r);\n    return `P(${n},${r}) = ${nPr}`;\n  }\n  \n  if (slug === 'prime-number-calculator') {\n    const num = parseInt(inputs.number || '0');\n    if (num < 2) return `${num} is not prime`;\n    for (let i = 2; i <= Math.sqrt(num); i++) {\n      if (num % i === 0) return `${num} is not prime`;\n    }\n    return `${num} is prime`;\n  }\n  \n  if (slug === 'lcm-calculator') {\n    const a = parseInt(inputs.a || '0');\n    const b = parseInt(inputs.b || '0');\n    return `LCM(${a}, ${b}) = ${lcm(a, b)}`;\n  }\n  \n  if (slug === 'gcf-calculator') {\n    const a = parseInt(inputs.a || '0');\n    const b = parseInt(inputs.b || '0');\n    return `GCF(${a}, ${b}) = ${gcd(a, b)}`;\n  }\n  \n  if (slug === 'divisibility-calculator') {\n    const num = parseInt(inputs.number || '0');\n    const divisor = parseInt(inputs.divisor || '1');\n    const divisible = num % divisor === 0;\n    return `${num} is ${divisible ? '' : 'NOT '}divisible by ${divisor}`;\n  }\n  \n  if (slug === 'lottery-calculator') {\n    const balls = parseInt(inputs.balls || '49');\n    const picks = parseInt(inputs.picks || '6');\n    const fact = (n: number): number => n <= 1 ? 1 : n * fact(n - 1);\n    const combinations = fact(balls) / (fact(picks) * fact(balls - picks));\n    return `Odds: 1 in ${combinations.toFixed(0)}`;\n  }\n  \n  if (slug === 'probability-calculator') {\n    const favorable = parseNum(inputs.favorable);\n    const total = parseNum(inputs.total, 1);\n    const prob = (favorable / total) * 100;\n    return `Probability: ${prob.toFixed(2)}% (${favorable}/${total})`;\n  }\n  \n  return 'Calculation complete';\n}\n\n// Algebra Handler\nexport function handleAlgebra(slug: string, inputs: CalculatorInputs): string {\n  if (slug === 'exponent-calculator') {\n    const base = parseNum(inputs.base);\n    const exponent = parseNum(inputs.exponent);\n    return `${base}^${exponent} = ${Math.pow(base, exponent).toFixed(6)}`;\n  }\n  \n  if (slug === 'square-root-calculator') {\n    const num = parseNum(inputs.number);\n    return `√${num} = ${Math.sqrt(num).toFixed(6)} | ∛${num} = ${Math.cbrt(num).toFixed(6)}`;\n  }\n  \n  if (slug === 'quadratic-formula-calculator') {\n    const a = parseNum(inputs.a);\n    const b = parseNum(inputs.b);\n    const c = parseNum(inputs.c);\n    const discriminant = b * b - 4 * a * c;\n    if (discriminant < 0) return 'No real solutions (discriminant < 0)';\n    const x1 = (-b + Math.sqrt(discriminant)) / (2 * a);\n    const x2 = (-b - Math.sqrt(discriminant)) / (2 * a);\n    return `x₁ = ${x1.toFixed(4)} | x₂ = ${x2.toFixed(4)}`;\n  }\n  \n  if (slug === 'log-calculator') {\n    const num = parseNum(inputs.number);\n    const base = parseNum(inputs.base, 10);\n    const result = Math.log(num) / Math.log(base);\n    return `log₍${base}₎(${num}) = ${result.toFixed(6)}`;\n  }\n  \n  if (slug === 'antilog-calculator') {\n    const num = parseNum(inputs.number);\n    const base = parseNum(inputs.base, 10);\n    const result = Math.pow(base, num);\n    return `antilog₍${base}₎(${num}) = ${result.toFixed(6)}`;\n  }\n  \n  if (slug === 'slope-calculator') {\n    const x1 = parseNum(inputs.x1);\n    const y1 = parseNum(inputs.y1);\n    const x2 = parseNum(inputs.x2);\n    const y2 = parseNum(inputs.y2);\n    const slope = (y2 - y1) / (x2 - x1);\n    return `Slope: ${slope.toFixed(4)}`;\n  }\n  \n  if (slug === 'distance-calculator') {\n    const x1 = parseNum(inputs.x1);\n    const y1 = parseNum(inputs.y1);\n    const x2 = parseNum(inputs.x2);\n    const y2 = parseNum(inputs.y2);\n    const distance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n    return `Distance: ${distance.toFixed(4)}`;\n  }\n  \n  if (slug === 'midpoint-calculator') {\n    const x1 = parseNum(inputs.x1);\n    const y1 = parseNum(inputs.y1);\n    const x2 = parseNum(inputs.x2);\n    const y2 = parseNum(inputs.y2);\n    const midX = (x1 + x2) / 2;\n    const midY = (y1 + y2) / 2;\n    return `Midpoint: (${midX.toFixed(2)}, ${midY.toFixed(2)})`;\n  }\n  \n  return 'Calculation complete';\n}\n\n// Geometry Handler\nexport function handleGeometry(slug: string, inputs: CalculatorInputs): string {\n  if (slug === 'circle-calculator') {\n    const radius = parseNum(inputs.radius);\n    const area = Math.PI * radius * radius;\n    const circumference = 2 * Math.PI * radius;\n    const diameter = 2 * radius;\n    return `Area: ${area.toFixed(2)} | Circumference: ${circumference.toFixed(2)} | Diameter: ${diameter.toFixed(2)}`;\n  }\n  \n  if (slug === 'triangle-calculator') {\n    const a = parseNum(inputs.side1);\n    const b = parseNum(inputs.side2);\n    const c = parseNum(inputs.side3);\n    const s = (a + b + c) / 2;\n    const area = Math.sqrt(s * (s - a) * (s - b) * (s - c));\n    return `Perimeter: ${(a + b + c).toFixed(2)} | Area: ${area.toFixed(2)}`;\n  }\n  \n  if (slug === 'pythagorean-theorem-calculator') {\n    const a = parseNum(inputs.a);\n    const b = parseNum(inputs.b);\n    const c = Math.sqrt(a * a + b * b);\n    return `Hypotenuse (c): ${c.toFixed(4)}`;\n  }\n  \n  if (slug === 'aquarium-calculator') {\n    const length = parseNum(inputs.length);\n    const width = parseNum(inputs.width);\n    const height = parseNum(inputs.height);\n    const gallons = (length * width * height) / 231; // cubic inches to gallons\n    return `Volume: ${gallons.toFixed(1)} gallons`;\n  }\n  \n  if (slug === 'screen-size-calculator') {\n    const diagonal = parseNum(inputs.diagonal);\n    const ratio = inputs.ratio || '16:9';\n    const parts = ratio.split(':');\n    const w = parseFloat(parts[0]);\n    const h = parseFloat(parts[1]);\n    const factor = diagonal / Math.sqrt(w*w + h*h);\n    const width = w * factor;\n    const height = h * factor;\n    return `Dimensions: ${width.toFixed(1)}\" × ${height.toFixed(1)}\"`;\n  }\n  \n  return 'Calculation complete';\n}\n\n// Trigonometry Handler\nexport function handleTrigonometry(slug: string, inputs: CalculatorInputs): string {\n  const angle = parseNum(inputs.angle);\n  const radians = angle * Math.PI / 180;\n  \n  if (slug === 'sine-calculator') {\n    return `sin(${angle}°) = ${Math.sin(radians).toFixed(6)}`;\n  }\n  if (slug === 'cosine-calculator') {\n    return `cos(${angle}°) = ${Math.cos(radians).toFixed(6)}`;\n  }\n  if (slug === 'tangent-calculator') {\n    return `tan(${angle}°) = ${Math.tan(radians).toFixed(6)}`;\n  }\n  \n  return 'Calculation complete';\n}\n\n// Conversion Handler (Imperial defaults)\nexport function handleConversion(slug: string, inputs: CalculatorInputs): string {\n  if (slug === 'decimal-to-fraction') {\n    const decimal = parseNum(inputs.decimal);\n    const tolerance = 1.0E-6;\n    let numerator = 1, denominator = 1, error = Math.abs(decimal - numerator / denominator);\n    while (error > tolerance && denominator < 10000) {\n      denominator++;\n      numerator = Math.round(decimal * denominator);\n      error = Math.abs(decimal - numerator / denominator);\n    }\n    return `${decimal} = ${numerator}/${denominator}`;\n  }\n  \n  if (slug === 'fraction-to-decimal') {\n    const num = parseNum(inputs.numerator);\n    const den = parseNum(inputs.denominator, 1);\n    return `${num}/${den} = ${(num / den).toFixed(6)}`;\n  }\n  \n  if (slug === 'base-converter' || slug === 'binary-converter') {\n    const number = inputs.number || '0';\n    const fromBase = parseInt(inputs.fromBase || '10');\n    const toBase = parseInt(inputs.toBase || '10');\n    const decimal = parseInt(number, fromBase);\n    const result = decimal.toString(toBase);\n    return `${number} (base ${fromBase}) = ${result.toUpperCase()} (base ${toBase})`;\n  }\n  \n  if (slug === 'temperature-converter' || slug === 'celsius-to-fahrenheit') {\n    const fahrenheit = parseNum(inputs.fahrenheit, 32);\n    const celsius = (fahrenheit - 32) * 5 / 9;\n    const kelvin = celsius + 273.15;\n    return `${fahrenheit}°F = ${celsius.toFixed(2)}°C = ${kelvin.toFixed(2)}K`;\n  }\n  \n  if (slug === 'length-converter' || slug === 'feet-to-meters') {\n    const feet = parseNum(inputs.feet);\n    const meters = feet * 0.3048;\n    const inches = feet * 12;\n    return `${feet} ft = ${meters.toFixed(2)} m = ${inches.toFixed(0)} in`;\n  }\n  \n  if (slug === 'miles-to-km') {\n    const miles = parseNum(inputs.miles);\n    const km = miles * 1.60934;\n    return `${miles} miles = ${km.toFixed(2)} km`;\n  }\n  \n  if (slug === 'weight-converter' || slug === 'kg-to-lbs') {\n    const pounds = parseNum(inputs.pounds);\n    const kg = pounds * 0.453592;\n    const ounces = pounds * 16;\n    return `${pounds} lbs = ${kg.toFixed(2)} kg = ${ounces.toFixed(0)} oz`;\n  }\n  \n  if (slug === 'cm-to-inches') {\n    const inches = parseNum(inputs.inches);\n    const cm = inches * 2.54;\n    return `${inches} in = ${cm.toFixed(2)} cm`;\n  }\n  \n  if (slug === 'volume-converter' || slug === 'gallons-to-liters') {\n    const gallons = parseNum(inputs.gallons);\n    const liters = gallons * 3.78541;\n    const quarts = gallons * 4;\n    return `${gallons} gal = ${liters.toFixed(2)} L = ${quarts.toFixed(2)} qt`;\n  }\n  \n  if (slug === 'speed-converter') {\n    const mph = parseNum(inputs.mph);\n    const kmh = mph * 1.60934;\n    const fps = mph * 1.46667;\n    return `${mph} mph = ${kmh.toFixed(2)} km/h = ${fps.toFixed(2)} ft/s`;\n  }\n  \n  if (slug === 'area-converter') {\n    const sqft = parseNum(inputs.sqft);\n    const sqm = sqft * 0.092903;\n    return `${sqft} sq ft = ${sqm.toFixed(2)} sq m`;\n  }\n  \n  if (slug === 'time-converter') {\n    const hours = parseNum(inputs.hours);\n    return `${hours} hours = ${(hours * 60).toFixed(0)} min = ${(hours * 3600).toFixed(0)} sec`;\n  }\n  \n  if (slug === 'pressure-converter') {\n    const psi = parseNum(inputs.psi);\n    const kpa = psi * 6.89476;\n    return `${psi} PSI = ${kpa.toFixed(2)} kPa`;\n  }\n  \n  if (slug === 'energy-converter') {\n    const btus = parseNum(inputs.btus);\n    const joules = btus * 1055.06;\n    return `${btus} BTU = ${joules.toFixed(2)} J`;\n  }\n  \n  if (slug === 'power-converter') {\n    const watts = parseNum(inputs.watts);\n    const hp = watts / 745.7;\n    return `${watts} W = ${hp.toFixed(3)} HP`;\n  }\n  \n  if (slug === 'pixels-to-inches') {\n    const pixels = parseNum(inputs.pixels);\n    const dpi = parseNum(inputs.dpi, 96);\n    const inches = pixels / dpi;\n    return `${pixels} pixels at ${dpi} DPI = ${inches.toFixed(2)} inches`;\n  }\n  \n  return 'Conversion complete';\n}\n\n// Loan Handler\nexport function handleLoan(slug: string, inputs: CalculatorInputs): string {\n  const principal = parseNum(inputs.principal);\n  const rate = parseNum(inputs.rate) / 100 / 12;\n  const term = parseNum(inputs.term) * 12;\n  \n  if (rate === 0) {\n    const monthlyPayment = principal / term;\n    return `Monthly Payment: $${monthlyPayment.toFixed(2)} (0% interest)`;\n  }\n  \n  const monthlyPayment = principal * (rate * Math.pow(1 + rate, term)) / (Math.pow(1 + rate, term) - 1);\n  const totalPaid = monthlyPayment * term;\n  const totalInterest = totalPaid - principal;\n  \n  if (slug === 'debt-calculator' || slug === 'credit-card-calculator') {\n    let months = 0, currentBalance = principal, totalInt = 0;\n    const payment = parseNum(inputs.payment, monthlyPayment);\n    \n    while (currentBalance > 0 && months < 600) {\n      const interest = currentBalance * rate;\n      totalInt += interest;\n      currentBalance = currentBalance + interest - payment;\n      months++;\n      if (payment <= interest) return 'Payment too small - debt will never be paid off!';\n    }\n    \n    return `Payoff Time: ${months} months (${(months / 12).toFixed(1)} years) | Total Interest: $${totalInt.toFixed(2)}`;\n  }\n  \n  return `Monthly Payment: $${monthlyPayment.toFixed(2)} | Total Interest: $${totalInterest.toFixed(2)} | Total: $${totalPaid.toFixed(2)}`;\n}\n\n// Investment Handler\nexport function handleInvestment(slug: string, inputs: CalculatorInputs): string {\n  if (slug === 'simple-interest-calculator') {\n    const principal = parseNum(inputs.principal);\n    const rate = parseNum(inputs.rate) / 100;\n    const time = parseNum(inputs.time);\n    const interest = principal * rate * time;\n    return `Interest: $${interest.toFixed(2)} | Total: $${(principal + interest).toFixed(2)}`;\n  }\n  \n  if (slug === 'compound-interest-calculator' || slug === 'interest-calculator') {\n    const principal = parseNum(inputs.principal);\n    const rate = parseNum(inputs.rate) / 100;\n    const time = parseNum(inputs.time);\n    const frequency = parseNum(inputs.frequency, 12);\n    const amount = principal * Math.pow(1 + rate / frequency, frequency * time);\n    const interest = amount - principal;\n    return `Final Amount: $${amount.toFixed(2)} | Interest: $${interest.toFixed(2)}`;\n  }\n  \n  if (slug === 'roi-calculator') {\n    const initial = parseNum(inputs.initial);\n    const final = parseNum(inputs.final);\n    const roi = ((final - initial) / initial) * 100;\n    return `ROI: ${roi.toFixed(2)}% | Gain/Loss: $${(final - initial).toFixed(2)}`;\n  }\n  \n  if (['savings-calculator', 'investment-calculator', 'retirement-calculator', '401k-calculator', 'roth-ira-calculator', 'college-savings-calculator'].includes(slug)) {\n    const initial = parseNum(inputs.initial);\n    const monthly = parseNum(inputs.monthly);\n    const rate = parseNum(inputs.rate) / 100 / 12;\n    const years = parseNum(inputs.years);\n    const months = years * 12;\n    const futureValue = initial * Math.pow(1 + rate, months) + monthly * ((Math.pow(1 + rate, months) - 1) / rate);\n    const totalContributions = initial + monthly * months;\n    const earnings = futureValue - totalContributions;\n    return `Future Value: $${futureValue.toFixed(2)} | Contributions: $${totalContributions.toFixed(2)} | Earnings: $${earnings.toFixed(2)}`;\n  }\n  \n  if (slug === 'inflation-calculator') {\n    const amount = parseNum(inputs.amount);\n    const years = parseNum(inputs.years);\n    const rate = parseNum(inputs.rate, 3) / 100;\n    const future = amount * Math.pow(1 + rate, years);\n    return `$${amount} today = $${future.toFixed(2)} in ${years} years (${rate * 100}% inflation)`;\n  }\n  \n  if (slug === 'depreciation-calculator') {\n    const cost = parseNum(inputs.cost);\n    const salvage = parseNum(inputs.salvage);\n    const years = parseNum(inputs.years, 1);\n    const annual = (cost - salvage) / years;\n    return `Annual Depreciation: $${annual.toFixed(2)} | Value after ${years} years: $${salvage.toFixed(2)}`;\n  }\n  \n  if (slug === 'stock-calculator') {\n    const shares = parseNum(inputs.shares);\n    const buy = parseNum(inputs.buyPrice);\n    const sell = parseNum(inputs.sellPrice);\n    const profit = (sell - buy) * shares;\n    const roi = ((sell - buy) / buy) * 100;\n    return `Profit/Loss: $${profit.toFixed(2)} | ROI: ${roi.toFixed(2)}%`;\n  }\n  \n  if (slug === 'dividend-calculator') {\n    const shares = parseNum(inputs.shares);\n    const dividend = parseNum(inputs.dividend);\n    const annual = shares * dividend;\n    return `Annual Dividends: $${annual.toFixed(2)} | Quarterly: $${(annual / 4).toFixed(2)}`;\n  }\n  \n  if (slug === 'apr-calculator') {\n    const principal = parseNum(inputs.principal);\n    const fee = parseNum(inputs.fee);\n    const term = parseNum(inputs.term, 1);\n    const apr = (fee / principal / term) * 100;\n    return `APR: ${apr.toFixed(2)}%`;\n  }\n  \n  if (slug === 'apy-calculator') {\n    const rate = parseNum(inputs.rate) / 100;\n    const frequency = parseNum(inputs.frequency, 12);\n    const apy = (Math.pow(1 + rate / frequency, frequency) - 1) * 100;\n    return `APY: ${apy.toFixed(2)}%`;\n  }\n  \n  return 'Calculation complete';\n}\n\n// Salary Handler\nexport function handleSalary(slug: string, inputs: CalculatorInputs): string {\n  if (slug === 'salary-to-hourly') {\n    const annual = parseNum(inputs.annual);\n    const hours = parseNum(inputs.hoursPerWeek, 40);\n    const hourly = annual / (hours * 52);\n    return `Hourly: $${hourly.toFixed(2)} | Weekly: $${(annual / 52).toFixed(2)} | Monthly: $${(annual / 12).toFixed(2)}`;\n  }\n  \n  const hourly = parseNum(inputs.hourly);\n  const hours = parseNum(inputs.hoursPerWeek, 40);\n  const annual = hourly * hours * 52;\n  return `Annual: $${annual.toFixed(2)} | Monthly: $${(annual / 12).toFixed(2)} | Weekly: $${(annual / 52).toFixed(2)}`;\n}\n\n// Tax & Discount Handler\nexport function handleTaxDiscount(slug: string, inputs: CalculatorInputs): string {\n  if (slug === 'tip-calculator') {\n    const bill = parseNum(inputs.bill);\n    const tipPercent = parseNum(inputs.tip, 15);\n    const people = parseNum(inputs.people, 1);\n    const tip = bill * tipPercent / 100;\n    const total = bill + tip;\n    const perPerson = total / people;\n    return `Tip: $${tip.toFixed(2)} | Total: $${total.toFixed(2)} | Per Person: $${perPerson.toFixed(2)}`;\n  }\n  \n  if (slug === 'discount-calculator') {\n    const original = parseNum(inputs.original);\n    const discount = parseNum(inputs.discount);\n    const amount = original * discount / 100;\n    const final = original - amount;\n    return `Discount: $${amount.toFixed(2)} | Final Price: $${final.toFixed(2)} | Save: ${discount}%`;\n  }\n  \n  if (slug === 'markup-calculator') {\n    const cost = parseNum(inputs.cost);\n    const markup = parseNum(inputs.markup);\n    const price = cost * (1 + markup / 100);\n    return `Selling Price: $${price.toFixed(2)} | Markup: $${(price - cost).toFixed(2)}`;\n  }\n  \n  if (slug === 'margin-calculator') {\n    const revenue = parseNum(inputs.revenue);\n    const cost = parseNum(inputs.cost);\n    const profit = revenue - cost;\n    const margin = (profit / revenue) * 100;\n    return `Profit: $${profit.toFixed(2)} | Margin: ${margin.toFixed(2)}%`;\n  }\n  \n  if (slug === 'sales-tax-calculator' || slug === 'vat-calculator') {\n    const price = parseNum(inputs.price);\n    const rate = parseNum(slug === 'vat-calculator' ? inputs.vatRate : inputs.taxRate);\n    const tax = price * rate / 100;\n    return `Tax: $${tax.toFixed(2)} | Total: $${(price + tax).toFixed(2)}`;\n  }\n  \n  if (slug === 'property-tax-calculator') {\n    const value = parseNum(inputs.value);\n    const rate = parseNum(inputs.rate);\n    const tax = value * rate / 100;\n    return `Annual Property Tax: $${tax.toFixed(2)} | Monthly: $${(tax / 12).toFixed(2)}`;\n  }\n  \n  if (slug === 'commission-calculator') {\n    const sales = parseNum(inputs.sales);\n    const rate = parseNum(inputs.rate);\n    const commission = sales * rate / 100;\n    return `Commission: $${commission.toFixed(2)} (${rate}% of $${sales.toFixed(2)})`;\n  }\n  \n  if (slug === 'closing-costs-calculator') {\n    const price = parseNum(inputs.price);\n    const rate = parseNum(inputs.rate, 3);\n    const costs = price * rate / 100;\n    return `Estimated Closing Costs: $${costs.toFixed(2)} (${rate}% of home price)`;\n  }\n  \n  return 'Calculation complete';\n}\n\n// Health BMI Handler\nexport function handleHealthBMI(slug: string, inputs: CalculatorInputs): string {\n  const weight = parseNum(inputs.weight);\n  const heightFeet = parseNum(inputs.heightFeet);\n  const heightInches = parseNum(inputs.heightInches);\n  const totalInches = heightFeet * 12 + heightInches;\n  \n  if (slug === 'bmi-calculator') {\n    const bmi = (weight / (totalInches * totalInches)) * 703;\n    let category = '';\n    if (bmi < 18.5) category = 'Underweight';\n    else if (bmi < 25) category = 'Normal';\n    else if (bmi < 30) category = 'Overweight';\n    else category = 'Obese';\n    return `BMI: ${bmi.toFixed(1)} (${category})`;\n  }\n  \n  if (slug === 'ideal-weight-calculator') {\n    const gender = inputs.gender || 'male';\n    const baseWeight = gender === 'male' ? 106 : 100;\n    const perInch = gender === 'male' ? 6 : 5;\n    const idealWeight = baseWeight + perInch * Math.max(0, totalInches - 60);\n    return `Ideal Weight: ${idealWeight.toFixed(0)} lbs`;\n  }\n  \n  if (slug === 'body-fat-calculator') {\n    const waist = parseNum(inputs.waist);\n    const neck = parseNum(inputs.neck);\n    const gender = inputs.gender || 'male';\n    let bodyFat = 0;\n    if (gender === 'male') {\n      bodyFat = 86.010 * Math.log10(waist - neck) - 70.041 * Math.log10(totalInches) + 36.76;\n    } else {\n      const hip = parseNum(inputs.hip, waist);\n      bodyFat = 163.205 * Math.log10(waist + hip - neck) - 97.684 * Math.log10(totalInches) - 78.387;\n    }\n    return `Body Fat: ${bodyFat.toFixed(1)}%`;\n  }\n  \n  if (slug === 'lean-body-mass-calculator') {\n    const bodyFat = parseNum(inputs.bodyFat);\n    const lbm = weight * (1 - bodyFat / 100);\n    return `Lean Body Mass: ${lbm.toFixed(1)} lbs | Body Fat: ${(weight - lbm).toFixed(1)} lbs`;\n  }\n  \n  return 'Calculation complete';\n}\n\n// Health Calories Handler\nexport function handleHealthCalories(slug: string, inputs: CalculatorInputs): string {\n  const weight = parseNum(inputs.weight);\n  const heightFeet = parseNum(inputs.heightFeet);\n  const heightInches = parseNum(inputs.heightInches);\n  const age = parseNum(inputs.age);\n  const gender = inputs.gender || 'male';\n  const activityLevel = parseNum(inputs.activityLevel, 1.55);\n  \n  const totalInches = heightFeet * 12 + heightInches;\n  const weightKg = weight * 0.453592;\n  const heightCm = totalInches * 2.54;\n  \n  let bmr;\n  if (gender === 'male') {\n    bmr = 10 * weightKg + 6.25 * heightCm - 5 * age + 5;\n  } else {\n    bmr = 10 * weightKg + 6.25 * heightCm - 5 * age - 161;\n  }\n  \n  const tdee = bmr * activityLevel;\n  \n  if (slug === 'bmr-calculator') {\n    return `BMR: ${bmr.toFixed(0)} calories/day`;\n  }\n  \n  if (slug === 'protein-calculator') {\n    const actLevel = inputs.activityLevel || 'moderate';\n    let proteinPerLb = 0.8;\n    if (actLevel === 'sedentary') proteinPerLb = 0.6;\n    else if (actLevel === 'active') proteinPerLb = 1.0;\n    else if (actLevel === 'very-active') proteinPerLb = 1.2;\n    const protein = weight * proteinPerLb;\n    return `Daily Protein: ${protein.toFixed(0)}g (${(protein * 4).toFixed(0)} calories)`;\n  }\n  \n  if (slug === 'carb-calculator') {\n    const carbPercent = 0.45; // 45% of calories\n    const carbCals = tdee * carbPercent;\n    const carbs = carbCals / 4;\n    return `Daily Carbs: ${carbs.toFixed(0)}g (${carbCals.toFixed(0)} calories)`;\n  }\n  \n  if (slug === 'water-intake-calculator') {\n    const ounces = weight * 0.67;\n    const cups = ounces / 8;\n    return `Daily Water: ${ounces.toFixed(0)} oz (${cups.toFixed(1)} cups)`;\n  }\n  \n  return `BMR: ${bmr.toFixed(0)} cal/day | TDEE: ${tdee.toFixed(0)} cal/day`;\n}\n\n// Health Fitness Handler\nexport function handleHealthFitness(slug: string, inputs: CalculatorInputs): string {\n  if (slug === 'pace-calculator' || slug === 'running-calculator') {\n    const distance = parseNum(inputs.distance);\n    const time = parseNum(inputs.time);\n    const pace = time / distance;\n    const mph = 60 / pace;\n    return `Pace: ${pace.toFixed(2)} min/mile | Speed: ${mph.toFixed(2)} mph`;\n  }\n  \n  if (slug === 'heart-rate-calculator') {\n    const age = parseNum(inputs.age);\n    const resting = parseNum(inputs.restingHR, 70);\n    const maxHR = 220 - age;\n    const zone1 = Math.round(maxHR * 0.5);\n    const zone2 = Math.round(maxHR * 0.6);\n    const zone3 = Math.round(maxHR * 0.7);\n    const zone4 = Math.round(maxHR * 0.8);\n    const zone5 = Math.round(maxHR * 0.9);\n    return `Max HR: ${maxHR} bpm | Zones: ${zone1}-${zone2} (warm-up), ${zone2}-${zone3} (fat burn), ${zone3}-${zone4} (cardio), ${zone4}-${zone5} (peak)`;\n  }\n  \n  if (slug === 'vo2-max-calculator') {\n    const distance = parseNum(inputs.distance);\n    const time = parseNum(inputs.time);\n    const vo2max = (distance / time) * 3.5;\n    return `VO2 Max: ${vo2max.toFixed(1)} ml/kg/min`;\n  }\n  \n  if (slug === 'one-rep-max-calculator') {\n    const weight = parseNum(inputs.weight);\n    const reps = parseNum(inputs.reps, 1);\n    const oneRM = weight * (1 + reps / 30);\n    return `One Rep Max: ${oneRM.toFixed(0)} lbs`;\n  }\n  \n  if (slug === 'bac-calculator') {\n    const weight = parseNum(inputs.weight);\n    const drinks = parseNum(inputs.drinks);\n    const hours = parseNum(inputs.hours, 1);\n    const gender = inputs.gender || 'male';\n    const r = gender === 'male' ? 0.68 : 0.55;\n    const bac = ((drinks * 0.6 * 5.14) / (weight * r)) - (0.015 * hours);\n    return `BAC: ${Math.max(0, bac).toFixed(3)}%${bac > 0.08 ? ' (Over legal limit!)' : ''}`;\n  }\n  \n  return 'Calculation complete';\n}\n\n// Date & Time Handler\nexport function handleDateTime(slug: string, inputs: CalculatorInputs): string {\n  if (slug === 'age-calculator') {\n    const birthDate = new Date(inputs.birthDate || Date.now());\n    const today = new Date();\n    const years = today.getFullYear() - birthDate.getFullYear();\n    const months = today.getMonth() - birthDate.getMonth();\n    const days = today.getDate() - birthDate.getDate();\n    return `Age: ${years} years, ${months} months, ${days} days`;\n  }\n  \n  if (slug === 'date-calculator') {\n    const start = new Date(inputs.startDate || Date.now());\n    const daysToAdd = parseNum(inputs.days);\n    const result = new Date(start.getTime() + daysToAdd * 24 * 60 * 60 * 1000);\n    return `Result: ${result.toDateString()}`;\n  }\n  \n  if (slug === 'days-until-calculator' || slug === 'birthday-calculator') {\n    const target = new Date(inputs.targetDate || inputs.birthDate || Date.now());\n    const today = new Date();\n    const diff = Math.ceil((target.getTime() - today.getTime()) / (1000 * 60 * 60 * 24));\n    return `Days Until: ${diff} days`;\n  }\n  \n  if (slug === 'hours-calculator') {\n    const start = inputs.startTime || '9:00';\n    const end = inputs.endTime || '17:00';\n    const startParts = start.split(':');\n    const endParts = end.split(':');\n    const startMins = parseInt(startParts[0]) * 60 + parseInt(startParts[1]);\n    const endMins = parseInt(endParts[0]) * 60 + parseInt(endParts[1]);\n    const totalMins = endMins - startMins;\n    const hours = Math.floor(totalMins / 60);\n    const mins = totalMins % 60;\n    return `Total Time: ${hours} hours ${mins} minutes`;\n  }\n  \n  return 'Calculation complete';\n}\n\n// Grade Handler\nexport function handleGrade(slug: string, inputs: CalculatorInputs): string {\n  if (slug === 'gpa-calculator') {\n    const grades = (inputs.grades || '').split(',').map(g => g.trim().toUpperCase());\n    const gradePoints: { [key: string]: number } = { 'A': 4.0, 'B': 3.0, 'C': 2.0, 'D': 1.0, 'F': 0.0 };\n    const points = grades.map(g => gradePoints[g] || 0);\n    const gpa = points.reduce((a, b) => a + b, 0) / points.length;\n    return `GPA: ${gpa.toFixed(2)}`;\n  }\n  \n  if (slug === 'test-grade-calculator') {\n    const correct = parseNum(inputs.correct);\n    const total = parseNum(inputs.total, 1);\n    const percent = (correct / total) * 100;\n    let grade = 'F';\n    if (percent >= 90) grade = 'A';\n    else if (percent >= 80) grade = 'B';\n    else if (percent >= 70) grade = 'C';\n    else if (percent >= 60) grade = 'D';\n    return `Score: ${percent.toFixed(1)}% (${grade}) | ${correct}/${total} correct`;\n  }\n  \n  if (slug === 'final-grade-calculator') {\n    const current = parseNum(inputs.current);\n    const finalWeight = parseNum(inputs.finalWeight, 20);\n    const target = parseNum(inputs.targetGrade, 90);\n    const needed = (target - current * (100 - finalWeight) / 100) * 100 / finalWeight;\n    return `Score Needed on Final: ${needed.toFixed(1)}%`;\n  }\n  \n  return 'Calculation complete';\n}\n\n// Construction Handler\nexport function handleConstruction(slug: string, inputs: CalculatorInputs): string {\n  if (slug === 'square-footage-calculator') {\n    const length = parseNum(inputs.length);\n    const width = parseNum(inputs.width);\n    return `Square Footage: ${(length * width).toFixed(2)} sq ft`;\n  }\n  \n  if (slug === 'paint-calculator') {\n    const sqft = parseNum(inputs.sqft);\n    const coats = parseNum(inputs.coats, 1);\n    const gallons = Math.ceil((sqft * coats) / 350);\n    return `Paint Needed: ${gallons} gallon(s) for ${coats} coat(s)`;\n  }\n  \n  if (slug === 'concrete-calculator' || slug === 'gravel-calculator' || slug === 'mulch-calculator' || slug === 'soil-calculator') {\n    const length = parseNum(inputs.length);\n    const width = parseNum(inputs.width);\n    const depth = parseNum(inputs.depth);\n    const cubicFeet = (length * width * depth) / 12;\n    const cubicYards = cubicFeet / 27;\n    return `Volume: ${cubicFeet.toFixed(2)} cu ft | ${cubicYards.toFixed(2)} cu yd`;\n  }\n  \n  if (slug === 'flooring-calculator' || slug === 'tile-calculator') {\n    const length = parseNum(inputs.length || inputs.roomLength);\n    const width = parseNum(inputs.width || inputs.roomWidth);\n    const sqft = length * width;\n    const waste = sqft * 0.1;\n    return `Area: ${sqft.toFixed(2)} sq ft | With 10% waste: ${(sqft + waste).toFixed(2)} sq ft`;\n  }\n  \n  return 'Calculation complete';\n}\n\n// Text Handler\nexport function handleText(slug: string, inputs: CalculatorInputs): string {\n  const text = inputs.text || '';\n  \n  if (slug === 'word-counter') {\n    const words = text.trim().split(/\\s+/).filter(w => w.length > 0).length;\n    const chars = text.length;\n    return `Words: ${words} | Characters: ${chars}`;\n  }\n  \n  if (slug === 'character-counter') {\n    return `Characters: ${text.length} | Without spaces: ${text.replace(/\\s/g, '').length}`;\n  }\n  \n  if (slug === 'case-converter') {\n    const caseType = inputs.case || 'upper';\n    let result = text;\n    if (caseType === 'upper') result = text.toUpperCase();\n    else if (caseType === 'lower') result = text.toLowerCase();\n    else if (caseType === 'title') result = text.replace(/\\w\\S*/g, w => w.charAt(0).toUpperCase() + w.slice(1).toLowerCase());\n    return result;\n  }\n  \n  return 'Calculation complete';\n}\n\n// Random Generator Handler\nexport function handleRandom(slug: string, inputs: CalculatorInputs): string {\n  if (slug === 'random-number-generator') {\n    const min = parseInt(inputs.min || '1');\n    const max = parseInt(inputs.max || '100');\n    const random = Math.floor(Math.random() * (max - min + 1)) + min;\n    return `Random Number: ${random}`;\n  }\n  \n  if (slug === 'dice-roller') {\n    const sides = parseInt(inputs.sides || '6');\n    const count = parseInt(inputs.count || '1');\n    const rolls = Array.from({ length: count }, () => Math.floor(Math.random() * sides) + 1);\n    const sum = rolls.reduce((a, b) => a + b, 0);\n    return `Rolls: ${rolls.join(', ')} | Sum: ${sum}`;\n  }\n  \n  if (slug === 'coin-flip') {\n    const flips = parseInt(inputs.flips || '1');\n    const results = Array.from({ length: flips }, () => Math.random() < 0.5 ? 'Heads' : 'Tails');\n    const heads = results.filter(r => r === 'Heads').length;\n    return `Results: ${results.join(', ')} | Heads: ${heads} | Tails: ${flips - heads}`;\n  }\n  \n  return 'Calculation complete';\n}\n\n// Generator Handler\nexport function handleGenerator(slug: string, inputs: CalculatorInputs): string {\n  if (slug === 'password-generator') {\n    const length = parseInt(inputs.length || '12');\n    const chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*';\n    let password = '';\n    for (let i = 0; i < length; i++) {\n      password += chars.charAt(Math.floor(Math.random() * chars.length));\n    }\n    return `Generated Password: ${password}`;\n  }\n  \n  return 'Generated successfully';\n}\n\n// Generic Handler\nexport function handleOther(slug: string, inputs: CalculatorInputs): string {\n  return 'Calculation completed. This calculator provides results based on your inputs.';\n}\n","size_bytes":40896},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2154},"client/src/pages/home.tsx":{"content":"import Landing from \"./landing\";\n\nexport default function Home() {\n  // Always show the landing page - auth is optional\n  return <Landing />;\n}\n","size_bytes":144},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1128},"client/src/components/Calculator.tsx":{"content":"import { useState } from 'react';\nimport { useAuth } from '@/hooks/useAuth';\nimport { apiRequest } from '@/lib/queryClient';\nimport { useMutation } from '@tanstack/react-query';\nimport { useToast } from '@/hooks/use-toast';\n\nexport default function Calculator() {\n  const [display, setDisplay] = useState('0');\n  const [previousDisplay, setPreviousDisplay] = useState('');\n  const [currentValue, setCurrentValue] = useState('0');\n  const [previousValue, setPreviousValue] = useState('');\n  const [operation, setOperation] = useState<string | null>(null);\n  const [shouldResetScreen, setShouldResetScreen] = useState(false);\n  \n  const { isAuthenticated } = useAuth();\n  const { toast } = useToast();\n\n  const recordUsage = useMutation({\n    mutationFn: async (data: any) => {\n      if (!isAuthenticated) return;\n      return apiRequest('POST', '/api/calculator-usage', data);\n    },\n    onError: (error) => {\n      console.error('Failed to record usage:', error);\n    },\n  });\n\n  const updateDisplay = (value: string) => {\n    setDisplay(value);\n    setCurrentValue(value);\n  };\n\n  const updatePreviousDisplay = () => {\n    if (operation) {\n      setPreviousDisplay(`${previousValue} ${operation}`);\n    } else {\n      setPreviousDisplay('');\n    }\n  };\n\n  const calculate = () => {\n    const prev = parseFloat(previousValue);\n    const current = parseFloat(currentValue);\n    \n    if (isNaN(prev) || isNaN(current)) return;\n    \n    let result: number;\n    switch (operation) {\n      case '+':\n        result = prev + current;\n        break;\n      case '-':\n        result = prev - current;\n        break;\n      case '*':\n        result = prev * current;\n        break;\n      case '/':\n        result = current !== 0 ? prev / current : 0;\n        break;\n      default:\n        return;\n    }\n    \n    const resultString = String(result);\n    updateDisplay(resultString);\n    setPreviousDisplay('');\n    \n    // Record usage if authenticated\n    recordUsage.mutate({\n      calculatorName: 'Basic Calculator',\n      calculatorType: 'Math',\n      inputs: { operation, previousValue: prev, currentValue: current },\n      result: resultString,\n    });\n  };\n\n  const handleButtonClick = (value: string) => {\n    // Number buttons\n    if (!isNaN(Number(value)) || value === '.') {\n      if (shouldResetScreen) {\n        updateDisplay(value);\n        setShouldResetScreen(false);\n      } else {\n        const newValue = currentValue === '0' ? value : currentValue + value;\n        updateDisplay(newValue);\n      }\n    }\n    \n    // Operator buttons\n    else if (['+', '-', '*', '/'].includes(value)) {\n      if (operation !== null && !shouldResetScreen) {\n        calculate();\n      }\n      setPreviousValue(currentValue);\n      setOperation(value);\n      setShouldResetScreen(true);\n      updatePreviousDisplay();\n    }\n    \n    // Equals button\n    else if (value === '=') {\n      calculate();\n      setOperation(null);\n      setShouldResetScreen(true);\n    }\n    \n    // Clear button\n    else if (value === 'AC') {\n      updateDisplay('0');\n      setPreviousDisplay('');\n      setPreviousValue('');\n      setOperation(null);\n      setShouldResetScreen(false);\n    }\n    \n    // Plus/minus toggle\n    else if (value === '±') {\n      const newValue = String(-parseFloat(currentValue));\n      updateDisplay(newValue);\n    }\n    \n    // Percentage\n    else if (value === '%') {\n      const newValue = String(parseFloat(currentValue) / 100);\n      updateDisplay(newValue);\n    }\n    \n    // Scientific functions\n    else if (value === 'sin') {\n      const newValue = String(Math.sin(parseFloat(currentValue) * Math.PI / 180));\n      updateDisplay(newValue);\n      setShouldResetScreen(true);\n    }\n    else if (value === 'cos') {\n      const newValue = String(Math.cos(parseFloat(currentValue) * Math.PI / 180));\n      updateDisplay(newValue);\n      setShouldResetScreen(true);\n    }\n    else if (value === 'tan') {\n      const newValue = String(Math.tan(parseFloat(currentValue) * Math.PI / 180));\n      updateDisplay(newValue);\n      setShouldResetScreen(true);\n    }\n    else if (value === 'log') {\n      const newValue = String(Math.log10(parseFloat(currentValue)));\n      updateDisplay(newValue);\n      setShouldResetScreen(true);\n    }\n    else if (value === 'ln') {\n      const newValue = String(Math.log(parseFloat(currentValue)));\n      updateDisplay(newValue);\n      setShouldResetScreen(true);\n    }\n    else if (value === 'π') {\n      updateDisplay(String(Math.PI));\n      setShouldResetScreen(true);\n    }\n    else if (value === 'e') {\n      updateDisplay(String(Math.E));\n      setShouldResetScreen(true);\n    }\n  };\n\n  return (\n    <div className=\"bg-white rounded-2xl shadow-xl p-6 max-w-md mx-auto\">\n      <h2 className=\"text-2xl font-bold text-gray-900 mb-4 text-center\">Basic Calculator</h2>\n      \n      <div className=\"calculator-container\">\n        {/* Display */}\n        <div className=\"bg-gray-900 rounded-lg mb-4 p-4\">\n          <div className=\"text-right\">\n            <div className=\"text-gray-400 text-sm font-mono h-6\">\n              {previousDisplay}\n            </div>\n            <div className=\"text-white text-3xl font-mono font-bold\">{display}</div>\n          </div>\n        </div>\n        \n        {/* Scientific Functions Row */}\n        <div className=\"grid grid-cols-8 gap-2 mb-2\">\n          {['sin', 'cos', 'tan', 'log', 'ln', 'π', 'e', '^'].map((func) => (\n            <button\n              key={func}\n              className=\"calc-btn calc-btn-function px-2 py-3 rounded-lg font-medium text-sm transition-all shadow-md bg-blue-600 text-white hover:bg-blue-700 hover:transform hover:-translate-y-px active:transform active:translate-y-0\"\n              onClick={() => handleButtonClick(func)}\n            >\n              {func === '^' ? 'x^y' : func}\n            </button>\n          ))}\n        </div>\n        \n        {/* Main Calculator Grid */}\n        <div className=\"grid grid-cols-4 gap-2\">\n          {/* Row 1 */}\n          <button\n            className=\"calc-btn calc-btn-function px-4 py-3 rounded-lg font-medium transition-all shadow-md bg-blue-600 text-white hover:bg-blue-700 hover:transform hover:-translate-y-px active:transform active:translate-y-0\"\n            onClick={() => handleButtonClick('AC')}\n          >\n            AC\n          </button>\n          <button\n            className=\"calc-btn calc-btn-function px-4 py-3 rounded-lg font-medium transition-all shadow-md bg-blue-600 text-white hover:bg-blue-700 hover:transform hover:-translate-y-px active:transform active:translate-y-0\"\n            onClick={() => handleButtonClick('±')}\n          >\n            ±\n          </button>\n          <button\n            className=\"calc-btn calc-btn-function px-4 py-3 rounded-lg font-medium transition-all shadow-md bg-blue-600 text-white hover:bg-blue-700 hover:transform hover:-translate-y-px active:transform active:translate-y-0\"\n            onClick={() => handleButtonClick('%')}\n          >\n            %\n          </button>\n          <button\n            className=\"calc-btn calc-btn-operator px-4 py-3 rounded-lg font-medium transition-all shadow-md bg-orange-500 text-white hover:bg-orange-600 hover:transform hover:-translate-y-px active:transform active:translate-y-0\"\n            onClick={() => handleButtonClick('/')}\n          >\n            ÷\n          </button>\n          \n          {/* Row 2 */}\n          {['7', '8', '9'].map((num) => (\n            <button\n              key={num}\n              className=\"calc-btn calc-btn-number px-4 py-3 rounded-lg font-medium transition-all shadow-md bg-amber-800 text-white hover:bg-amber-900 hover:transform hover:-translate-y-px active:transform active:translate-y-0\"\n              onClick={() => handleButtonClick(num)}\n            >\n              {num}\n            </button>\n          ))}\n          <button\n            className=\"calc-btn calc-btn-operator px-4 py-3 rounded-lg font-medium transition-all shadow-md bg-orange-500 text-white hover:bg-orange-600 hover:transform hover:-translate-y-px active:transform active:translate-y-0\"\n            onClick={() => handleButtonClick('*')}\n          >\n            ×\n          </button>\n          \n          {/* Row 3 */}\n          {['4', '5', '6'].map((num) => (\n            <button\n              key={num}\n              className=\"calc-btn calc-btn-number px-4 py-3 rounded-lg font-medium transition-all shadow-md bg-amber-800 text-white hover:bg-amber-900 hover:transform hover:-translate-y-px active:transform active:translate-y-0\"\n              onClick={() => handleButtonClick(num)}\n            >\n              {num}\n            </button>\n          ))}\n          <button\n            className=\"calc-btn calc-btn-operator px-4 py-3 rounded-lg font-medium transition-all shadow-md bg-orange-500 text-white hover:bg-orange-600 hover:transform hover:-translate-y-px active:transform active:translate-y-0\"\n            onClick={() => handleButtonClick('-')}\n          >\n            −\n          </button>\n          \n          {/* Row 4 */}\n          {['1', '2', '3'].map((num) => (\n            <button\n              key={num}\n              className=\"calc-btn calc-btn-number px-4 py-3 rounded-lg font-medium transition-all shadow-md bg-amber-800 text-white hover:bg-amber-900 hover:transform hover:-translate-y-px active:transform active:translate-y-0\"\n              onClick={() => handleButtonClick(num)}\n            >\n              {num}\n            </button>\n          ))}\n          <button\n            className=\"calc-btn calc-btn-operator px-4 py-3 rounded-lg font-medium transition-all shadow-md bg-orange-500 text-white hover:bg-orange-600 hover:transform hover:-translate-y-px active:transform active:translate-y-0\"\n            onClick={() => handleButtonClick('+')}\n          >\n            +\n          </button>\n          \n          {/* Row 5 */}\n          <button\n            className=\"calc-btn calc-btn-number px-4 py-3 rounded-lg font-medium col-span-2 transition-all shadow-md bg-amber-800 text-white hover:bg-amber-900 hover:transform hover:-translate-y-px active:transform active:translate-y-0\"\n            onClick={() => handleButtonClick('0')}\n          >\n            0\n          </button>\n          <button\n            className=\"calc-btn calc-btn-number px-4 py-3 rounded-lg font-medium transition-all shadow-md bg-amber-800 text-white hover:bg-amber-900 hover:transform hover:-translate-y-px active:transform active:translate-y-0\"\n            onClick={() => handleButtonClick('.')}\n          >\n            .\n          </button>\n          <button\n            className=\"calc-btn calc-btn-operator px-4 py-3 rounded-lg font-medium transition-all shadow-md bg-orange-500 text-white hover:bg-orange-600 hover:transform hover:-translate-y-px active:transform active:translate-y-0\"\n            onClick={() => handleButtonClick('=')}\n          >\n            =\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":10901},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"client/src/pages/custom-calculator.tsx":{"content":"import { useState } from \"react\";\nimport { useLocation, useParams } from \"wouter\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport Header from \"@/components/Header\";\nimport AdSlot from \"@/components/AdSlot\";\nimport SEO from \"@/components/SEO\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Loader2, Sparkles, ArrowLeft, User } from \"lucide-react\";\nimport Badge from \"@/components/Badge\";\nimport { apiRequest } from \"@/lib/queryClient\";\n\ninterface GeneratedCalculator {\n  name: string;\n  description: string;\n  fields: Array<{\n    id: string;\n    label: string;\n    type: string;\n    placeholder?: string;\n    step?: string;\n  }>;\n  formula: string;\n  resultLabel?: string;\n  resultUnit?: string;\n  example?: string;\n}\n\nexport default function CustomCalculator() {\n  const params = useParams();\n  const slug = params.slug as string | undefined;\n  const [, navigate] = useLocation();\n  const { toast } = useToast();\n  const [description, setDescription] = useState(\"\");\n  const [creatorName, setCreatorName] = useState(\"\");\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [generatedCalculator, setGeneratedCalculator] = useState<GeneratedCalculator | null>(null);\n  const [inputs, setInputs] = useState<Record<string, string>>({});\n  const [result, setResult] = useState<string | null>(null);\n\n  // If slug exists, load the calculator from database\n  const { data: savedCalculator, isLoading: isLoadingCalculator } = useQuery<any>({\n    queryKey: ['/api/calculators/slug', slug],\n    enabled: !!slug,\n  });\n\n  const handleGenerate = async () => {\n    if (!description.trim()) {\n      toast({\n        title: \"Description required\",\n        description: \"Please describe the calculator you want to create\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsGenerating(true);\n    setGeneratedCalculator(null);\n    setResult(null);\n\n    try {\n      const response = await apiRequest('POST', '/api/generate-calculator', { \n        description,\n        creatorName: creatorName.trim() || undefined\n      });\n      const calculator = await response.json();\n      setGeneratedCalculator(calculator);\n      \n      // Initialize inputs\n      const initialInputs: Record<string, string> = {};\n      calculator.fields.forEach((field: any) => {\n        initialInputs[field.id] = '';\n      });\n      setInputs(initialInputs);\n\n      toast({\n        title: \"Calculator generated!\",\n        description: \"Your custom calculator is ready to use\",\n      });\n    } catch (error) {\n      console.error(\"Error generating calculator:\", error);\n      toast({\n        title: \"Generation failed\",\n        description: \"Failed to generate calculator. Please try again.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  const handleCalculate = async () => {\n    const calculator = slug ? savedCalculator : generatedCalculator;\n    if (!calculator) return;\n\n    try {\n      // Execute formula server-side for security (using mathjs)\n      const response = await apiRequest('POST', '/api/execute-custom-calculator', {\n        formula: calculator.formula,\n        inputs,\n        resultLabel: calculator.resultLabel,\n        resultUnit: calculator.resultUnit\n      });\n      const data = await response.json();\n      setResult(data.result);\n    } catch (error: any) {\n      console.error(\"Calculation error:\", error);\n      toast({\n        title: \"Calculation error\",\n        description: error.message || \"Failed to perform calculation. Please check your inputs.\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  // If viewing a saved calculator\n  if (slug) {\n    if (isLoadingCalculator) {\n      return (\n        <div className=\"min-h-screen bg-gray-50\">\n          <SEO\n            title=\"Loading Calculator - CalculateThis.org\"\n            description=\"Loading your custom AI-generated calculator\"\n            ogUrl={`https://calculatethis.org/custom-calculator/${slug}`}\n          />\n          <Header />\n          <main className=\"max-w-4xl mx-auto px-4 py-8\">\n            <div className=\"flex justify-center items-center py-12\">\n              <Loader2 className=\"h-8 w-8 animate-spin text-purple-500\" />\n            </div>\n          </main>\n        </div>\n      );\n    }\n\n    if (!savedCalculator) {\n      return (\n        <div className=\"min-h-screen bg-gray-50\">\n          <SEO\n            title=\"Calculator Not Found - CalculateThis.org\"\n            description=\"The custom calculator you're looking for doesn't exist. Create your own AI-powered calculator.\"\n            ogUrl={`https://calculatethis.org/custom-calculator/${slug}`}\n          />\n          <Header />\n          <main className=\"max-w-4xl mx-auto px-4 py-8\">\n            <Card>\n              <CardContent className=\"pt-6\">\n                <div className=\"text-center\">\n                  <h1 className=\"text-2xl font-bold text-gray-900 mb-4\">Calculator Not Found</h1>\n                  <p className=\"text-gray-600\">The calculator you're looking for doesn't exist.</p>\n                  <Button onClick={() => navigate('/')} className=\"mt-4\">Go to Home</Button>\n                </div>\n              </CardContent>\n            </Card>\n          </main>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"min-h-screen bg-gray-50\">\n        <SEO\n          title={`${savedCalculator.name} - AI-Generated Calculator | CalculateThis.org`}\n          description={`${savedCalculator.description} Use this free AI-generated calculator for quick calculations.`}\n          keywords={`${savedCalculator.name}, AI calculator, custom calculator, online calculator`}\n          ogUrl={`https://calculatethis.org/custom-calculator/${slug}`}\n        />\n        <Header />\n        <main className=\"max-w-4xl mx-auto px-4 py-8\">\n          <Button\n            variant=\"ghost\"\n            onClick={() => navigate('/')}\n            className=\"mb-6\"\n            data-testid=\"button-back-home\"\n          >\n            <ArrowLeft className=\"mr-2 h-4 w-4\" />\n            Back to Home\n          </Button>\n\n          <AdSlot location=\"header\" className=\"mb-6\" />\n\n          <Card data-testid=\"card-saved-calculator\">\n            <CardHeader>\n              <div className=\"flex items-center gap-2 mb-2\">\n                <Sparkles className=\"h-6 w-6 text-purple-500\" />\n                <Badge variant=\"new\">AI-Generated</Badge>\n              </div>\n              <CardTitle className=\"text-3xl\">{savedCalculator.name}</CardTitle>\n              <CardDescription>{savedCalculator.description}</CardDescription>\n              {savedCalculator.creatorName && (\n                <div className=\"flex items-center gap-2 mt-2 text-sm text-gray-500\">\n                  <User className=\"h-4 w-4\" />\n                  <span>Created by <span className=\"font-semibold text-purple-600\">{savedCalculator.creatorName}</span></span>\n                </div>\n              )}\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {savedCalculator.fields?.map((field: any) => (\n                  <div key={field.id}>\n                    <Label htmlFor={field.id}>{field.label}</Label>\n                    <Input\n                      id={field.id}\n                      type={field.type}\n                      data-testid={`input-${field.id}`}\n                      placeholder={field.placeholder}\n                      step={field.step}\n                      value={inputs[field.id] || ''}\n                      onChange={(e) => setInputs({ ...inputs, [field.id]: e.target.value })}\n                      className=\"mt-1\"\n                    />\n                  </div>\n                ))}\n              </div>\n\n              <Button\n                onClick={handleCalculate}\n                className=\"w-full\"\n                size=\"lg\"\n                data-testid=\"button-calculate\"\n              >\n                Calculate\n              </Button>\n\n              {result && (\n                <div className=\"bg-blue-50 border-2 border-blue-200 rounded-lg p-6\">\n                  <h3 className=\"text-lg font-semibold text-blue-900 mb-2\">Result</h3>\n                  <p className=\"text-2xl font-bold text-blue-700\" data-testid=\"text-result\">{result}</p>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n\n          <AdSlot location=\"footer\" className=\"mt-6\" />\n        </main>\n      </div>\n    );\n  }\n\n  // Builder mode (no slug)\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <SEO\n        title=\"AI Calculator Builder - Create Custom Calculators | CalculateThis.org\"\n        description=\"Build your own custom calculator using AI. Describe any calculation you need and get a working calculator instantly.\"\n        keywords=\"AI calculator, custom calculator builder, create calculator, online calculator generator\"\n        ogUrl=\"https://calculatethis.org/custom-calculator\"\n      />\n      <Header />\n\n      <main className=\"max-w-4xl mx-auto px-4 py-8\">\n        <Button\n          variant=\"ghost\"\n          onClick={() => navigate('/')}\n          className=\"mb-6\"\n          data-testid=\"button-back-home\"\n        >\n          <ArrowLeft className=\"mr-2 h-4 w-4\" />\n          Back to Home\n        </Button>\n\n        {/* Header Ad */}\n        <AdSlot location=\"header\" className=\"mb-6\" />\n\n        <div className=\"text-center mb-8\">\n          <div className=\"flex items-center justify-center gap-3 mb-4\">\n            <Sparkles className=\"h-8 w-8 text-purple-500\" />\n            <h1 className=\"text-4xl font-bold text-gray-900\">AI Calculator Builder</h1>\n            <Badge variant=\"new\">NEW</Badge>\n          </div>\n          <p className=\"text-xl text-gray-600\">\n            Describe any calculator you need, and AI will build it for you instantly\n          </p>\n        </div>\n\n        {/* Input Section */}\n        <Card className=\"mb-8\" data-testid=\"card-input\">\n          <CardHeader>\n            <CardTitle>What calculator do you need?</CardTitle>\n            <CardDescription>\n              Describe your calculator in plain English. Be specific about what you want to calculate.\n            </CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"description\">Calculator Description</Label>\n              <Textarea\n                id=\"description\"\n                data-testid=\"input-description\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                placeholder=\"Example: I need a calculator that determines how many hours of sleep I need based on my age and activity level\"\n                rows={4}\n                className=\"mt-1\"\n              />\n            </div>\n\n            <div>\n              <Label htmlFor=\"creatorName\">Your Name (Optional)</Label>\n              <Input\n                id=\"creatorName\"\n                data-testid=\"input-creator-name\"\n                value={creatorName}\n                onChange={(e) => setCreatorName(e.target.value)}\n                placeholder=\"Your name or username\"\n                className=\"mt-1\"\n              />\n              <p className=\"text-sm text-gray-500 mt-1\">If your calculator gets featured, your name will be displayed in the Community Built section!</p>\n            </div>\n\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n              <h4 className=\"font-semibold text-blue-900 mb-2\">💡 Example Ideas:</h4>\n              <ul className=\"text-sm text-blue-800 space-y-1\">\n                <li>• Calculate how many pizzas I need for a party based on number of guests</li>\n                <li>• Determine my dog's age in human years based on breed and weight</li>\n                <li>• Calculate the cost of running my pool heater based on electricity rates</li>\n                <li>• Figure out how much mulch I need for my garden beds</li>\n              </ul>\n            </div>\n\n            <Button\n              onClick={handleGenerate}\n              disabled={isGenerating || !description.trim()}\n              className=\"w-full\"\n              size=\"lg\"\n              data-testid=\"button-generate\"\n            >\n              {isGenerating ? (\n                <>\n                  <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n                  Generating Your Calculator...\n                </>\n              ) : (\n                <>\n                  <Sparkles className=\"mr-2 h-5 w-5\" />\n                  Generate Calculator\n                </>\n              )}\n            </Button>\n          </CardContent>\n        </Card>\n\n        {/* Generated Calculator Section */}\n        {generatedCalculator && (\n          <>\n            {/* Inline Ad */}\n            <AdSlot location=\"inline\" className=\"mb-6\" />\n            \n            <Card data-testid=\"card-generated\">\n            <CardHeader>\n              <CardTitle>{generatedCalculator.name}</CardTitle>\n              <CardDescription>{generatedCalculator.description}</CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              {/* Input Fields */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {generatedCalculator.fields.map((field) => (\n                  <div key={field.id}>\n                    <Label htmlFor={field.id}>{field.label}</Label>\n                    <Input\n                      id={field.id}\n                      type={field.type}\n                      data-testid={`input-${field.id}`}\n                      placeholder={field.placeholder}\n                      step={field.step}\n                      value={inputs[field.id] || ''}\n                      onChange={(e) => setInputs({ ...inputs, [field.id]: e.target.value })}\n                      className=\"mt-1\"\n                    />\n                  </div>\n                ))}\n              </div>\n\n              {/* Calculate Button */}\n              <Button\n                onClick={handleCalculate}\n                className=\"w-full\"\n                size=\"lg\"\n                data-testid=\"button-calculate\"\n              >\n                Calculate\n              </Button>\n\n              {/* Result */}\n              {result && (\n                <div className=\"bg-green-50 border-2 border-green-500 rounded-xl p-6\" data-testid=\"div-result\">\n                  <h3 className=\"text-lg font-semibold text-green-900 mb-2\">Result:</h3>\n                  <p className=\"text-2xl font-bold text-green-700\" data-testid=\"text-result\">{result}</p>\n                </div>\n              )}\n\n              {/* Example */}\n              {generatedCalculator.example && (\n                <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\n                  <h4 className=\"font-semibold text-gray-700 mb-1\">Example:</h4>\n                  <p className=\"text-sm text-gray-600\">{generatedCalculator.example}</p>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n          </>\n        )}\n\n        {/* Footer Ad */}\n        <AdSlot location=\"footer\" className=\"mt-6\" />\n      </main>\n    </div>\n  );\n}\n","size_bytes":15490},"client/src/hooks/useAuth.ts":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport { isUnauthorizedError } from \"@/lib/authUtils\";\n\nexport function useAuth() {\n  const { data: user, isLoading, error } = useQuery({\n    queryKey: [\"/api/auth/user\"],\n    retry: false,\n    // Don't refetch on window focus to avoid infinite loops\n    refetchOnWindowFocus: false,\n    // Handle 401 errors gracefully\n    throwOnError: false,\n  });\n\n  // If we get a 401 error, treat as not authenticated\n  const isAuthenticated = error && isUnauthorizedError(error as Error) ? false : !!user;\n\n  return {\n    user,\n    isLoading,\n    isAuthenticated,\n  };\n}\n","size_bytes":611},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"client/src/pages/landing.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport Header from \"@/components/Header\";\nimport AdSlot from \"@/components/AdSlot\";\nimport Calculator from \"@/components/Calculator\";\nimport CategoryGrid from \"@/components/CategoryGrid\";\nimport ContactDialog from \"@/components/ContactDialog\";\nimport Badge from \"@/components/Badge\";\nimport SEO from \"@/components/SEO\";\nimport { searchCalculators } from \"@/data/calculators\";\nimport { Link } from \"wouter\";\nimport { Sparkles, Users } from \"lucide-react\";\nimport type { Calculator as CalculatorType } from \"@shared/schema\";\n\nexport default function Landing() {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [searchResults, setSearchResults] = useState<any[]>([]);\n\n  const handleSearch = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const query = e.target.value;\n    setSearchQuery(query);\n    \n    if (query.length > 2) {\n      const results = searchCalculators(query);\n      setSearchResults(results);\n    } else {\n      setSearchResults([]);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <SEO\n        title=\"CalculateThis.org - Free Online Calculators for Math, Finance, Health & More\"\n        description=\"Free online calculators for math, finance, health, and everyday calculations. 200+ calculators including mortgage, BMI, percentage, and more.\"\n        keywords=\"calculator, online calculator, math calculator, finance calculator, mortgage calculator, BMI calculator, percentage calculator, tip calculator\"\n        ogUrl=\"https://calculatethis.org\"\n      />\n      <Header />\n      \n      {/* Main Content */}\n      <main className=\"max-w-7xl mx-auto px-4 py-4\">\n        \n        {/* Header Ad */}\n        <AdSlot location=\"header\" className=\"mb-4\" />\n        \n        {/* Hero Section */}\n        <section className=\"text-center mb-4\">\n          <h1 className=\"text-3xl md:text-4xl font-bold text-gray-900 mb-2\">\n            Free Online Calculators\n          </h1>\n          <p className=\"text-lg text-gray-600 mb-4\">\n            Over 200 calculators for Math, Finance, Health, and everyday calculations\n          </p>\n          \n          {/* Search Bar */}\n          <div className=\"max-w-2xl mx-auto relative\">\n            <div className=\"relative\">\n              <input \n                type=\"search\" \n                placeholder=\"Search calculators (e.g., mortgage, BMI, percentage)...\" \n                className=\"w-full px-5 py-3 text-base border-2 border-gray-300 rounded-xl focus:outline-none focus:border-blue-500 shadow-lg\"\n                value={searchQuery}\n                onChange={handleSearch}\n              />\n              <button className=\"absolute right-3 top-1/2 transform -translate-y-1/2 px-5 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm\">\n                Search\n              </button>\n            </div>\n            \n            {/* Search Results Dropdown */}\n            {searchResults.length > 0 && (\n              <div className=\"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-lg shadow-lg mt-2 z-50 max-h-60 overflow-y-auto\">\n                {searchResults.slice(0, 10).map((result) => (\n                  <Link \n                    key={result.slug}\n                    href={`/calculator/${result.slug}`}\n                    className=\"block px-4 py-3 hover:bg-gray-50 border-b border-gray-100\"\n                  >\n                    <div className=\"font-medium text-gray-900\">{result.name}</div>\n                    <div className=\"text-sm text-gray-600\">{result.description}</div>\n                    <div className=\"text-xs text-blue-600\">{result.category}</div>\n                  </Link>\n                ))}\n                {searchResults.length > 10 && (\n                  <div className=\"px-4 py-2 text-sm text-gray-500 text-center\">\n                    Showing first 10 results of {searchResults.length}\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        </section>\n\n        {/* AI Calculator Builder Promo - NEW Feature */}\n        <section className=\"mb-8\">\n          <Link href=\"/custom-calculator\" data-testid=\"link-custom-calculator\">\n            <div className=\"bg-gradient-to-r from-purple-500 via-pink-500 to-blue-500 rounded-xl p-1 cursor-pointer hover:shadow-2xl transition-all duration-300 transform hover:scale-[1.02]\">\n              <div className=\"bg-white rounded-lg p-4 md:p-6\">\n                <div className=\"flex flex-col md:flex-row items-center justify-between gap-4\">\n                  <div className=\"flex-1 text-center md:text-left\">\n                    <div className=\"flex items-center justify-center md:justify-start gap-2 mb-2\">\n                      <Sparkles className=\"h-7 w-7 text-purple-600\" />\n                      <h2 className=\"text-2xl md:text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent\">\n                        AI Calculator Builder\n                      </h2>\n                      <Badge variant=\"new\">NEW</Badge>\n                    </div>\n                    <p className=\"text-lg text-gray-700 mb-2\">\n                      Can't find the calculator you need? <span className=\"font-bold\">Create your own in seconds with AI!</span>\n                    </p>\n                    <div className=\"flex flex-wrap gap-2 justify-center md:justify-start text-sm\">\n                      <div className=\"bg-purple-50 px-3 py-1 rounded-lg text-purple-700 font-medium\">\n                        ✨ Instant generation\n                      </div>\n                      <div className=\"bg-pink-50 px-3 py-1 rounded-lg text-pink-700 font-medium\">\n                        🎯 Perfectly customized\n                      </div>\n                      <div className=\"bg-blue-50 px-3 py-1 rounded-lg text-blue-700 font-medium\">\n                        🚀 Free to use\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"flex-shrink-0\">\n                    <div className=\"bg-gradient-to-br from-purple-500 to-pink-500 text-white px-6 py-3 rounded-lg font-bold text-base shadow-lg hover:shadow-xl transition-shadow\" data-testid=\"button-try-ai-calculator\">\n                      Try It Now →\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </Link>\n        </section>\n\n        {/* Community Built Section */}\n        <CommunityBuiltSection />\n\n        {/* Working Calculator Section */}\n        <section className=\"mb-12\">\n          <Calculator />\n        </section>\n\n        {/* Inline Ad */}\n        <AdSlot location=\"inline\" className=\"mb-12\" />\n\n        {/* Calculator Categories Section */}\n        <div id=\"calculators\">\n          <CategoryGrid />\n        </div>\n\n        {/* Sidebar Ad */}\n        <AdSlot location=\"sidebar\" className=\"mb-12\" />\n\n        {/* Featured Calculators Section */}\n        <section className=\"mb-12\">\n          <h2 className=\"text-3xl font-bold text-gray-900 mb-6 text-center\">Most Popular Calculators</h2>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n            <Link href=\"/calculator/mortgage-calculator\" className=\"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow\">\n              <img \n                src=\"https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=200&h=200&fit=crop\" \n                alt=\"Mortgage calculator\" \n                className=\"w-full h-40 object-cover rounded-lg mb-4\"\n              />\n              <h3 className=\"text-xl font-bold text-gray-900 mb-2\">Mortgage Calculator</h3>\n              <p className=\"text-gray-600 text-sm\">Calculate monthly payments and total interest</p>\n            </Link>\n            \n            <Link href=\"/calculator/bmi-calculator\" className=\"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow\">\n              <img \n                src=\"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=200&h=200&fit=crop\" \n                alt=\"BMI calculator\" \n                className=\"w-full h-40 object-cover rounded-lg mb-4\"\n              />\n              <h3 className=\"text-xl font-bold text-gray-900 mb-2\">BMI Calculator</h3>\n              <p className=\"text-gray-600 text-sm\">Calculate your body mass index</p>\n            </Link>\n            \n            <Link href=\"/calculator/percentage-calculator\" className=\"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow\">\n              <img \n                src=\"https://images.unsplash.com/photo-1509228627152-72ae9ae6848d?w=200&h=200&fit=crop\" \n                alt=\"Percentage calculator\" \n                className=\"w-full h-40 object-cover rounded-lg mb-4\"\n              />\n              <h3 className=\"text-xl font-bold text-gray-900 mb-2\">Percentage Calculator</h3>\n              <p className=\"text-gray-600 text-sm\">Calculate percentages and percent change</p>\n            </Link>\n            \n            <Link href=\"/calculator/tip-calculator\" className=\"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow\">\n              <img \n                src=\"https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=200&h=200&fit=crop\" \n                alt=\"Tip calculator\" \n                className=\"w-full h-40 object-cover rounded-lg mb-4\"\n              />\n              <h3 className=\"text-xl font-bold text-gray-900 mb-2\">Tip Calculator</h3>\n              <p className=\"text-gray-600 text-sm\">Calculate tips and split bills easily</p>\n            </Link>\n          </div>\n        </section>\n\n        {/* SEO Content Section */}\n        <section className=\"mb-12\">\n          <div className=\"bg-white rounded-xl shadow-lg p-8\">\n            <h2 className=\"text-3xl font-bold text-gray-900 mb-6\">Why Choose CalculateThis.org?</h2>\n            \n            <div className=\"grid md:grid-cols-3 gap-8\">\n              <div>\n                <div className=\"text-4xl mb-3\">🎯</div>\n                <h3 className=\"text-xl font-bold text-gray-900 mb-2\">200+ Calculators</h3>\n                <p className=\"text-gray-600\">Comprehensive collection covering math, finance, health, and everyday calculations</p>\n              </div>\n              \n              <div>\n                <div className=\"text-4xl mb-3\">⚡</div>\n                <h3 className=\"text-xl font-bold text-gray-900 mb-2\">Fast & Accurate</h3>\n                <p className=\"text-gray-600\">Instant results with precise calculations you can trust</p>\n              </div>\n              \n              <div>\n                <div className=\"text-4xl mb-3\">📱</div>\n                <h3 className=\"text-xl font-bold text-gray-900 mb-2\">Mobile Friendly</h3>\n                <p className=\"text-gray-600\">Works perfectly on all devices - desktop, tablet, and mobile</p>\n              </div>\n            </div>\n            \n            <div className=\"mt-8 pt-8 border-t border-gray-200\">\n              <h3 className=\"text-2xl font-bold text-gray-900 mb-4\">About Our Calculators</h3>\n              <p className=\"text-gray-600 leading-relaxed mb-4\">\n                CalculateThis.org provides free online calculators for a wide range of needs. Whether you're calculating your mortgage payments, \n                checking your BMI, figuring out percentages, or converting units, we have the tools you need. Our calculators are designed \n                to be user-friendly, accurate, and accessible to everyone.\n              </p>\n              <p className=\"text-gray-600 leading-relaxed\">\n                From financial planning to health tracking, from mathematical operations to everyday conversions, our comprehensive collection \n                of 200+ calculators helps you make informed decisions quickly and easily. All calculators are free to use with no registration \n                required, though signing up allows you to track your calculation history.\n              </p>\n            </div>\n          </div>\n        </section>\n\n        {/* Footer Ad */}\n        <AdSlot location=\"footer\" className=\"mt-12\" />\n      </main>\n\n      {/* Footer */}\n      <footer className=\"bg-gray-900 text-white py-12 mt-16\">\n        <div className=\"max-w-7xl mx-auto px-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8\">\n            \n            <div>\n              <h4 className=\"text-lg font-bold mb-4\">Popular Calculators</h4>\n              <ul className=\"space-y-2 text-gray-400\">\n                <li><Link href=\"/calculator/mortgage-calculator\" className=\"hover:text-white transition-colors\">Mortgage Calculator</Link></li>\n                <li><Link href=\"/calculator/bmi-calculator\" className=\"hover:text-white transition-colors\">BMI Calculator</Link></li>\n                <li><Link href=\"/calculator/percentage-calculator\" className=\"hover:text-white transition-colors\">Percentage Calculator</Link></li>\n                <li><Link href=\"/calculator/loan-calculator\" className=\"hover:text-white transition-colors\">Loan Calculator</Link></li>\n              </ul>\n            </div>\n            \n            <div>\n              <h4 className=\"text-lg font-bold mb-4\">Categories</h4>\n              <ul className=\"space-y-2 text-gray-400\">\n                <li><a href=\"#math\" className=\"hover:text-white transition-colors\">Math Calculators</a></li>\n                <li><a href=\"#finance\" className=\"hover:text-white transition-colors\">Finance Calculators</a></li>\n                <li><a href=\"#health\" className=\"hover:text-white transition-colors\">Health Calculators</a></li>\n                <li><a href=\"#other\" className=\"hover:text-white transition-colors\">Other Calculators</a></li>\n              </ul>\n            </div>\n            \n            <div id=\"contact\">\n              <h4 className=\"text-lg font-bold mb-4\">Get in Touch</h4>\n              <p className=\"text-gray-400 mb-4\">Have questions or feedback? We'd love to hear from you.</p>\n              <ul className=\"space-y-2 text-gray-400\">\n                <li><ContactDialog /></li>\n              </ul>\n            </div>\n            \n          </div>\n          \n          <div className=\"border-t border-gray-800 pt-8 text-center text-gray-400\">\n            <p>&copy; 2024 CalculateThis.org - All rights reserved. Free online calculators for everyone.</p>\n            <p className=\"mt-2 text-sm\">Providing accurate calculations for math, finance, health, and more since 2024.</p>\n          </div>\n        </div>\n      </footer>\n    </div>\n  );\n}\n\nfunction CommunityBuiltSection() {\n  const { data: featuredCalculators, isLoading } = useQuery<CalculatorType[]>({\n    queryKey: ['/api/calculators/featured/list'],\n  });\n\n  if (isLoading || !featuredCalculators || featuredCalculators.length === 0) {\n    return null;\n  }\n\n  const previewCalculators = featuredCalculators.slice(0, 3);\n\n  return (\n    <section className=\"mb-8\">\n      <div className=\"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-6 border-2 border-blue-100\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <div className=\"flex items-center gap-2\">\n            <Users className=\"h-6 w-6 text-blue-600\" />\n            <h2 className=\"text-2xl font-bold text-gray-900\">Community Built Calculators</h2>\n          </div>\n          <Link href=\"/community-calculators\">\n            <button className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium text-sm transition-colors\" data-testid=\"button-view-all-community\">\n              View All →\n            </button>\n          </Link>\n        </div>\n        <p className=\"text-gray-700 mb-6\">\n          Check out calculators created by our community using AI! Made in seconds with our AI Calculator Builder.\n        </p>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          {previewCalculators.map((calculator) => (\n            <Link\n              key={calculator.id}\n              href={`/custom-calculator/${calculator.slug}`}\n              className=\"bg-white rounded-lg shadow p-4 hover:shadow-lg transition-all hover:scale-[1.02]\"\n              data-testid={`link-community-calculator-${calculator.slug}`}\n            >\n              <div className=\"flex items-center gap-2 mb-2\">\n                <Sparkles className=\"h-4 w-4 text-purple-600\" />\n                <span className=\"bg-purple-100 text-purple-700 text-xs px-2 py-0.5 rounded font-medium\">\n                  AI-Generated\n                </span>\n              </div>\n              <h3 className=\"text-base font-bold text-gray-900 mb-1\">{calculator.name}</h3>\n              <p className=\"text-gray-600 text-sm line-clamp-2 mb-2\">{calculator.description}</p>\n              {calculator.creatorName && (\n                <p className=\"text-gray-600 text-xs\">\n                  by <span className=\"font-semibold text-purple-600\">{calculator.creatorName}</span>\n                </p>\n              )}\n            </Link>\n          ))}\n        </div>\n      </div>\n    </section>\n  );\n}\n","size_bytes":17066},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","size_bytes":1858},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1251},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":791},"shared/schema.ts":{"content":"import { sql } from 'drizzle-orm';\nimport {\n  index,\n  jsonb,\n  pgTable,\n  timestamp,\n  varchar,\n  integer,\n  text,\n} from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\n// Session storage table (mandatory for Replit Auth)\nexport const sessions = pgTable(\n  \"sessions\",\n  {\n    sid: varchar(\"sid\").primaryKey(),\n    sess: jsonb(\"sess\").notNull(),\n    expire: timestamp(\"expire\").notNull(),\n  },\n  (table) => [index(\"IDX_session_expire\").on(table.expire)],\n);\n\n// User storage table\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  email: varchar(\"email\").unique().notNull(),\n  password: varchar(\"password\"), // bcrypt hashed password\n  firstName: varchar(\"first_name\"),\n  lastName: varchar(\"last_name\"),\n  profileImageUrl: varchar(\"profile_image_url\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\n// Calculator usage tracking table\nexport const calculatorUsage = pgTable(\"calculator_usage\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").references(() => users.id),\n  calculatorName: varchar(\"calculator_name\").notNull(),\n  calculatorType: varchar(\"calculator_type\").notNull(),\n  inputs: jsonb(\"inputs\"),\n  result: text(\"result\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\n// Calculator definitions table\nexport const calculators = pgTable(\"calculators\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  name: varchar(\"name\").notNull(),\n  slug: varchar(\"slug\").notNull().unique(),\n  category: varchar(\"category\").notNull(),\n  description: text(\"description\"),\n  formula: text(\"formula\"),\n  fields: jsonb(\"fields\"),\n  resultLabel: text(\"result_label\"),\n  resultUnit: text(\"result_unit\"),\n  creatorName: varchar(\"creator_name\"),\n  active: integer(\"active\").default(1),\n  featured: integer(\"featured\").default(0),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\n// Ad codes table for ad rotation management\nexport const adCodes = pgTable(\"ad_codes\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  name: varchar(\"name\").notNull(),\n  location: varchar(\"location\").notNull(), // e.g., 'leaderboard', 'sidebar', 'rectangle'\n  code: text(\"code\").notNull(),\n  active: integer(\"active\").default(1),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\n// Admin users table\nexport const adminUsers = pgTable(\"admin_users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").references(() => users.id).notNull().unique(),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\n// Settings table for site configuration\nexport const settings = pgTable(\"settings\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  key: varchar(\"key\").notNull().unique(),\n  value: text(\"value\").notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\n// Password reset tokens table\nexport const passwordResetTokens = pgTable(\"password_reset_tokens\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").references(() => users.id).notNull(),\n  token: varchar(\"token\").notNull().unique(),\n  expiresAt: timestamp(\"expires_at\").notNull(),\n  used: integer(\"used\").default(0),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const insertCalculatorUsageSchema = createInsertSchema(calculatorUsage).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertCalculatorSchema = createInsertSchema(calculators).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertAdCodeSchema = createInsertSchema(adCodes).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertAdminUserSchema = createInsertSchema(adminUsers).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertSettingSchema = createInsertSchema(settings).omit({\n  id: true,\n  updatedAt: true,\n});\n\nexport const insertPasswordResetTokenSchema = createInsertSchema(passwordResetTokens).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport type UpsertUser = typeof users.$inferInsert;\nexport type User = typeof users.$inferSelect;\nexport type CalculatorUsage = typeof calculatorUsage.$inferSelect;\nexport type InsertCalculatorUsage = z.infer<typeof insertCalculatorUsageSchema>;\nexport type Calculator = typeof calculators.$inferSelect;\nexport type InsertCalculator = z.infer<typeof insertCalculatorSchema>;\nexport type AdCode = typeof adCodes.$inferSelect;\nexport type InsertAdCode = z.infer<typeof insertAdCodeSchema>;\nexport type AdminUser = typeof adminUsers.$inferSelect & {\n  email?: string | null;\n  firstName?: string | null;\n  lastName?: string | null;\n};\nexport type InsertAdminUser = z.infer<typeof insertAdminUserSchema>;\nexport type Setting = typeof settings.$inferSelect;\nexport type InsertSetting = z.infer<typeof insertSettingSchema>;\nexport type PasswordResetToken = typeof passwordResetTokens.$inferSelect;\nexport type InsertPasswordResetToken = z.infer<typeof insertPasswordResetTokenSchema>;\n","size_bytes":5146},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"client/src/components/ui/sidebar.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { VariantProps, cva } from \"class-variance-authority\"\nimport { PanelLeft } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nconst SidebarProvider = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    defaultOpen?: boolean\n    open?: boolean\n    onOpenChange?: (open: boolean) => void\n  }\n>(\n  (\n    {\n      defaultOpen = true,\n      open: openProp,\n      onOpenChange: setOpenProp,\n      className,\n      style,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const isMobile = useIsMobile()\n    const [openMobile, setOpenMobile] = React.useState(false)\n\n    // This is the internal state of the sidebar.\n    // We use openProp and setOpenProp for control from outside the component.\n    const [_open, _setOpen] = React.useState(defaultOpen)\n    const open = openProp ?? _open\n    const setOpen = React.useCallback(\n      (value: boolean | ((value: boolean) => boolean)) => {\n        const openState = typeof value === \"function\" ? value(open) : value\n        if (setOpenProp) {\n          setOpenProp(openState)\n        } else {\n          _setOpen(openState)\n        }\n\n        // This sets the cookie to keep the sidebar state.\n        document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n      },\n      [setOpenProp, open]\n    )\n\n    // Helper to toggle the sidebar.\n    const toggleSidebar = React.useCallback(() => {\n      return isMobile\n        ? setOpenMobile((open) => !open)\n        : setOpen((open) => !open)\n    }, [isMobile, setOpen, setOpenMobile])\n\n    // Adds a keyboard shortcut to toggle the sidebar.\n    React.useEffect(() => {\n      const handleKeyDown = (event: KeyboardEvent) => {\n        if (\n          event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n          (event.metaKey || event.ctrlKey)\n        ) {\n          event.preventDefault()\n          toggleSidebar()\n        }\n      }\n\n      window.addEventListener(\"keydown\", handleKeyDown)\n      return () => window.removeEventListener(\"keydown\", handleKeyDown)\n    }, [toggleSidebar])\n\n    // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n    // This makes it easier to style the sidebar with Tailwind classes.\n    const state = open ? \"expanded\" : \"collapsed\"\n\n    const contextValue = React.useMemo<SidebarContextProps>(\n      () => ({\n        state,\n        open,\n        setOpen,\n        isMobile,\n        openMobile,\n        setOpenMobile,\n        toggleSidebar,\n      }),\n      [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n    )\n\n    return (\n      <SidebarContext.Provider value={contextValue}>\n        <TooltipProvider delayDuration={0}>\n          <div\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH,\n                \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n                ...style,\n              } as React.CSSProperties\n            }\n            className={cn(\n              \"group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar\",\n              className\n            )}\n            ref={ref}\n            {...props}\n          >\n            {children}\n          </div>\n        </TooltipProvider>\n      </SidebarContext.Provider>\n    )\n  }\n)\nSidebarProvider.displayName = \"SidebarProvider\"\n\nconst Sidebar = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    side?: \"left\" | \"right\"\n    variant?: \"sidebar\" | \"floating\" | \"inset\"\n    collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n  }\n>(\n  (\n    {\n      side = \"left\",\n      variant = \"sidebar\",\n      collapsible = \"offcanvas\",\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n    if (collapsible === \"none\") {\n      return (\n        <div\n          className={cn(\n            \"flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground\",\n            className\n          )}\n          ref={ref}\n          {...props}\n        >\n          {children}\n        </div>\n      )\n    }\n\n    if (isMobile) {\n      return (\n        <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n          <SheetContent\n            data-sidebar=\"sidebar\"\n            data-mobile=\"true\"\n            className=\"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden\"\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n              } as React.CSSProperties\n            }\n            side={side}\n          >\n            <SheetHeader className=\"sr-only\">\n              <SheetTitle>Sidebar</SheetTitle>\n              <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n            </SheetHeader>\n            <div className=\"flex h-full w-full flex-col\">{children}</div>\n          </SheetContent>\n        </Sheet>\n      )\n    }\n\n    return (\n      <div\n        ref={ref}\n        className=\"group peer hidden text-sidebar-foreground md:block\"\n        data-state={state}\n        data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n        data-variant={variant}\n        data-side={side}\n      >\n        {/* This is what handles the sidebar gap on desktop */}\n        <div\n          className={cn(\n            \"relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear\",\n            \"group-data-[collapsible=offcanvas]:w-0\",\n            \"group-data-[side=right]:rotate-180\",\n            variant === \"floating\" || variant === \"inset\"\n              ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon]\"\n          )}\n        />\n        <div\n          className={cn(\n            \"fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex\",\n            side === \"left\"\n              ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n              : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n            // Adjust the padding for floating and inset variants.\n            variant === \"floating\" || variant === \"inset\"\n              ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n            className\n          )}\n          {...props}\n        >\n          <div\n            data-sidebar=\"sidebar\"\n            className=\"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow\"\n          >\n            {children}\n          </div>\n        </div>\n      </div>\n    )\n  }\n)\nSidebar.displayName = \"Sidebar\"\n\nconst SidebarTrigger = React.forwardRef<\n  React.ElementRef<typeof Button>,\n  React.ComponentProps<typeof Button>\n>(({ className, onClick, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      ref={ref}\n      data-sidebar=\"trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeft />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n})\nSidebarTrigger.displayName = \"SidebarTrigger\"\n\nconst SidebarRail = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\">\n>(({ className, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <button\n      ref={ref}\n      data-sidebar=\"rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex\",\n        \"[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarRail.displayName = \"SidebarRail\"\n\nconst SidebarInset = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"main\">\n>(({ className, ...props }, ref) => {\n  return (\n    <main\n      ref={ref}\n      className={cn(\n        \"relative flex w-full flex-1 flex-col bg-background\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarInset.displayName = \"SidebarInset\"\n\nconst SidebarInput = React.forwardRef<\n  React.ElementRef<typeof Input>,\n  React.ComponentProps<typeof Input>\n>(({ className, ...props }, ref) => {\n  return (\n    <Input\n      ref={ref}\n      data-sidebar=\"input\"\n      className={cn(\n        \"h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarInput.displayName = \"SidebarInput\"\n\nconst SidebarHeader = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarHeader.displayName = \"SidebarHeader\"\n\nconst SidebarFooter = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarFooter.displayName = \"SidebarFooter\"\n\nconst SidebarSeparator = React.forwardRef<\n  React.ElementRef<typeof Separator>,\n  React.ComponentProps<typeof Separator>\n>(({ className, ...props }, ref) => {\n  return (\n    <Separator\n      ref={ref}\n      data-sidebar=\"separator\"\n      className={cn(\"mx-2 w-auto bg-sidebar-border\", className)}\n      {...props}\n    />\n  )\n})\nSidebarSeparator.displayName = \"SidebarSeparator\"\n\nconst SidebarContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarContent.displayName = \"SidebarContent\"\n\nconst SidebarGroup = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarGroup.displayName = \"SidebarGroup\"\n\nconst SidebarGroupLabel = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarGroupLabel.displayName = \"SidebarGroupLabel\"\n\nconst SidebarGroupAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarGroupAction.displayName = \"SidebarGroupAction\"\n\nconst SidebarGroupContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"group-content\"\n    className={cn(\"w-full text-sm\", className)}\n    {...props}\n  />\n))\nSidebarGroupContent.displayName = \"SidebarGroupContent\"\n\nconst SidebarMenu = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu\"\n    className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n    {...props}\n  />\n))\nSidebarMenu.displayName = \"SidebarMenu\"\n\nconst SidebarMenuItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    data-sidebar=\"menu-item\"\n    className={cn(\"group/menu-item relative\", className)}\n    {...props}\n  />\n))\nSidebarMenuItem.displayName = \"SidebarMenuItem\"\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:!p-0\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst SidebarMenuButton = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean\n    isActive?: boolean\n    tooltip?: string | React.ComponentProps<typeof TooltipContent>\n  } & VariantProps<typeof sidebarMenuButtonVariants>\n>(\n  (\n    {\n      asChild = false,\n      isActive = false,\n      variant = \"default\",\n      size = \"default\",\n      tooltip,\n      className,\n      ...props\n    },\n    ref\n  ) => {\n    const Comp = asChild ? Slot : \"button\"\n    const { isMobile, state } = useSidebar()\n\n    const button = (\n      <Comp\n        ref={ref}\n        data-sidebar=\"menu-button\"\n        data-size={size}\n        data-active={isActive}\n        className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n        {...props}\n      />\n    )\n\n    if (!tooltip) {\n      return button\n    }\n\n    if (typeof tooltip === \"string\") {\n      tooltip = {\n        children: tooltip,\n      }\n    }\n\n    return (\n      <Tooltip>\n        <TooltipTrigger asChild>{button}</TooltipTrigger>\n        <TooltipContent\n          side=\"right\"\n          align=\"center\"\n          hidden={state !== \"collapsed\" || isMobile}\n          {...tooltip}\n        />\n      </Tooltip>\n    )\n  }\n)\nSidebarMenuButton.displayName = \"SidebarMenuButton\"\n\nconst SidebarMenuAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean\n    showOnHover?: boolean\n  }\n>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarMenuAction.displayName = \"SidebarMenuAction\"\n\nconst SidebarMenuBadge = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"menu-badge\"\n    className={cn(\n      \"pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground\",\n      \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n      \"peer-data-[size=sm]/menu-button:top-1\",\n      \"peer-data-[size=default]/menu-button:top-1.5\",\n      \"peer-data-[size=lg]/menu-button:top-2.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props}\n  />\n))\nSidebarMenuBadge.displayName = \"SidebarMenuBadge\"\n\nconst SidebarMenuSkeleton = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    showIcon?: boolean\n  }\n>(({ className, showIcon = false, ...props }, ref) => {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[--skeleton-width] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n})\nSidebarMenuSkeleton.displayName = \"SidebarMenuSkeleton\"\n\nconst SidebarMenuSub = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu-sub\"\n    className={cn(\n      \"mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props}\n  />\n))\nSidebarMenuSub.displayName = \"SidebarMenuSub\"\n\nconst SidebarMenuSubItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ ...props }, ref) => <li ref={ref} {...props} />)\nSidebarMenuSubItem.displayName = \"SidebarMenuSubItem\"\n\nconst SidebarMenuSubButton = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentProps<\"a\"> & {\n    asChild?: boolean\n    size?: \"sm\" | \"md\"\n    isActive?: boolean\n  }\n>(({ asChild = false, size = \"md\", isActive, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarMenuSubButton.displayName = \"SidebarMenuSubButton\"\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":23567},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":689},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":1901},"client/src/components/Badge.tsx":{"content":"interface BadgeProps {\n  children: React.ReactNode;\n  variant?: 'new' | 'default';\n}\n\nexport default function Badge({ children, variant = 'default' }: BadgeProps) {\n  const baseClasses = \"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold uppercase tracking-wide\";\n  \n  const variantClasses = {\n    new: \"bg-red-500 text-white animate-pulse\",\n    default: \"bg-blue-500 text-white\"\n  };\n  \n  return (\n    <span className={`${baseClasses} ${variantClasses[variant]}`} data-testid={`badge-${variant}`}>\n      {children}\n    </span>\n  );\n}\n","size_bytes":555},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":261},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4420},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7428},"client/src/lib/calculatorForms.ts":{"content":"// Form field definitions for all calculators\n// This defines what input fields each calculator needs\n\nexport interface FormField {\n  id: string;\n  label: string;\n  type: 'number' | 'text' | 'select' | 'date';\n  placeholder?: string;\n  step?: string;\n  options?: { value: string; label: string }[];\n}\n\nexport function getFormFields(slug: string): FormField[] {\n  // Math Calculators\n  if (slug === 'percentage-calculator') {\n    return [\n      { id: 'value', label: 'Value', type: 'number', placeholder: 'Enter value' },\n      { id: 'percentage', label: 'Percentage (%)', type: 'number', placeholder: 'Enter percentage', step: '0.01' }\n    ];\n  }\n\n  if (slug === 'fraction-calculator') {\n    return [\n      { id: 'numerator1', label: 'First Numerator', type: 'number', placeholder: 'Enter numerator' },\n      { id: 'denominator1', label: 'First Denominator', type: 'number', placeholder: 'Enter denominator' },\n      { id: 'operation', label: 'Operation', type: 'select', options: [\n        { value: 'add', label: 'Add (+)' },\n        { value: 'subtract', label: 'Subtract (-)' },\n        { value: 'multiply', label: 'Multiply (×)' },\n        { value: 'divide', label: 'Divide (÷)' }\n      ]},\n      { id: 'numerator2', label: 'Second Numerator', type: 'number', placeholder: 'Enter numerator' },\n      { id: 'denominator2', label: 'Second Denominator', type: 'number', placeholder: 'Enter denominator' }\n    ];\n  }\n\n  if (slug === 'ratio-calculator') {\n    return [\n      { id: 'a', label: 'First Value (A)', type: 'number', placeholder: 'Enter first value' },\n      { id: 'b', label: 'Second Value (B)', type: 'number', placeholder: 'Enter second value' }\n    ];\n  }\n\n  if (slug === 'average-calculator') {\n    return [\n      { id: 'values', label: 'Values (comma-separated)', type: 'text', placeholder: 'e.g., 10, 20, 30, 40' }\n    ];\n  }\n\n  if (slug === 'standard-deviation-calculator') {\n    return [\n      { id: 'values', label: 'Values (comma-separated)', type: 'text', placeholder: 'e.g., 10, 20, 30, 40' }\n    ];\n  }\n\n  if (slug === 'random-number-generator') {\n    return [\n      { id: 'min', label: 'Minimum', type: 'number', placeholder: 'Enter minimum value' },\n      { id: 'max', label: 'Maximum', type: 'number', placeholder: 'Enter maximum value' }\n    ];\n  }\n\n  if (slug === 'exponent-calculator') {\n    return [\n      { id: 'base', label: 'Base', type: 'number', placeholder: 'Enter base', step: '0.01' },\n      { id: 'exponent', label: 'Exponent', type: 'number', placeholder: 'Enter exponent', step: '0.01' }\n    ];\n  }\n\n  if (slug === 'square-root-calculator') {\n    return [\n      { id: 'number', label: 'Number', type: 'number', placeholder: 'Enter number', step: '0.01' }\n    ];\n  }\n\n  if (slug === 'quadratic-formula-calculator') {\n    return [\n      { id: 'a', label: 'a (coefficient of x²)', type: 'number', placeholder: 'Enter a', step: '0.01' },\n      { id: 'b', label: 'b (coefficient of x)', type: 'number', placeholder: 'Enter b', step: '0.01' },\n      { id: 'c', label: 'c (constant)', type: 'number', placeholder: 'Enter c', step: '0.01' }\n    ];\n  }\n\n  if (slug === 'circle-calculator') {\n    return [\n      { id: 'radius', label: 'Radius', type: 'number', placeholder: 'Enter radius', step: '0.01' }\n    ];\n  }\n\n  if (slug === 'pythagorean-theorem-calculator') {\n    return [\n      { id: 'a', label: 'Side A', type: 'number', placeholder: 'Enter side a', step: '0.01' },\n      { id: 'b', label: 'Side B', type: 'number', placeholder: 'Enter side b', step: '0.01' }\n    ];\n  }\n\n  if (slug === 'slope-calculator') {\n    return [\n      { id: 'x1', label: 'x₁', type: 'number', placeholder: 'Enter x1', step: '0.01' },\n      { id: 'y1', label: 'y₁', type: 'number', placeholder: 'Enter y1', step: '0.01' },\n      { id: 'x2', label: 'x₂', type: 'number', placeholder: 'Enter x2', step: '0.01' },\n      { id: 'y2', label: 'y₂', type: 'number', placeholder: 'Enter y2', step: '0.01' }\n    ];\n  }\n\n  if (slug === 'distance-calculator' || slug === 'midpoint-calculator') {\n    return [\n      { id: 'x1', label: 'x₁', type: 'number', placeholder: 'Enter x1', step: '0.01' },\n      { id: 'y1', label: 'y₁', type: 'number', placeholder: 'Enter y1', step: '0.01' },\n      { id: 'x2', label: 'x₂', type: 'number', placeholder: 'Enter x2', step: '0.01' },\n      { id: 'y2', label: 'y₂', type: 'number', placeholder: 'Enter y2', step: '0.01' }\n    ];\n  }\n\n  if (slug === 'factorial-calculator' || slug === 'prime-number-calculator' || slug === 'absolute-value-calculator') {\n    return [\n      { id: 'number', label: 'Number', type: 'number', placeholder: 'Enter number' }\n    ];\n  }\n\n  if (slug === 'combination-calculator' || slug === 'permutation-calculator') {\n    return [\n      { id: 'n', label: 'n (total items)', type: 'number', placeholder: 'Enter n' },\n      { id: 'r', label: 'r (items to choose)', type: 'number', placeholder: 'Enter r' }\n    ];\n  }\n\n  if (slug === 'lcm-calculator' || slug === 'gcf-calculator') {\n    return [\n      { id: 'a', label: 'First Number', type: 'number', placeholder: 'Enter first number' },\n      { id: 'b', label: 'Second Number', type: 'number', placeholder: 'Enter second number' }\n    ];\n  }\n\n  if (slug === 'decimal-to-fraction') {\n    return [\n      { id: 'decimal', label: 'Decimal', type: 'number', placeholder: 'Enter decimal', step: '0.0001' }\n    ];\n  }\n\n  if (slug === 'fraction-to-decimal') {\n    return [\n      { id: 'numerator', label: 'Numerator', type: 'number', placeholder: 'Enter numerator' },\n      { id: 'denominator', label: 'Denominator', type: 'number', placeholder: 'Enter denominator' }\n    ];\n  }\n\n  if (slug === 'base-converter') {\n    return [\n      { id: 'number', label: 'Number', type: 'text', placeholder: 'Enter number' },\n      { id: 'fromBase', label: 'From Base', type: 'number', placeholder: 'e.g., 10' },\n      { id: 'toBase', label: 'To Base', type: 'number', placeholder: 'e.g., 2' }\n    ];\n  }\n\n  if (slug === 'log-calculator') {\n    return [\n      { id: 'number', label: 'Number', type: 'number', placeholder: 'Enter number', step: '0.01' },\n      { id: 'base', label: 'Base', type: 'number', placeholder: 'Enter base (default: 10)', step: '0.01' }\n    ];\n  }\n\n  if (slug === 'sine-calculator' || slug === 'cosine-calculator' || slug === 'tangent-calculator') {\n    return [\n      { id: 'angle', label: 'Angle (degrees)', type: 'number', placeholder: 'Enter angle', step: '0.01' }\n    ];\n  }\n\n  if (slug === 'modulo-calculator') {\n    return [\n      { id: 'a', label: 'Dividend (a)', type: 'number', placeholder: 'Enter a' },\n      { id: 'b', label: 'Divisor (b)', type: 'number', placeholder: 'Enter b' }\n    ];\n  }\n\n  // Finance Calculators\n  if (['mortgage-calculator', 'loan-calculator', 'personal-loan-calculator', 'auto-loan-calculator', 'student-loan-calculator'].includes(slug)) {\n    return [\n      { id: 'principal', label: 'Loan Amount ($)', type: 'number', placeholder: 'Enter loan amount', step: '0.01' },\n      { id: 'rate', label: 'Annual Interest Rate (%)', type: 'number', placeholder: 'Enter rate', step: '0.01' },\n      { id: 'term', label: 'Loan Term (years)', type: 'number', placeholder: 'Enter term' }\n    ];\n  }\n\n  if (slug === 'simple-interest-calculator') {\n    return [\n      { id: 'principal', label: 'Principal Amount ($)', type: 'number', placeholder: 'Enter principal', step: '0.01' },\n      { id: 'rate', label: 'Interest Rate (%)', type: 'number', placeholder: 'Enter rate', step: '0.01' },\n      { id: 'time', label: 'Time (years)', type: 'number', placeholder: 'Enter time', step: '0.01' }\n    ];\n  }\n\n  if (slug === 'compound-interest-calculator' || slug === 'interest-calculator') {\n    return [\n      { id: 'principal', label: 'Principal Amount ($)', type: 'number', placeholder: 'Enter principal', step: '0.01' },\n      { id: 'rate', label: 'Interest Rate (%)', type: 'number', placeholder: 'Enter rate', step: '0.01' },\n      { id: 'time', label: 'Time (years)', type: 'number', placeholder: 'Enter time', step: '0.01' },\n      { id: 'frequency', label: 'Compounds per Year', type: 'number', placeholder: '12 for monthly, 1 for annual' }\n    ];\n  }\n\n  if (slug === 'roi-calculator') {\n    return [\n      { id: 'initial', label: 'Initial Investment ($)', type: 'number', placeholder: 'Enter initial investment', step: '0.01' },\n      { id: 'final', label: 'Final Value ($)', type: 'number', placeholder: 'Enter final value', step: '0.01' }\n    ];\n  }\n\n  if (['savings-calculator', 'investment-calculator', 'retirement-calculator', '401k-calculator', 'roth-ira-calculator'].includes(slug)) {\n    return [\n      { id: 'initial', label: 'Initial Amount ($)', type: 'number', placeholder: 'Enter initial amount', step: '0.01' },\n      { id: 'monthly', label: 'Monthly Contribution ($)', type: 'number', placeholder: 'Enter monthly contribution', step: '0.01' },\n      { id: 'rate', label: 'Annual Return Rate (%)', type: 'number', placeholder: 'Enter rate', step: '0.01' },\n      { id: 'years', label: 'Years', type: 'number', placeholder: 'Enter years' }\n    ];\n  }\n\n  if (slug === 'hourly-to-salary' || slug === 'salary-calculator') {\n    return [\n      { id: 'hourly', label: 'Hourly Rate ($)', type: 'number', placeholder: 'Enter hourly rate', step: '0.01' },\n      { id: 'hoursPerWeek', label: 'Hours per Week', type: 'number', placeholder: 'Default: 40' }\n    ];\n  }\n\n  if (slug === 'salary-to-hourly') {\n    return [\n      { id: 'annual', label: 'Annual Salary ($)', type: 'number', placeholder: 'Enter annual salary', step: '0.01' },\n      { id: 'hoursPerWeek', label: 'Hours per Week', type: 'number', placeholder: 'Default: 40' }\n    ];\n  }\n\n  if (slug === 'tip-calculator') {\n    return [\n      { id: 'bill', label: 'Bill Amount ($)', type: 'number', placeholder: 'Enter bill amount', step: '0.01' },\n      { id: 'tip', label: 'Tip Percentage (%)', type: 'number', placeholder: 'Default: 15', step: '0.01' },\n      { id: 'people', label: 'Number of People', type: 'number', placeholder: 'Default: 1' }\n    ];\n  }\n\n  if (slug === 'discount-calculator') {\n    return [\n      { id: 'original', label: 'Original Price ($)', type: 'number', placeholder: 'Enter original price', step: '0.01' },\n      { id: 'discount', label: 'Discount (%)', type: 'number', placeholder: 'Enter discount percent', step: '0.01' }\n    ];\n  }\n\n  if (slug === 'markup-calculator') {\n    return [\n      { id: 'cost', label: 'Cost ($)', type: 'number', placeholder: 'Enter cost', step: '0.01' },\n      { id: 'markup', label: 'Markup (%)', type: 'number', placeholder: 'Enter markup percent', step: '0.01' }\n    ];\n  }\n\n  if (slug === 'margin-calculator') {\n    return [\n      { id: 'revenue', label: 'Revenue ($)', type: 'number', placeholder: 'Enter revenue', step: '0.01' },\n      { id: 'cost', label: 'Cost ($)', type: 'number', placeholder: 'Enter cost', step: '0.01' }\n    ];\n  }\n\n  if (slug === 'sales-tax-calculator') {\n    return [\n      { id: 'price', label: 'Price ($)', type: 'number', placeholder: 'Enter price', step: '0.01' },\n      { id: 'taxRate', label: 'Tax Rate (%)', type: 'number', placeholder: 'Enter tax rate', step: '0.01' }\n    ];\n  }\n\n  if (slug === 'credit-card-calculator') {\n    return [\n      { id: 'balance', label: 'Balance ($)', type: 'number', placeholder: 'Enter balance', step: '0.01' },\n      { id: 'apr', label: 'APR (%)', type: 'number', placeholder: 'Enter APR', step: '0.01' },\n      { id: 'payment', label: 'Monthly Payment ($)', type: 'number', placeholder: 'Enter payment', step: '0.01' }\n    ];\n  }\n\n  // Health Calculators\n  if (slug === 'bmi-calculator') {\n    return [\n      { id: 'weight', label: 'Weight (lbs)', type: 'number', placeholder: 'Enter weight in pounds', step: '0.1' },\n      { id: 'heightFeet', label: 'Height (feet)', type: 'number', placeholder: 'Enter feet' },\n      { id: 'heightInches', label: 'Height (inches)', type: 'number', placeholder: 'Enter inches', step: '0.1' }\n    ];\n  }\n\n  if (['calorie-calculator', 'tdee-calculator', 'bmr-calculator'].includes(slug)) {\n    return [\n      { id: 'weight', label: 'Weight (lbs)', type: 'number', placeholder: 'Enter weight in pounds', step: '0.1' },\n      { id: 'heightFeet', label: 'Height (feet)', type: 'number', placeholder: 'Enter feet' },\n      { id: 'heightInches', label: 'Height (inches)', type: 'number', placeholder: 'Enter inches', step: '0.1' },\n      { id: 'age', label: 'Age (years)', type: 'number', placeholder: 'Enter age' },\n      { id: 'gender', label: 'Gender', type: 'select', options: [\n        { value: 'male', label: 'Male' },\n        { value: 'female', label: 'Female' }\n      ]},\n      { id: 'activityLevel', label: 'Activity Level', type: 'select', options: [\n        { value: '1.2', label: 'Sedentary (little/no exercise)' },\n        { value: '1.375', label: 'Light (1-3 days/week)' },\n        { value: '1.55', label: 'Moderate (3-5 days/week)' },\n        { value: '1.725', label: 'Active (6-7 days/week)' },\n        { value: '1.9', label: 'Very Active (hard exercise daily)' }\n      ]}\n    ];\n  }\n\n  if (slug === 'protein-calculator') {\n    return [\n      { id: 'weight', label: 'Weight (lbs)', type: 'number', placeholder: 'Enter weight in pounds', step: '0.1' },\n      { id: 'activityLevel', label: 'Activity Level', type: 'select', options: [\n        { value: 'sedentary', label: 'Sedentary' },\n        { value: 'moderate', label: 'Moderate' },\n        { value: 'active', label: 'Active' },\n        { value: 'very-active', label: 'Very Active' }\n      ]}\n    ];\n  }\n\n  if (slug === 'water-intake-calculator') {\n    return [\n      { id: 'weight', label: 'Weight (lbs)', type: 'number', placeholder: 'Enter weight in pounds', step: '0.1' }\n    ];\n  }\n\n  // Conversion Calculators (Imperial defaults)\n  if (slug === 'temperature-converter' || slug === 'celsius-to-fahrenheit') {\n    return [\n      { id: 'fahrenheit', label: 'Temperature (°F)', type: 'number', placeholder: 'Enter Fahrenheit', step: '0.1' }\n    ];\n  }\n\n  if (slug === 'length-converter' || slug === 'feet-to-meters') {\n    return [\n      { id: 'feet', label: 'Length (feet)', type: 'number', placeholder: 'Enter feet', step: '0.01' }\n    ];\n  }\n\n  if (slug === 'miles-to-km') {\n    return [\n      { id: 'miles', label: 'Distance (miles)', type: 'number', placeholder: 'Enter miles', step: '0.01' }\n    ];\n  }\n\n  if (slug === 'weight-converter' || slug === 'kg-to-lbs') {\n    return [\n      { id: 'pounds', label: 'Weight (lbs)', type: 'number', placeholder: 'Enter pounds', step: '0.1' }\n    ];\n  }\n\n  if (slug === 'cm-to-inches') {\n    return [\n      { id: 'inches', label: 'Length (inches)', type: 'number', placeholder: 'Enter inches', step: '0.01' }\n    ];\n  }\n\n  if (slug === 'volume-converter' || slug === 'gallons-to-liters') {\n    return [\n      { id: 'gallons', label: 'Volume (gallons)', type: 'number', placeholder: 'Enter gallons', step: '0.01' }\n    ];\n  }\n\n  if (slug === 'speed-converter') {\n    return [\n      { id: 'mph', label: 'Speed (mph)', type: 'number', placeholder: 'Enter mph', step: '0.01' }\n    ];\n  }\n\n  // Other Calculators\n  if (slug === 'age-calculator') {\n    return [\n      { id: 'birthDate', label: 'Birth Date', type: 'date', placeholder: '' }\n    ];\n  }\n\n  if (slug === 'gpa-calculator') {\n    return [\n      { id: 'grades', label: 'Grades (comma-separated)', type: 'text', placeholder: 'e.g., A, B, A, C' }\n    ];\n  }\n\n  if (slug === 'square-footage-calculator') {\n    return [\n      { id: 'length', label: 'Length (feet)', type: 'number', placeholder: 'Enter length', step: '0.01' },\n      { id: 'width', label: 'Width (feet)', type: 'number', placeholder: 'Enter width', step: '0.01' }\n    ];\n  }\n\n  if (slug === 'paint-calculator') {\n    return [\n      { id: 'sqft', label: 'Square Footage', type: 'number', placeholder: 'Enter sq ft', step: '0.01' },\n      { id: 'coats', label: 'Number of Coats', type: 'number', placeholder: 'Default: 1' }\n    ];\n  }\n\n  if (slug === 'gas-mileage-calculator' || slug === 'fuel-calculator') {\n    return [\n      { id: 'miles', label: 'Miles Driven', type: 'number', placeholder: 'Enter miles', step: '0.1' },\n      { id: 'gallons', label: 'Gallons Used', type: 'number', placeholder: 'Enter gallons', step: '0.01' }\n    ];\n  }\n\n  if (slug === 'dog-age-calculator') {\n    return [\n      { id: 'dogAge', label: 'Dog Age (years)', type: 'number', placeholder: 'Enter dog age', step: '0.1' }\n    ];\n  }\n\n  if (slug === 'cat-age-calculator') {\n    return [\n      { id: 'catAge', label: 'Cat Age (years)', type: 'number', placeholder: 'Enter cat age', step: '0.1' }\n    ];\n  }\n\n  if (slug === 'password-generator') {\n    return [\n      { id: 'length', label: 'Password Length', type: 'number', placeholder: 'Enter length (default: 12)' }\n    ];\n  }\n\n  if (slug === 'dice-roller') {\n    return [\n      { id: 'sides', label: 'Sides per Die', type: 'number', placeholder: 'Enter sides (e.g., 6)' },\n      { id: 'count', label: 'Number of Dice', type: 'number', placeholder: 'Enter count' }\n    ];\n  }\n\n  if (slug === 'coin-flip') {\n    return [\n      { id: 'flips', label: 'Number of Flips', type: 'number', placeholder: 'Enter number of flips' }\n    ];\n  }\n\n  // Default form for calculators not specifically defined\n  return [\n    { id: 'input1', label: 'Value 1', type: 'number', placeholder: 'Enter first value', step: '0.01' },\n    { id: 'input2', label: 'Value 2', type: 'number', placeholder: 'Enter second value', step: '0.01' }\n  ];\n}\n","size_bytes":17364},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1280},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1419},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","size_bytes":971},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\nimport { setupAuth } from \"./emailAuth\";\nimport { insertCalculatorUsageSchema, insertAdCodeSchema, insertSettingSchema } from \"@shared/schema\";\nimport bcrypt from \"bcrypt\";\nimport { sendPasswordResetEmail } from \"./resend\";\nimport { calculatorsData } from \"../client/src/data/calculators\";\n\n// Auth middleware\nconst isAuthenticated = (req: any, res: any, next: any) => {\n  if (!req.user || !req.user.id) {\n    return res.status(401).json({ message: \"Unauthorized\" });\n  }\n  next();\n};\n\n// Admin middleware\nconst isAdmin = async (req: any, res: any, next: any) => {\n  try {\n    if (!req.user || !req.user.id) {\n      return res.status(401).json({ message: \"Unauthorized\" });\n    }\n    \n    const userId = req.user.id;\n    const admin = await storage.isAdmin(userId);\n    \n    if (!admin) {\n      return res.status(403).json({ message: \"Forbidden: Admin access required\" });\n    }\n    \n    next();\n  } catch (error) {\n    console.error(\"Error checking admin status:\", error);\n    res.status(500).json({ message: \"Failed to verify admin status\" });\n  }\n};\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // Auth middleware\n  await setupAuth(app);\n\n  // Auth routes\n  app.get('/api/auth/user', isAuthenticated, async (req: any, res) => {\n    try {\n      const user = req.user;\n      res.json(user);\n    } catch (error) {\n      console.error(\"Error fetching user:\", error);\n      res.status(500).json({ message: \"Failed to fetch user\" });\n    }\n  });\n\n  app.post('/api/auth/change-password', isAuthenticated, async (req: any, res) => {\n    try {\n      const { currentPassword, newPassword } = req.body;\n      const userId = req.user.id;\n\n      if (!currentPassword || !newPassword) {\n        return res.status(400).json({ message: \"Current password and new password are required\" });\n      }\n\n      if (newPassword.length < 8) {\n        return res.status(400).json({ message: \"New password must be at least 8 characters long\" });\n      }\n\n      // Get user from database\n      const user = await storage.getUserById(userId);\n      if (!user || !user.password) {\n        return res.status(400).json({ message: \"User not found or password not set\" });\n      }\n\n      // Verify current password\n      const isPasswordValid = await bcrypt.compare(currentPassword, user.password);\n      if (!isPasswordValid) {\n        return res.status(401).json({ message: \"Current password is incorrect\" });\n      }\n\n      // Hash new password\n      const hashedPassword = await bcrypt.hash(newPassword, 10);\n\n      // Update password\n      await storage.updateUserPassword(userId, hashedPassword);\n\n      res.json({ message: \"Password changed successfully\" });\n    } catch (error) {\n      console.error(\"Error changing password:\", error);\n      res.status(500).json({ message: \"Failed to change password\" });\n    }\n  });\n\n  app.post('/api/auth/forgot-password', async (req: any, res) => {\n    try {\n      const { email } = req.body;\n\n      if (!email) {\n        return res.status(400).json({ message: \"Email is required\" });\n      }\n\n      // Check if user exists\n      const user = await storage.getUserByEmail(email);\n      \n      // Always return success to prevent email enumeration\n      if (!user) {\n        return res.json({ message: \"If an account exists with this email, a password reset link has been sent.\" });\n      }\n\n      // Create reset token\n      const resetToken = await storage.createPasswordResetToken(user.id);\n\n      // Generate reset link\n      const resetLink = `${req.protocol}://${req.get('host')}/reset-password?token=${resetToken.token}`;\n\n      // Send email with reset link\n      try {\n        await sendPasswordResetEmail(user.email, resetLink);\n      } catch (emailError) {\n        console.error('Failed to send password reset email:', emailError);\n        // Don't reveal that email sending failed for security reasons\n      }\n\n      const response: any = { \n        message: \"If an account exists with this email, a password reset link has been sent.\"\n      };\n\n      // Only include resetLink in development mode for testing\n      if (process.env.NODE_ENV === 'development') {\n        response.resetLink = resetLink;\n      }\n\n      res.json(response);\n    } catch (error) {\n      console.error(\"Error requesting password reset:\", error);\n      res.status(500).json({ message: \"Failed to process password reset request\" });\n    }\n  });\n\n  // One-time admin setup endpoint\n  app.post('/api/make-me-admin', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user.id;\n      const userEmail = req.user.email;\n\n      // Check if user is already an admin\n      const isAlreadyAdmin = await storage.isAdmin(userId);\n      if (isAlreadyAdmin) {\n        return res.json({ message: \"You are already an administrator\", isAdmin: true });\n      }\n\n      // Make user an admin\n      await storage.addAdmin(userId);\n\n      res.json({ \n        message: `Successfully made ${userEmail} an administrator!`,\n        isAdmin: true\n      });\n    } catch (error) {\n      console.error(\"Error making user admin:\", error);\n      res.status(500).json({ message: \"Failed to make user admin\" });\n    }\n  });\n\n  app.post('/api/auth/reset-password', async (req: any, res) => {\n    try {\n      const { token, newPassword } = req.body;\n\n      if (!token || !newPassword) {\n        return res.status(400).json({ message: \"Token and new password are required\" });\n      }\n\n      if (newPassword.length < 8) {\n        return res.status(400).json({ message: \"New password must be at least 8 characters long\" });\n      }\n\n      // Validate token\n      const resetToken = await storage.getPasswordResetToken(token);\n      \n      if (!resetToken) {\n        return res.status(400).json({ message: \"Invalid or expired reset token\" });\n      }\n\n      if (resetToken.used) {\n        return res.status(400).json({ message: \"This reset token has already been used\" });\n      }\n\n      if (new Date() > new Date(resetToken.expiresAt)) {\n        return res.status(400).json({ message: \"This reset token has expired\" });\n      }\n\n      // Hash new password\n      const hashedPassword = await bcrypt.hash(newPassword, 10);\n\n      // Update password and mark token as used\n      await storage.updateUserPassword(resetToken.userId, hashedPassword);\n      await storage.markResetTokenAsUsed(token);\n\n      res.json({ message: \"Password has been reset successfully\" });\n    } catch (error) {\n      console.error(\"Error resetting password:\", error);\n      res.status(500).json({ message: \"Failed to reset password\" });\n    }\n  });\n\n  // Calculator routes\n  app.get('/api/calculators', async (req, res) => {\n    try {\n      const calculators = await storage.getCalculators();\n      res.json(calculators);\n    } catch (error) {\n      console.error(\"Error fetching calculators:\", error);\n      res.status(500).json({ message: \"Failed to fetch calculators\" });\n    }\n  });\n\n  app.get('/api/calculators/:slug', async (req, res) => {\n    try {\n      const calculator = await storage.getCalculatorBySlug(req.params.slug);\n      if (!calculator) {\n        return res.status(404).json({ message: \"Calculator not found\" });\n      }\n      res.json(calculator);\n    } catch (error) {\n      console.error(\"Error fetching calculator:\", error);\n      res.status(500).json({ message: \"Failed to fetch calculator\" });\n    }\n  });\n\n  app.get('/api/calculators/featured/list', async (req, res) => {\n    try {\n      const limit = req.query.limit ? parseInt(req.query.limit as string) : 6;\n      const calculators = await storage.getFeaturedCalculators(limit);\n      res.json(calculators);\n    } catch (error) {\n      console.error(\"Error fetching featured calculators:\", error);\n      res.status(500).json({ message: \"Failed to fetch featured calculators\" });\n    }\n  });\n\n  app.get('/api/calculators/slug/:slug', async (req, res) => {\n    try {\n      const { slug } = req.params;\n      const calculator = await storage.getCalculatorBySlug(slug);\n      if (!calculator) {\n        return res.status(404).json({ message: \"Calculator not found\" });\n      }\n      res.json(calculator);\n    } catch (error) {\n      console.error(\"Error fetching calculator:\", error);\n      res.status(500).json({ message: \"Failed to fetch calculator\" });\n    }\n  });\n\n  app.patch('/api/calculators/:id/toggle-featured', isAuthenticated, isAdmin, async (req, res) => {\n    try {\n      const calculator = await storage.toggleFeatured(req.params.id);\n      res.json(calculator);\n    } catch (error) {\n      console.error(\"Error toggling featured status:\", error);\n      res.status(500).json({ message: \"Failed to toggle featured status\" });\n    }\n  });\n\n  // Usage tracking routes (protected)\n  app.post('/api/calculator-usage', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user.id;\n      const usageData = insertCalculatorUsageSchema.parse({\n        ...req.body,\n        userId,\n      });\n      \n      const usage = await storage.recordCalculatorUsage(usageData);\n      res.json(usage);\n    } catch (error) {\n      console.error(\"Error recording calculator usage:\", error);\n      res.status(500).json({ message: \"Failed to record usage\" });\n    }\n  });\n\n  app.get('/api/my-calculator-history', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user.id;\n      const history = await storage.getUserCalculatorHistory(userId);\n      res.json(history);\n    } catch (error) {\n      console.error(\"Error fetching calculator history:\", error);\n      res.status(500).json({ message: \"Failed to fetch history\" });\n    }\n  });\n\n  // Search endpoint\n  app.get('/api/search', async (req, res) => {\n    try {\n      const query = req.query.q as string;\n      if (!query) {\n        return res.json([]);\n      }\n\n      const calculators = await storage.getCalculators();\n      const filtered = calculators.filter(calc => \n        calc.name.toLowerCase().includes(query.toLowerCase()) ||\n        calc.description?.toLowerCase().includes(query.toLowerCase()) ||\n        calc.category.toLowerCase().includes(query.toLowerCase())\n      );\n      \n      res.json(filtered);\n    } catch (error) {\n      console.error(\"Error searching calculators:\", error);\n      res.status(500).json({ message: \"Failed to search calculators\" });\n    }\n  });\n\n  // Execute custom calculator (server-side with safe mathjs evaluation)\n  app.post('/api/execute-custom-calculator', async (req, res) => {\n    try {\n      const { formula, inputs, resultLabel, resultUnit } = req.body;\n      \n      if (!formula || !inputs) {\n        return res.status(400).json({ message: \"Formula and inputs are required\" });\n      }\n\n      // Use mathjs for safe mathematical expression evaluation\n      // mathjs uses AST parsing - no eval() or Function()\n      const { evaluate } = await import('mathjs');\n      \n      // Validate inputs - convert to numbers only\n      const scope: Record<string, number> = {};\n      for (const [key, value] of Object.entries(inputs)) {\n        const numValue = parseFloat(String(value));\n        if (isNaN(numValue) || !isFinite(numValue)) {\n          throw new Error(`Invalid numeric input for ${key}: ${value}`);\n        }\n        scope[key] = numValue;\n      }\n\n      // STRICT validation: formula must only contain allowed characters\n      // Allow: numbers, math operators, comparisons, ternary operators, parentheses, function names, and field IDs\n      const allowedPattern = /^[a-zA-Z0-9+\\-*/()\\s.,<>=?:!&|]+$/;\n      if (!allowedPattern.test(formula)) {\n        throw new Error('Formula contains invalid characters');\n      }\n\n      // Block ANY property access, strings, or dangerous patterns\n      const strictlyProhibited = [\n        /[\\[\\]]/,  // No array/property access\n        /['\"`]/,   // No strings or template literals\n        /\\$/,      // No template literal syntax\n        /;/,       // No statement separators\n        /constructor/i,\n        /prototype/i,\n        /__proto__/i,\n        /globalThis/i,\n        /process/i,\n        /require/i,\n        /import/i,\n        /eval/i,\n        /Function/i,\n        /Object/i,\n        /Array/i,\n        /String/i,\n      ];\n      \n      for (const pattern of strictlyProhibited) {\n        if (pattern.test(formula)) {\n          throw new Error('Formula contains prohibited patterns');\n        }\n      }\n\n      // Evaluate with mathjs (safe AST-based parser)\n      let numericResult;\n      try {\n        numericResult = evaluate(formula, scope);\n      } catch (evalError: any) {\n        throw new Error(`Formula evaluation failed: ${evalError.message}`);\n      }\n      \n      // Ensure result is a safe number\n      if (typeof numericResult !== 'number' || !isFinite(numericResult)) {\n        throw new Error('Formula must return a finite number');\n      }\n      \n      // Format result with label and unit\n      let formattedResult = '';\n      if (resultLabel) {\n        formattedResult = `${resultLabel}: ${numericResult}`;\n        if (resultUnit) {\n          formattedResult += ` ${resultUnit}`;\n        }\n      } else {\n        formattedResult = String(numericResult);\n      }\n      \n      // Return formatted result\n      res.json({ result: formattedResult });\n\n    } catch (error: any) {\n      console.error(\"Error executing custom calculator:\", error);\n      res.status(400).json({ message: error.message || \"Failed to execute calculator\" });\n    }\n  });\n\n  // AI Custom Calculator Generation\n  app.post('/api/generate-calculator', async (req, res) => {\n    try {\n      const { description, creatorName } = req.body;\n      \n      if (!description || typeof description !== 'string') {\n        return res.status(400).json({ message: \"Description is required\" });\n      }\n\n      // Import OpenAI\n      const OpenAI = (await import('openai')).default;\n      const openai = new OpenAI({\n        apiKey: process.env.AI_INTEGRATIONS_OPENAI_API_KEY,\n        baseURL: process.env.AI_INTEGRATIONS_OPENAI_BASE_URL,\n      });\n\n      const systemPrompt = `You are a calculator generator. Given a user's description, generate a calculator specification in JSON format.\n\nThe JSON should have this structure:\n{\n  \"name\": \"Calculator Name\",\n  \"description\": \"Brief description\",\n  \"fields\": [\n    { \"id\": \"fieldName\", \"label\": \"Field Label\", \"type\": \"number\", \"placeholder\": \"Enter value\", \"step\": \"0.01\" }\n  ],\n  \"formula\": \"mathematical expression using field IDs as variables\",\n  \"resultLabel\": \"Label describing what the result represents\",\n  \"resultUnit\": \"unit of measurement for result (optional)\",\n  \"example\": \"Example: Input 100, Output: Result is 100\"\n}\n\nIMPORTANT RULES FOR FORMULA:\n- Formula must be a SIMPLE MATHEMATICAL EXPRESSION only\n- Use field IDs as variables (e.g., if field is \"weight\", use \"weight\" in formula)\n- Only use: +, -, *, /, (), sqrt(), ceil(), floor(), round(), abs(), min(), max(), pow()\n- NO JavaScript code, NO const/let/var, NO semicolons, NO template literals\n- NO string concatenation - just return the numeric result\n- Formula will be evaluated by mathjs library\n\nExample formulas:\n- \"weight / (height * height)\" for BMI\n- \"ceil((length * width * height) / 27)\" for cubic yards\n- \"round(distance * 0.621371)\" for km to miles\n\nRules:\n- Fields should have descriptive labels with units\n- Field IDs should be camelCase with no spaces\n- Keep formulas simple and accurate\n- Use imperial units by default (lbs, feet, inches, Fahrenheit, miles, gallons)\n- Result will be displayed as: \"{resultLabel}: {result} {resultUnit}\"\n\nExample:\nIf user says \"I need a calculator for paint coverage\", generate:\n{\n  \"name\": \"Paint Coverage Calculator\",\n  \"description\": \"Calculate how much paint you need based on room dimensions\",\n  \"fields\": [\n    { \"id\": \"length\", \"label\": \"Room Length (feet)\", \"type\": \"number\", \"placeholder\": \"Enter length\", \"step\": \"0.1\" },\n    { \"id\": \"width\", \"label\": \"Room Width (feet)\", \"type\": \"number\", \"placeholder\": \"Enter width\", \"step\": \"0.1\" },\n    { \"id\": \"height\", \"label\": \"Wall Height (feet)\", \"type\": \"number\", \"placeholder\": \"Enter height\", \"step\": \"0.1\" }\n  ],\n  \"formula\": \"ceil((2 * (length + width) * height) / 350)\",\n  \"resultLabel\": \"Paint Needed\",\n  \"resultUnit\": \"gallons\",\n  \"example\": \"Room 12ft x 10ft x 8ft = 2 gallons\"\n}`;\n\n      const completion = await openai.chat.completions.create({\n        model: \"gpt-4o\",\n        messages: [\n          { role: \"system\", content: systemPrompt },\n          { role: \"user\", content: description }\n        ],\n        response_format: { type: \"json_object\" },\n        temperature: 0.7,\n      });\n\n      const generatedCalculator = JSON.parse(completion.choices[0].message.content || '{}');\n      \n      // Validate the generated calculator structure\n      if (!generatedCalculator.name || typeof generatedCalculator.name !== 'string') {\n        throw new Error('Invalid calculator: missing or invalid name');\n      }\n      if (!generatedCalculator.description || typeof generatedCalculator.description !== 'string') {\n        throw new Error('Invalid calculator: missing or invalid description');\n      }\n      if (!Array.isArray(generatedCalculator.fields) || generatedCalculator.fields.length === 0) {\n        throw new Error('Invalid calculator: missing or invalid fields');\n      }\n      if (!generatedCalculator.formula || typeof generatedCalculator.formula !== 'string') {\n        throw new Error('Invalid calculator: missing or invalid formula');\n      }\n\n      // Validate each field\n      for (const field of generatedCalculator.fields) {\n        if (!field.id || !field.label || !field.type) {\n          throw new Error('Invalid calculator: field missing required properties');\n        }\n        if (!['number', 'text'].includes(field.type)) {\n          throw new Error('Invalid calculator: unsupported field type');\n        }\n      }\n\n      // Validate formula doesn't contain obviously dangerous patterns\n      const dangerousPatterns = [\n        /require\\s*\\(/,\n        /import\\s+/,\n        /eval\\s*\\(/,\n        /Function\\s*\\(/,\n        /setTimeout/,\n        /setInterval/,\n        /XMLHttpRequest/,\n        /fetch\\s*\\(/,\n        /window\\./,\n        /document\\./,\n        /process\\./,\n        /global\\./,\n        /__dirname/,\n        /__filename/,\n      ];\n\n      for (const pattern of dangerousPatterns) {\n        if (pattern.test(generatedCalculator.formula)) {\n          throw new Error('Invalid calculator: formula contains unsafe operations');\n        }\n      }\n      \n      // Generate slug from calculator name\n      const baseSlug = generatedCalculator.name\n        .toLowerCase()\n        .replace(/[^a-z0-9]+/g, '-')\n        .replace(/^-|-$/g, '');\n      \n      // Make slug unique by appending random suffix\n      const randomSuffix = Math.random().toString(36).substring(2, 8);\n      const slug = `${baseSlug}-${randomSuffix}`;\n      \n      // Determine category based on description/name (simple heuristic)\n      let category = 'Other';\n      const lowerDesc = (generatedCalculator.description + ' ' + generatedCalculator.name).toLowerCase();\n      if (lowerDesc.match(/bmi|calories|health|fitness|weight|heart/i)) {\n        category = 'Health';\n      } else if (lowerDesc.match(/loan|mortgage|interest|payment|investment|finance|tax|salary/i)) {\n        category = 'Finance';\n      } else if (lowerDesc.match(/calculate|math|formula|equation|algebra|geometry/i)) {\n        category = 'Math';\n      }\n      \n      // Save calculator to database\n      const savedCalculator = await storage.createCalculator({\n        name: generatedCalculator.name,\n        slug,\n        category,\n        description: generatedCalculator.description,\n        formula: generatedCalculator.formula,\n        fields: generatedCalculator.fields,\n        resultLabel: generatedCalculator.resultLabel || null,\n        resultUnit: generatedCalculator.resultUnit || null,\n        creatorName: creatorName || null,\n        active: 1,\n        featured: 0,\n      });\n      \n      // Return the generated calculator with database info\n      res.json({\n        ...generatedCalculator,\n        id: savedCalculator.id,\n        slug: savedCalculator.slug,\n        category: savedCalculator.category,\n        creatorName: savedCalculator.creatorName,\n      });\n    } catch (error) {\n      console.error(\"Error generating calculator:\", error);\n      res.status(500).json({ message: \"Failed to generate calculator\" });\n    }\n  });\n\n  // Public route to fetch active ad codes by location\n  app.get('/api/ad-codes/:location', async (req, res) => {\n    try {\n      const { location } = req.params;\n      const ads = await storage.getActiveAdsByLocation(location);\n      res.json(ads);\n    } catch (error) {\n      console.error(\"Error fetching ads:\", error);\n      res.status(500).json({ message: \"Failed to fetch ads\" });\n    }\n  });\n\n  // Admin routes - Ad Codes Management\n  app.get('/api/admin/ad-codes', isAuthenticated, isAdmin, async (req, res) => {\n    try {\n      const adCodes = await storage.getAdCodes();\n      res.json(adCodes);\n    } catch (error) {\n      console.error(\"Error fetching ad codes:\", error);\n      res.status(500).json({ message: \"Failed to fetch ad codes\" });\n    }\n  });\n\n  app.post('/api/admin/ad-codes', isAuthenticated, isAdmin, async (req, res) => {\n    try {\n      const adCodeData = insertAdCodeSchema.parse(req.body);\n      const adCode = await storage.createAdCode(adCodeData);\n      res.json(adCode);\n    } catch (error) {\n      console.error(\"Error creating ad code:\", error);\n      res.status(500).json({ message: \"Failed to create ad code\" });\n    }\n  });\n\n  app.put('/api/admin/ad-codes/:id', isAuthenticated, isAdmin, async (req, res) => {\n    try {\n      const { id } = req.params;\n      const adCode = await storage.updateAdCode(id, req.body);\n      res.json(adCode);\n    } catch (error) {\n      console.error(\"Error updating ad code:\", error);\n      res.status(500).json({ message: \"Failed to update ad code\" });\n    }\n  });\n\n  app.delete('/api/admin/ad-codes/:id', isAuthenticated, isAdmin, async (req, res) => {\n    try {\n      const { id } = req.params;\n      await storage.deleteAdCode(id);\n      res.json({ message: \"Ad code deleted successfully\" });\n    } catch (error) {\n      console.error(\"Error deleting ad code:\", error);\n      res.status(500).json({ message: \"Failed to delete ad code\" });\n    }\n  });\n\n  // Admin routes - Admin Users Management\n  app.get('/api/admin/admins', isAuthenticated, isAdmin, async (req, res) => {\n    try {\n      const admins = await storage.getAdminUsers();\n      res.json(admins);\n    } catch (error) {\n      console.error(\"Error fetching admins:\", error);\n      res.status(500).json({ message: \"Failed to fetch admins\" });\n    }\n  });\n\n  app.post('/api/admin/admins', isAuthenticated, isAdmin, async (req, res) => {\n    try {\n      const { email } = req.body;\n      if (!email) {\n        return res.status(400).json({ message: \"Email is required\" });\n      }\n      \n      // Look up user by email\n      const user = await storage.getUserByEmail(email);\n      if (!user) {\n        return res.status(404).json({ message: \"User not found with that email\" });\n      }\n      \n      const admin = await storage.addAdmin(user.id);\n      res.json(admin);\n    } catch (error) {\n      console.error(\"Error adding admin:\", error);\n      res.status(500).json({ message: \"Failed to add admin\" });\n    }\n  });\n\n  app.delete('/api/admin/admins/:userId', isAuthenticated, isAdmin, async (req, res) => {\n    try {\n      const { userId } = req.params;\n      await storage.removeAdmin(userId);\n      res.json({ message: \"Admin removed successfully\" });\n    } catch (error) {\n      console.error(\"Error removing admin:\", error);\n      res.status(500).json({ message: \"Failed to remove admin\" });\n    }\n  });\n\n  // Admin routes - Settings Management\n  app.get('/api/admin/settings', isAuthenticated, isAdmin, async (req, res) => {\n    try {\n      const settings = await storage.getAllSettings();\n      res.json(settings);\n    } catch (error) {\n      console.error(\"Error fetching settings:\", error);\n      res.status(500).json({ message: \"Failed to fetch settings\" });\n    }\n  });\n\n  app.get('/api/settings/:key', async (req, res) => {\n    try {\n      const { key } = req.params;\n      const value = await storage.getSetting(key);\n      res.json({ key, value });\n    } catch (error) {\n      console.error(\"Error fetching setting:\", error);\n      res.status(500).json({ message: \"Failed to fetch setting\" });\n    }\n  });\n\n  app.post('/api/admin/settings', isAuthenticated, isAdmin, async (req, res) => {\n    try {\n      const settingData = insertSettingSchema.parse(req.body);\n      const setting = await storage.setSetting(settingData.key, settingData.value);\n      res.json(setting);\n    } catch (error) {\n      console.error(\"Error saving setting:\", error);\n      res.status(500).json({ message: \"Failed to save setting\" });\n    }\n  });\n\n  // Check if current user is admin\n  app.get('/api/admin/check', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user.id;\n      const isAdminUser = await storage.isAdmin(userId);\n      res.json({ isAdmin: isAdminUser });\n    } catch (error) {\n      console.error(\"Error checking admin status:\", error);\n      res.status(500).json({ message: \"Failed to check admin status\" });\n    }\n  });\n\n  // Sitemap\n  app.get('/sitemap.xml', async (req, res) => {\n    try {\n      const baseUrl = process.env.NODE_ENV === 'production' \n        ? 'https://calculatethis.org' \n        : 'http://localhost:5000';\n      \n      const customCalculators = await storage.getCalculators();\n      \n      const now = new Date().toISOString();\n      \n      let xml = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n';\n      xml += '<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\\n';\n      \n      xml += `  <url>\\n`;\n      xml += `    <loc>${baseUrl}/</loc>\\n`;\n      xml += `    <lastmod>${now}</lastmod>\\n`;\n      xml += `    <changefreq>daily</changefreq>\\n`;\n      xml += `    <priority>1.0</priority>\\n`;\n      xml += `  </url>\\n`;\n      \n      xml += `  <url>\\n`;\n      xml += `    <loc>${baseUrl}/custom-calculator</loc>\\n`;\n      xml += `    <lastmod>${now}</lastmod>\\n`;\n      xml += `    <changefreq>weekly</changefreq>\\n`;\n      xml += `    <priority>0.8</priority>\\n`;\n      xml += `  </url>\\n`;\n      \n      xml += `  <url>\\n`;\n      xml += `    <loc>${baseUrl}/community-calculators</loc>\\n`;\n      xml += `    <lastmod>${now}</lastmod>\\n`;\n      xml += `    <changefreq>daily</changefreq>\\n`;\n      xml += `    <priority>0.8</priority>\\n`;\n      xml += `  </url>\\n`;\n      \n      for (const calc of calculatorsData) {\n        xml += `  <url>\\n`;\n        xml += `    <loc>${baseUrl}/calculator/${calc.slug}</loc>\\n`;\n        xml += `    <lastmod>${now}</lastmod>\\n`;\n        xml += `    <changefreq>monthly</changefreq>\\n`;\n        xml += `    <priority>0.7</priority>\\n`;\n        xml += `  </url>\\n`;\n      }\n      \n      for (const calc of customCalculators) {\n        xml += `  <url>\\n`;\n        xml += `    <loc>${baseUrl}/custom-calculator/${calc.slug}</loc>\\n`;\n        xml += `    <lastmod>${now}</lastmod>\\n`;\n        xml += `    <changefreq>monthly</changefreq>\\n`;\n        xml += `    <priority>0.6</priority>\\n`;\n        xml += `  </url>\\n`;\n      }\n      \n      xml += '</urlset>';\n      \n      res.header('Content-Type', 'application/xml');\n      res.send(xml);\n    } catch (error) {\n      console.error(\"Error generating sitemap:\", error);\n      res.status(500).send('Error generating sitemap');\n    }\n  });\n\n  const httpServer = createServer(app);\n  return httpServer;\n}\n","size_bytes":27601},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":791},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1139},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2765},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \"var(--radius)\",\n        md: \"calc(var(--radius) - 2px)\",\n        sm: \"calc(var(--radius) - 4px)\",\n      },\n      colors: {\n        background: \"var(--background)\",\n        foreground: \"var(--foreground)\",\n        card: {\n          DEFAULT: \"var(--card)\",\n          foreground: \"var(--card-foreground)\",\n        },\n        popover: {\n          DEFAULT: \"var(--popover)\",\n          foreground: \"var(--popover-foreground)\",\n        },\n        primary: {\n          DEFAULT: \"var(--primary)\",\n          foreground: \"var(--primary-foreground)\",\n        },\n        secondary: {\n          DEFAULT: \"var(--secondary)\",\n          foreground: \"var(--secondary-foreground)\",\n        },\n        muted: {\n          DEFAULT: \"var(--muted)\",\n          foreground: \"var(--muted-foreground)\",\n        },\n        accent: {\n          DEFAULT: \"var(--accent)\",\n          foreground: \"var(--accent-foreground)\",\n        },\n        destructive: {\n          DEFAULT: \"var(--destructive)\",\n          foreground: \"var(--destructive-foreground)\",\n        },\n        border: \"var(--border)\",\n        input: \"var(--input)\",\n        ring: \"var(--ring)\",\n        chart: {\n          \"1\": \"var(--chart-1)\",\n          \"2\": \"var(--chart-2)\",\n          \"3\": \"var(--chart-3)\",\n          \"4\": \"var(--chart-4)\",\n          \"5\": \"var(--chart-5)\",\n        },\n        sidebar: {\n          DEFAULT: \"var(--sidebar-background)\",\n          foreground: \"var(--sidebar-foreground)\",\n          primary: \"var(--sidebar-primary)\",\n          \"primary-foreground\": \"var(--sidebar-primary-foreground)\",\n          accent: \"var(--sidebar-accent)\",\n          \"accent-foreground\": \"var(--sidebar-accent-foreground)\",\n          border: \"var(--sidebar-border)\",\n          ring: \"var(--sidebar-ring)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"Inter\", \"system-ui\", \"sans-serif\"],\n        mono: [\"Roboto Mono\", \"monospace\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: {\n            height: \"0\",\n          },\n          to: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n        },\n        \"accordion-up\": {\n          from: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n          to: {\n            height: \"0\",\n          },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":2752},"client/src/pages/admin.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Trash2, Plus } from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { useLocation } from \"wouter\";\nimport Header from \"@/components/Header\";\nimport type { AdCode, AdminUser, Setting, Calculator } from \"@shared/schema\";\n\nexport default function AdminPage() {\n  const { user, isLoading: authLoading } = useAuth();\n  const [, setLocation] = useLocation();\n\n  // Check if user is admin\n  const { data: adminCheck, isLoading: checkingAdmin } = useQuery<{ isAdmin: boolean }>({\n    queryKey: ['/api/admin/check'],\n    enabled: !!user,\n  });\n\n  // If not admin, redirect to home using useEffect\n  useEffect(() => {\n    // Only redirect if we're sure they're not an admin\n    if (!authLoading && !checkingAdmin && user && (!adminCheck || !adminCheck.isAdmin)) {\n      setLocation('/');\n    }\n  }, [authLoading, checkingAdmin, user, adminCheck, setLocation]);\n\n  // Show loading state while checking\n  if (authLoading || checkingAdmin) {\n    return (\n      <div className=\"min-h-screen bg-gray-50\">\n        <Header />\n        <div className=\"container mx-auto px-4 py-8\">\n          <div className=\"text-center\">Loading...</div>\n        </div>\n      </div>\n    );\n  }\n\n  // Don't render if not logged in or not admin\n  if (!user || !adminCheck || !adminCheck.isAdmin) {\n    return null;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Header />\n      <div className=\"container mx-auto px-4 py-8\">\n        <h1 className=\"text-3xl font-bold mb-6\" data-testid=\"title-admin\">Admin Dashboard</h1>\n\n        <Tabs defaultValue=\"adcodes\" className=\"w-full\">\n          <TabsList className=\"grid w-full grid-cols-4\">\n            <TabsTrigger value=\"adcodes\" data-testid=\"tab-adcodes\">Ad Codes</TabsTrigger>\n            <TabsTrigger value=\"community\" data-testid=\"tab-community\">Community Calculators</TabsTrigger>\n            <TabsTrigger value=\"admins\" data-testid=\"tab-admins\">Administrators</TabsTrigger>\n            <TabsTrigger value=\"settings\" data-testid=\"tab-settings\">Settings</TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"adcodes\">\n            <AdCodesManagement />\n          </TabsContent>\n\n          <TabsContent value=\"community\">\n            <CommunityCalculatorsManagement />\n          </TabsContent>\n\n          <TabsContent value=\"admins\">\n            <AdminsManagement />\n          </TabsContent>\n\n          <TabsContent value=\"settings\">\n            <SettingsManagement />\n          </TabsContent>\n        </Tabs>\n      </div>\n    </div>\n  );\n}\n\nconst AD_PLACEMENTS = [\n  {\n    id: \"header\",\n    name: \"Header\",\n    description: \"Top of every page, above main content\",\n    recommendedSize: \"728x90 (Leaderboard) or 970x90 (Large Leaderboard)\",\n    position: \"Full width, centered\"\n  },\n  {\n    id: \"sidebar\",\n    name: \"Sidebar\",\n    description: \"Right side of calculator pages\",\n    recommendedSize: \"300x250 (Medium Rectangle) or 300x600 (Half Page)\",\n    position: \"Right column, visible while scrolling\"\n  },\n  {\n    id: \"inline\",\n    name: \"Inline\",\n    description: \"Between content sections\",\n    recommendedSize: \"728x90 (Leaderboard) or 336x280 (Large Rectangle)\",\n    position: \"Centered within content flow\"\n  },\n  {\n    id: \"footer\",\n    name: \"Footer\",\n    description: \"Bottom of every page\",\n    recommendedSize: \"728x90 (Leaderboard) or 970x90 (Large Leaderboard)\",\n    position: \"Full width, bottom of page\"\n  }\n];\n\nfunction AdCodesManagement() {\n  const { toast } = useToast();\n  const [name, setName] = useState(\"\");\n  const [code, setCode] = useState(\"\");\n  const [location, setLocation] = useState(\"header\");\n  const [isActive, setIsActive] = useState(true);\n\n  const { data: adCodes, isLoading } = useQuery<AdCode[]>({\n    queryKey: ['/api/admin/ad-codes'],\n  });\n\n  const createMutation = useMutation({\n    mutationFn: (data: { name: string; code: string; location: string; active: number }) =>\n      apiRequest('POST', '/api/admin/ad-codes', data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/ad-codes'] });\n      toast({ title: \"Ad code created successfully\" });\n      setName(\"\");\n      setCode(\"\");\n      setLocation(\"header\");\n      setIsActive(true);\n    },\n    onError: () => {\n      toast({ title: \"Failed to create ad code\", variant: \"destructive\" });\n    },\n  });\n\n  const toggleActiveMutation = useMutation({\n    mutationFn: ({ id, active }: { id: string; active: number }) =>\n      apiRequest('PUT', `/api/admin/ad-codes/${id}`, { active }),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/ad-codes'] });\n      toast({ title: \"Ad code updated successfully\" });\n    },\n    onError: () => {\n      toast({ title: \"Failed to update ad code\", variant: \"destructive\" });\n    },\n  });\n\n  const deleteMutation = useMutation({\n    mutationFn: (id: string) => apiRequest('DELETE', `/api/admin/ad-codes/${id}`),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/ad-codes'] });\n      toast({ title: \"Ad code deleted successfully\" });\n    },\n    onError: () => {\n      toast({ title: \"Failed to delete ad code\", variant: \"destructive\" });\n    },\n  });\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!name.trim() || !code.trim()) {\n      toast({ title: \"Name and code are required\", variant: \"destructive\" });\n      return;\n    }\n    createMutation.mutate({ name: name.trim(), code: code.trim(), location, active: isActive ? 1 : 0 });\n  };\n\n  const selectedPlacement = AD_PLACEMENTS.find(p => p.id === location);\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Ad Placement Guide */}\n      <Card className=\"bg-blue-50 border-blue-200\">\n        <CardHeader>\n          <CardTitle className=\"text-blue-900\">Ad Placement Guide</CardTitle>\n          <CardDescription className=\"text-blue-700\">\n            Select a location below to see recommended ad sizes and placement details\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid md:grid-cols-2 gap-4\">\n            {AD_PLACEMENTS.map((placement) => (\n              <div key={placement.id} className=\"bg-white border-2 border-blue-100 rounded-lg p-4\">\n                <div className=\"flex items-start justify-between mb-2\">\n                  <h3 className=\"font-semibold text-blue-900\">{placement.name}</h3>\n                  <span className=\"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded\">\n                    {placement.id}\n                  </span>\n                </div>\n                <p className=\"text-sm text-gray-600 mb-3\">{placement.description}</p>\n                <div className=\"space-y-1 text-sm\">\n                  <div className=\"flex items-start gap-2\">\n                    <span className=\"font-medium text-blue-700 min-w-[90px]\">Size:</span>\n                    <span className=\"text-gray-700\">{placement.recommendedSize}</span>\n                  </div>\n                  <div className=\"flex items-start gap-2\">\n                    <span className=\"font-medium text-blue-700 min-w-[90px]\">Position:</span>\n                    <span className=\"text-gray-700\">{placement.position}</span>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardHeader>\n          <CardTitle>Add New Ad Code</CardTitle>\n          <CardDescription>\n            Paste the code from your ad network (Google AdSense, Media.net, AdThrive, Ezoic, etc.)\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"name\">Ad Name</Label>\n              <Input\n                id=\"name\"\n                data-testid=\"input-adname\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n                placeholder=\"e.g., Google AdSense Header Leaderboard\"\n              />\n            </div>\n            \n            <div className=\"space-y-2\">\n              <Label htmlFor=\"location\">Ad Placement Location</Label>\n              <Select value={location} onValueChange={setLocation}>\n                <SelectTrigger id=\"location\" data-testid=\"select-location\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  {AD_PLACEMENTS.map((placement) => (\n                    <SelectItem key={placement.id} value={placement.id}>\n                      {placement.name} - {placement.recommendedSize}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n              {selectedPlacement && (\n                <div className=\"mt-2 p-3 bg-gray-50 rounded-md border\">\n                  <p className=\"text-sm font-medium text-gray-700 mb-1\">Selected: {selectedPlacement.name}</p>\n                  <p className=\"text-xs text-gray-600 mb-2\">{selectedPlacement.description}</p>\n                  <p className=\"text-xs text-blue-600 font-medium\">\n                    Recommended: {selectedPlacement.recommendedSize}\n                  </p>\n                </div>\n              )}\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"code\">Ad Code (from your ad network)</Label>\n              <textarea\n                id=\"code\"\n                data-testid=\"input-adcode\"\n                value={code}\n                onChange={(e) => setCode(e.target.value)}\n                className=\"w-full min-h-[140px] px-3 py-2 border rounded-md font-mono text-sm\"\n                placeholder=\"Paste your ad code here. Example:\n<script async src='https://pagead2.googlesyndication.com/...'></script>\n<ins class='adsbygoogle' style='display:inline-block;width:728px;height:90px'></ins>\n<script>(adsbygoogle = window.adsbygoogle || []).push({});</script>\"\n              />\n            </div>\n\n            <div className=\"flex items-center space-x-2\">\n              <Switch\n                id=\"active\"\n                data-testid=\"switch-active\"\n                checked={isActive}\n                onCheckedChange={setIsActive}\n              />\n              <Label htmlFor=\"active\">Active (show this ad immediately)</Label>\n            </div>\n\n            <Button type=\"submit\" data-testid=\"button-add-adcode\" disabled={createMutation.isPending}>\n              <Plus className=\"h-4 w-4 mr-2\" />\n              Add Ad Code\n            </Button>\n          </form>\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardHeader>\n          <CardTitle>Existing Ad Codes</CardTitle>\n        </CardHeader>\n        <CardContent>\n          {isLoading ? (\n            <div>Loading...</div>\n          ) : !adCodes || adCodes.length === 0 ? (\n            <div className=\"text-muted-foreground\">No ad codes added yet</div>\n          ) : (\n            <div className=\"space-y-4\">\n              {adCodes.map((adCode) => (\n                <div\n                  key={adCode.id}\n                  data-testid={`adcode-item-${adCode.id}`}\n                  className=\"border rounded-lg p-4 space-y-2\"\n                >\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <div className=\"font-medium\">{adCode.name}</div>\n                      <div className=\"text-sm text-muted-foreground\">\n                        Location: {adCode.location} • Created: {adCode.createdAt ? new Date(adCode.createdAt).toLocaleDateString() : 'N/A'}\n                      </div>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <Switch\n                        data-testid={`switch-adcode-${adCode.id}`}\n                        checked={adCode.active === 1}\n                        onCheckedChange={(checked) =>\n                          toggleActiveMutation.mutate({ id: adCode.id, active: checked ? 1 : 0 })\n                        }\n                      />\n                      <Button\n                        variant=\"destructive\"\n                        size=\"sm\"\n                        data-testid={`button-delete-adcode-${adCode.id}`}\n                        onClick={() => deleteMutation.mutate(adCode.id)}\n                        disabled={deleteMutation.isPending}\n                      >\n                        <Trash2 className=\"h-4 w-4\" />\n                      </Button>\n                    </div>\n                  </div>\n                  <div className=\"bg-muted p-2 rounded text-xs font-mono overflow-x-auto\">\n                    {adCode.code.substring(0, 200)}\n                    {adCode.code.length > 200 && '...'}\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nfunction AdminsManagement() {\n  const { toast } = useToast();\n  const [email, setEmail] = useState(\"\");\n\n  const { data: admins, isLoading } = useQuery<AdminUser[]>({\n    queryKey: ['/api/admin/admins'],\n  });\n\n  const addMutation = useMutation({\n    mutationFn: (email: string) => apiRequest('POST', '/api/admin/admins', { email }),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/admins'] });\n      toast({ title: \"Administrator added successfully\" });\n      setEmail(\"\");\n    },\n    onError: (error: any) => {\n      toast({ \n        title: \"Failed to add administrator\", \n        description: error.message || \"User not found or already an admin\",\n        variant: \"destructive\" \n      });\n    },\n  });\n\n  const removeMutation = useMutation({\n    mutationFn: (userId: string) => apiRequest('DELETE', `/api/admin/admins/${userId}`),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/admins'] });\n      toast({ title: \"Administrator removed successfully\" });\n    },\n    onError: () => {\n      toast({ title: \"Failed to remove administrator\", variant: \"destructive\" });\n    },\n  });\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!email.trim()) {\n      toast({ title: \"Email is required\", variant: \"destructive\" });\n      return;\n    }\n    addMutation.mutate(email.trim());\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <Card>\n        <CardHeader>\n          <CardTitle>Add Administrator</CardTitle>\n          <CardDescription>Enter the user's email address to grant admin access</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"email\">Email Address</Label>\n              <Input\n                id=\"email\"\n                type=\"email\"\n                data-testid=\"input-admin-email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                placeholder=\"user@example.com\"\n              />\n            </div>\n\n            <Button type=\"submit\" data-testid=\"button-add-admin\" disabled={addMutation.isPending}>\n              <Plus className=\"h-4 w-4 mr-2\" />\n              Add Administrator\n            </Button>\n          </form>\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardHeader>\n          <CardTitle>Current Administrators</CardTitle>\n        </CardHeader>\n        <CardContent>\n          {isLoading ? (\n            <div>Loading...</div>\n          ) : !admins || admins.length === 0 ? (\n            <div className=\"text-muted-foreground\">No administrators added yet</div>\n          ) : (\n            <div className=\"space-y-2\">\n              {admins.map((admin) => (\n                <div\n                  key={admin.id}\n                  data-testid={`admin-item-${admin.userId}`}\n                  className=\"flex items-center justify-between border rounded-lg p-4\"\n                >\n                  <div>\n                    <div className=\"font-medium\">{admin.email || admin.userId}</div>\n                    {admin.firstName && admin.lastName && (\n                      <div className=\"text-sm text-muted-foreground\">\n                        {admin.firstName} {admin.lastName}\n                      </div>\n                    )}\n                    <div className=\"text-sm text-muted-foreground\">\n                      Added: {admin.createdAt ? new Date(admin.createdAt).toLocaleDateString() : 'N/A'}\n                    </div>\n                  </div>\n                  <Button\n                    variant=\"destructive\"\n                    size=\"sm\"\n                    data-testid={`button-remove-admin-${admin.userId}`}\n                    onClick={() => removeMutation.mutate(admin.userId)}\n                    disabled={removeMutation.isPending}\n                  >\n                    <Trash2 className=\"h-4 w-4\" />\n                  </Button>\n                </div>\n              ))}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nfunction CommunityCalculatorsManagement() {\n  const { toast } = useToast();\n\n  const { data: calculators, isLoading } = useQuery<Calculator[]>({\n    queryKey: ['/api/calculators'],\n  });\n\n  const toggleFeaturedMutation = useMutation({\n    mutationFn: (id: string) => apiRequest('PATCH', `/api/calculators/${id}/toggle-featured`),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/calculators'] });\n      queryClient.invalidateQueries({ queryKey: ['/api/calculators/featured/list'] });\n      toast({ title: \"Calculator featured status updated\" });\n    },\n    onError: () => {\n      toast({ title: \"Failed to update calculator\", variant: \"destructive\" });\n    },\n  });\n\n  const communityCalculators = calculators?.filter(calc => calc.formula) || [];\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>Community-Built Calculators</CardTitle>\n        <CardDescription>\n          Manage AI-generated calculators created by users. Feature them to showcase on the homepage.\n        </CardDescription>\n      </CardHeader>\n      <CardContent>\n        {isLoading ? (\n          <div>Loading...</div>\n        ) : communityCalculators.length === 0 ? (\n          <div className=\"text-muted-foreground\">No community calculators yet</div>\n        ) : (\n          <div className=\"space-y-4\">\n            {communityCalculators.map((calculator) => (\n              <div\n                key={calculator.id}\n                data-testid={`calculator-item-${calculator.id}`}\n                className=\"border rounded-lg p-4\"\n              >\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-3\">\n                      <h3 className=\"font-semibold\">{calculator.name}</h3>\n                      {calculator.featured === 1 && (\n                        <span className=\"bg-purple-100 text-purple-700 text-xs px-2 py-1 rounded\">\n                          Featured\n                        </span>\n                      )}\n                    </div>\n                    <p className=\"text-sm text-muted-foreground mt-1\">{calculator.description}</p>\n                    <div className=\"flex gap-4 mt-2 text-xs text-muted-foreground\">\n                      <span>Category: {calculator.category}</span>\n                      <span>Created: {calculator.createdAt ? new Date(calculator.createdAt).toLocaleDateString() : 'N/A'}</span>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <Switch\n                      data-testid={`switch-featured-${calculator.id}`}\n                      checked={calculator.featured === 1}\n                      onCheckedChange={() => toggleFeaturedMutation.mutate(calculator.id)}\n                      disabled={toggleFeaturedMutation.isPending}\n                    />\n                    <Label className=\"text-sm\">Featured</Label>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction SettingsManagement() {\n  const { toast } = useToast();\n  const [contactEmail, setContactEmail] = useState(\"\");\n  const [adsEnabled, setAdsEnabled] = useState(true);\n\n  const { data: settings, isLoading } = useQuery<Setting[]>({\n    queryKey: ['/api/admin/settings'],\n  });\n\n  useEffect(() => {\n    if (settings) {\n      const emailSetting = settings.find((s) => s.key === 'contact_email');\n      if (emailSetting) {\n        setContactEmail(emailSetting.value);\n      }\n      const adsSetting = settings.find((s) => s.key === 'ads_enabled');\n      if (adsSetting) {\n        setAdsEnabled(adsSetting.value === '1');\n      }\n    }\n  }, [settings]);\n\n  const saveMutation = useMutation({\n    mutationFn: (data: { key: string; value: string }) =>\n      apiRequest('POST', '/api/admin/settings', data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/settings'] });\n      toast({ title: \"Setting saved successfully\" });\n    },\n    onError: () => {\n      toast({ title: \"Failed to save setting\", variant: \"destructive\" });\n    },\n  });\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!contactEmail.trim()) {\n      toast({ title: \"Email is required\", variant: \"destructive\" });\n      return;\n    }\n    saveMutation.mutate({ key: 'contact_email', value: contactEmail.trim() });\n  };\n\n  const handleAdsToggle = (checked: boolean) => {\n    setAdsEnabled(checked);\n    saveMutation.mutate({ key: 'ads_enabled', value: checked ? '1' : '0' });\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <Card>\n        <CardHeader>\n          <CardTitle>Advertising Settings</CardTitle>\n          <CardDescription>Control whether ads are displayed across the site</CardDescription>\n        </CardHeader>\n        <CardContent>\n          {isLoading ? (\n            <div>Loading...</div>\n          ) : (\n            <div className=\"flex items-center justify-between\">\n              <div className=\"space-y-0.5\">\n                <Label htmlFor=\"ads-toggle\">Display Advertisements</Label>\n                <div className=\"text-sm text-gray-500\">\n                  Toggle ads on/off globally to adjust spacing\n                </div>\n              </div>\n              <Switch\n                id=\"ads-toggle\"\n                data-testid=\"switch-ads-enabled\"\n                checked={adsEnabled}\n                onCheckedChange={handleAdsToggle}\n              />\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardHeader>\n          <CardTitle>Contact Settings</CardTitle>\n          <CardDescription>Configure the contact email shown on the website</CardDescription>\n        </CardHeader>\n        <CardContent>\n          {isLoading ? (\n            <div>Loading...</div>\n          ) : (\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"contactEmail\">Contact Email</Label>\n                <Input\n                  id=\"contactEmail\"\n                  type=\"email\"\n                  data-testid=\"input-contact-email\"\n                  value={contactEmail}\n                  onChange={(e) => setContactEmail(e.target.value)}\n                  placeholder=\"contact@calculatethis.org\"\n                />\n              </div>\n\n              <Button type=\"submit\" data-testid=\"button-save-settings\" disabled={saveMutation.isPending}>\n                Save Settings\n              </Button>\n            </form>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":24313},"client/src/components/Header.tsx":{"content":"import { Link, useLocation } from \"wouter\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { queryClient } from \"@/lib/queryClient\";\nimport logoPath from \"@assets/new_logo-removebg-preview_1760971211931.png\";\n\nexport default function Header() {\n  const { isAuthenticated, isLoading, user } = useAuth();\n  const [, navigate] = useLocation();\n\n  // Check if user is admin\n  const { data: adminCheck } = useQuery<{ isAdmin: boolean }>({\n    queryKey: ['/api/admin/check'],\n    enabled: !!user,\n  });\n\n  const handleSignIn = () => {\n    navigate(\"/login\");\n  };\n\n  const handleSignUp = () => {\n    navigate(\"/register\");\n  };\n\n  const handleSignOut = async () => {\n    try {\n      await fetch(\"/api/logout\", { method: \"POST\" });\n      queryClient.invalidateQueries({ queryKey: ['/api/auth/user'] });\n      navigate(\"/\");\n    } catch (error) {\n      console.error(\"Logout failed:\", error);\n    }\n  };\n\n  const scrollToCalculators = (e: React.MouseEvent) => {\n    e.preventDefault();\n    navigate(\"/\");\n    setTimeout(() => {\n      const element = document.getElementById(\"calculators\");\n      element?.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n    }, 100);\n  };\n\n  const scrollToContact = (e: React.MouseEvent) => {\n    e.preventDefault();\n    navigate(\"/\");\n    setTimeout(() => {\n      const element = document.getElementById(\"contact\");\n      element?.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n    }, 100);\n  };\n\n  return (\n    <header className=\"bg-blue-50 shadow-md sticky top-0 z-50 border-b border-blue-100\">\n      <div className=\"max-w-7xl mx-auto px-4 py-3\">\n        <div className=\"flex items-center justify-between\">\n          {/* Logo (clickable home link) */}\n          <Link href=\"/\" className=\"flex items-center hover:opacity-80 transition-opacity\">\n            <div className=\"h-16 flex items-center overflow-hidden\">\n              <img \n                src={logoPath} \n                alt=\"CalculateThis.org Logo\" \n                className=\"h-[200px] w-auto object-contain object-left\" \n                data-testid=\"logo-image\" \n              />\n            </div>\n          </Link>\n          \n          {/* Navigation & Auth */}\n          <div className=\"flex items-center space-x-6\">\n            <nav className=\"hidden md:flex items-center space-x-6\">\n              <a \n                href=\"/#calculators\" \n                onClick={scrollToCalculators}\n                className=\"text-gray-700 hover:text-blue-600 font-medium transition-colors\"\n                data-testid=\"link-calculators\"\n              >\n                Calculators\n              </a>\n              <a \n                href=\"/#contact\" \n                onClick={scrollToContact}\n                className=\"text-gray-700 hover:text-blue-600 font-medium transition-colors\"\n                data-testid=\"link-contact\"\n              >\n                Contact\n              </a>\n              {isAuthenticated && (\n                <Link href=\"/dashboard\" className=\"text-gray-700 hover:text-blue-600 font-medium transition-colors\" data-testid=\"link-dashboard\">\n                  Dashboard\n                </Link>\n              )}\n              {isAuthenticated && (\n                <Link href=\"/settings\" className=\"text-gray-700 hover:text-blue-600 font-medium transition-colors\" data-testid=\"link-settings\">\n                  Settings\n                </Link>\n              )}\n              {isAuthenticated && adminCheck?.isAdmin && (\n                <Link href=\"/admin\" className=\"text-orange-600 hover:text-orange-700 font-bold transition-colors\" data-testid=\"link-admin\">\n                  Admin\n                </Link>\n              )}\n            </nav>\n            \n            {/* Authentication buttons */}\n            <div className=\"flex items-center space-x-3\">\n              {isLoading ? (\n                <div className=\"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin\"></div>\n              ) : isAuthenticated ? (\n                <div className=\"flex items-center space-x-3\">\n                  {user?.profileImageUrl && (\n                    <img \n                      src={user.profileImageUrl} \n                      alt=\"Profile\" \n                      className=\"w-8 h-8 rounded-full object-cover\"\n                      data-testid=\"img-profile\"\n                    />\n                  )}\n                  <span className=\"text-gray-700 font-medium\" data-testid=\"text-username\">\n                    {user?.firstName || user?.email || 'User'}\n                  </span>\n                  <button \n                    onClick={handleSignOut}\n                    className=\"px-4 py-2 text-blue-600 border border-blue-600 rounded-lg hover:bg-blue-600 hover:text-white transition-all font-medium\"\n                    data-testid=\"button-signout\"\n                  >\n                    Sign Out\n                  </button>\n                </div>\n              ) : (\n                <>\n                  <button \n                    onClick={handleSignIn}\n                    className=\"px-4 py-2 text-blue-600 border border-blue-600 rounded-lg hover:bg-blue-600 hover:text-white transition-all font-medium\"\n                    data-testid=\"button-signin\"\n                  >\n                    Sign In\n                  </button>\n                  <button \n                    onClick={handleSignUp}\n                    className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all font-medium shadow-md\"\n                    data-testid=\"button-signup\"\n                  >\n                    Sign Up\n                  </button>\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n}\n","size_bytes":5788},"client/src/pages/dashboard.tsx":{"content":"import { useEffect } from \"react\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { isUnauthorizedError } from \"@/lib/authUtils\";\nimport Header from \"@/components/Header\";\nimport SEO from \"@/components/SEO\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Link } from \"wouter\";\n\nexport default function Dashboard() {\n  const { isAuthenticated, isLoading, user } = useAuth();\n  const { toast } = useToast();\n\n  // Redirect to login if not authenticated\n  useEffect(() => {\n    if (!isLoading && !isAuthenticated) {\n      toast({\n        title: \"Unauthorized\",\n        description: \"You are logged out. Logging in again...\",\n        variant: \"destructive\",\n      });\n      setTimeout(() => {\n        window.location.href = \"/api/login\";\n      }, 500);\n      return;\n    }\n  }, [isAuthenticated, isLoading, toast]);\n\n  // Fetch user's calculation history\n  const { data: calculationHistory, isLoading: historyLoading } = useQuery({\n    queryKey: ['/api/my-calculator-history'],\n    retry: false,\n    enabled: isAuthenticated,\n  });\n\n  if (isLoading || !isAuthenticated) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <SEO\n        title=\"Dashboard - CalculateThis.org\"\n        description=\"View your calculation history and manage your account on CalculateThis.org.\"\n        ogUrl=\"https://calculatethis.org/dashboard\"\n      />\n      <Header />\n      \n      <main className=\"max-w-7xl mx-auto px-4 py-8\">\n        \n        {/* Welcome Section */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\n            Welcome back, {user?.firstName || user?.email || 'User'}!\n          </h1>\n          <p className=\"text-gray-600\">Track your calculation history and discover new tools.</p>\n        </div>\n\n        {/* Stats Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n          <Card>\n            <CardHeader className=\"pb-2\">\n              <CardTitle className=\"text-lg text-gray-600\">Total Calculations</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-3xl font-bold text-blue-600\">\n                {calculationHistory?.length || 0}\n              </div>\n            </CardContent>\n          </Card>\n          \n          <Card>\n            <CardHeader className=\"pb-2\">\n              <CardTitle className=\"text-lg text-gray-600\">Favorite Category</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold text-green-600\">\n                {calculationHistory?.length > 0 ? \n                  // Find most used category\n                  Object.entries(\n                    calculationHistory.reduce((acc: any, calc: any) => {\n                      acc[calc.calculatorType] = (acc[calc.calculatorType] || 0) + 1;\n                      return acc;\n                    }, {})\n                  ).sort(([,a], [,b]) => (b as number) - (a as number))[0]?.[0] || 'None'\n                  : 'None'\n                }\n              </div>\n            </CardContent>\n          </Card>\n          \n          <Card>\n            <CardHeader className=\"pb-2\">\n              <CardTitle className=\"text-lg text-gray-600\">This Week</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-3xl font-bold text-purple-600\">\n                {calculationHistory?.filter((calc: any) => {\n                  const calcDate = new Date(calc.createdAt);\n                  const oneWeekAgo = new Date();\n                  oneWeekAgo.setDate(oneWeekAgo.getDate() - 7);\n                  return calcDate > oneWeekAgo;\n                }).length || 0}\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Recent Calculations */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Recent Calculations</CardTitle>\n          </CardHeader>\n          <CardContent>\n            {historyLoading ? (\n              <div className=\"text-center py-8\">\n                <div className=\"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-2\"></div>\n                <p className=\"text-gray-500\">Loading calculation history...</p>\n              </div>\n            ) : !calculationHistory || calculationHistory.length === 0 ? (\n              <div className=\"text-center py-8\">\n                <p className=\"text-gray-500 mb-4\">No calculations yet!</p>\n                <Link \n                  href=\"/\" \n                  className=\"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n                >\n                  Start Calculating\n                </Link>\n              </div>\n            ) : (\n              <div className=\"space-y-4\">\n                {calculationHistory.slice(0, 10).map((calc: any, index: number) => (\n                  <div key={index} className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center space-x-2 mb-1\">\n                        <h4 className=\"font-semibold text-gray-900\">{calc.calculatorName}</h4>\n                        <Badge variant=\"secondary\">{calc.calculatorType}</Badge>\n                      </div>\n                      {calc.result && (\n                        <p className=\"text-sm text-gray-600\">Result: {calc.result}</p>\n                      )}\n                    </div>\n                    <div className=\"text-sm text-gray-500\">\n                      {new Date(calc.createdAt).toLocaleDateString()}\n                    </div>\n                  </div>\n                ))}\n                \n                {calculationHistory.length > 10 && (\n                  <div className=\"text-center pt-4\">\n                    <p className=\"text-gray-500\">Showing 10 of {calculationHistory.length} calculations</p>\n                  </div>\n                )}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        {/* Quick Access */}\n        <Card className=\"mt-8\">\n          <CardHeader>\n            <CardTitle>Quick Access</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n              <Link \n                href=\"/calculator/mortgage-calculator\"\n                className=\"p-4 text-center bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors\"\n              >\n                <div className=\"text-2xl mb-2\">🏠</div>\n                <div className=\"font-medium text-blue-800\">Mortgage</div>\n              </Link>\n              <Link \n                href=\"/calculator/bmi-calculator\"\n                className=\"p-4 text-center bg-green-50 hover:bg-green-100 rounded-lg transition-colors\"\n              >\n                <div className=\"text-2xl mb-2\">⚖️</div>\n                <div className=\"font-medium text-green-800\">BMI</div>\n              </Link>\n              <Link \n                href=\"/calculator/percentage-calculator\"\n                className=\"p-4 text-center bg-purple-50 hover:bg-purple-100 rounded-lg transition-colors\"\n              >\n                <div className=\"text-2xl mb-2\">📊</div>\n                <div className=\"font-medium text-purple-800\">Percentage</div>\n              </Link>\n              <Link \n                href=\"/calculator/tip-calculator\"\n                className=\"p-4 text-center bg-yellow-50 hover:bg-yellow-100 rounded-lg transition-colors\"\n              >\n                <div className=\"text-2xl mb-2\">💰</div>\n                <div className=\"font-medium text-yellow-800\">Tip</div>\n              </Link>\n            </div>\n          </CardContent>\n        </Card>\n\n      </main>\n    </div>\n  );\n}\n","size_bytes":8293},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":157},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1467},"server/storage.ts":{"content":"import {\n  users,\n  calculatorUsage,\n  calculators,\n  adCodes,\n  adminUsers,\n  settings,\n  passwordResetTokens,\n  type User,\n  type UpsertUser,\n  type CalculatorUsage,\n  type InsertCalculatorUsage,\n  type Calculator,\n  type InsertCalculator,\n  type AdCode,\n  type InsertAdCode,\n  type AdminUser,\n  type InsertAdminUser,\n  type Setting,\n  type InsertSetting,\n  type PasswordResetToken,\n  type InsertPasswordResetToken,\n} from \"@shared/schema\";\nimport { db } from \"./db\";\nimport { eq, desc, and, sql } from \"drizzle-orm\";\n\nexport interface IStorage {\n  // User operations\n  getUser(id: string): Promise<User | undefined>;\n  getUserById(id: string): Promise<User | undefined>;\n  getUserByEmail(email: string): Promise<User | undefined>;\n  createUser(userData: Partial<UpsertUser>): Promise<User>;\n  upsertUser(user: UpsertUser): Promise<User>;\n  updateUserPassword(userId: string, hashedPassword: string): Promise<void>;\n  \n  // Calculator operations\n  getCalculators(): Promise<Calculator[]>;\n  getCalculatorBySlug(slug: string): Promise<Calculator | undefined>;\n  createCalculator(calculator: InsertCalculator): Promise<Calculator>;\n  getFeaturedCalculators(limit?: number): Promise<Calculator[]>;\n  toggleFeatured(id: string): Promise<Calculator>;\n  \n  // Usage tracking operations\n  recordCalculatorUsage(usage: InsertCalculatorUsage): Promise<CalculatorUsage>;\n  getUserCalculatorHistory(userId: string, limit?: number): Promise<CalculatorUsage[]>;\n  getCalculatorStats(calculatorName: string): Promise<number>;\n  \n  // Admin operations - Ad codes\n  getAdCodes(): Promise<AdCode[]>;\n  getAdCodeById(id: string): Promise<AdCode | undefined>;\n  createAdCode(adCode: InsertAdCode): Promise<AdCode>;\n  updateAdCode(id: string, adCode: Partial<InsertAdCode>): Promise<AdCode>;\n  deleteAdCode(id: string): Promise<void>;\n  getActiveAdsByLocation(location: string): Promise<AdCode[]>;\n  \n  // Admin operations - Admin users\n  getAdminUsers(): Promise<AdminUser[]>;\n  isAdmin(userId: string): Promise<boolean>;\n  addAdmin(userId: string): Promise<AdminUser>;\n  removeAdmin(userId: string): Promise<void>;\n  \n  // Admin operations - Settings\n  getSetting(key: string): Promise<string | undefined>;\n  setSetting(key: string, value: string): Promise<Setting>;\n  getAllSettings(): Promise<Setting[]>;\n  \n  // Password reset operations\n  createPasswordResetToken(userId: string): Promise<PasswordResetToken>;\n  getPasswordResetToken(token: string): Promise<PasswordResetToken | undefined>;\n  markResetTokenAsUsed(token: string): Promise<void>;\n}\n\nexport class DatabaseStorage implements IStorage {\n  // User operations\n  async getUser(id: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.id, id));\n    return user;\n  }\n\n  async getUserById(id: string): Promise<User | undefined> {\n    return this.getUser(id);\n  }\n\n  async getUserByEmail(email: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.email, email));\n    return user;\n  }\n\n  async createUser(userData: Partial<UpsertUser>): Promise<User> {\n    const [user] = await db\n      .insert(users)\n      .values(userData as UpsertUser)\n      .returning();\n    return user;\n  }\n\n  async upsertUser(userData: UpsertUser): Promise<User> {\n    const [user] = await db\n      .insert(users)\n      .values(userData)\n      .onConflictDoUpdate({\n        target: users.email,\n        set: {\n          ...userData,\n          updatedAt: new Date(),\n        },\n      })\n      .returning();\n    return user;\n  }\n\n  async updateUserPassword(userId: string, hashedPassword: string): Promise<void> {\n    await db\n      .update(users)\n      .set({ password: hashedPassword, updatedAt: new Date() })\n      .where(eq(users.id, userId));\n  }\n\n  // Calculator operations\n  async getCalculators(): Promise<Calculator[]> {\n    return await db.select().from(calculators).where(eq(calculators.active, 1));\n  }\n\n  async getCalculatorBySlug(slug: string): Promise<Calculator | undefined> {\n    const [calculator] = await db\n      .select()\n      .from(calculators)\n      .where(and(eq(calculators.slug, slug), eq(calculators.active, 1)));\n    return calculator;\n  }\n\n  async createCalculator(calculator: InsertCalculator): Promise<Calculator> {\n    const [newCalculator] = await db\n      .insert(calculators)\n      .values(calculator)\n      .returning();\n    return newCalculator;\n  }\n\n  async getFeaturedCalculators(limit = 6): Promise<Calculator[]> {\n    return await db\n      .select()\n      .from(calculators)\n      .where(and(eq(calculators.featured, 1), eq(calculators.active, 1)))\n      .orderBy(desc(calculators.createdAt))\n      .limit(limit);\n  }\n\n  async toggleFeatured(id: string): Promise<Calculator> {\n    const calculator = await db.select().from(calculators).where(eq(calculators.id, id));\n    if (!calculator[0]) {\n      throw new Error(\"Calculator not found\");\n    }\n    const newFeaturedValue = calculator[0].featured === 1 ? 0 : 1;\n    const [updated] = await db\n      .update(calculators)\n      .set({ featured: newFeaturedValue })\n      .where(eq(calculators.id, id))\n      .returning();\n    return updated;\n  }\n\n  // Usage tracking operations\n  async recordCalculatorUsage(usage: InsertCalculatorUsage): Promise<CalculatorUsage> {\n    const [newUsage] = await db\n      .insert(calculatorUsage)\n      .values(usage)\n      .returning();\n    return newUsage;\n  }\n\n  async getUserCalculatorHistory(userId: string, limit = 50): Promise<CalculatorUsage[]> {\n    return await db\n      .select()\n      .from(calculatorUsage)\n      .where(eq(calculatorUsage.userId, userId))\n      .orderBy(desc(calculatorUsage.createdAt))\n      .limit(limit);\n  }\n\n  async getCalculatorStats(calculatorName: string): Promise<number> {\n    const result = await db\n      .select({ count: sql`count(*)` })\n      .from(calculatorUsage)\n      .where(eq(calculatorUsage.calculatorName, calculatorName));\n    return Number(result[0]?.count || 0);\n  }\n\n  // Admin operations - Ad codes\n  async getAdCodes(): Promise<AdCode[]> {\n    return await db.select().from(adCodes).orderBy(desc(adCodes.createdAt));\n  }\n\n  async getAdCodeById(id: string): Promise<AdCode | undefined> {\n    const [adCode] = await db.select().from(adCodes).where(eq(adCodes.id, id));\n    return adCode;\n  }\n\n  async createAdCode(adCode: InsertAdCode): Promise<AdCode> {\n    const [newAdCode] = await db.insert(adCodes).values(adCode).returning();\n    return newAdCode;\n  }\n\n  async updateAdCode(id: string, adCode: Partial<InsertAdCode>): Promise<AdCode> {\n    const [updatedAdCode] = await db\n      .update(adCodes)\n      .set({ ...adCode, updatedAt: new Date() })\n      .where(eq(adCodes.id, id))\n      .returning();\n    return updatedAdCode;\n  }\n\n  async deleteAdCode(id: string): Promise<void> {\n    await db.delete(adCodes).where(eq(adCodes.id, id));\n  }\n\n  async getActiveAdsByLocation(location: string): Promise<AdCode[]> {\n    return await db\n      .select()\n      .from(adCodes)\n      .where(and(eq(adCodes.location, location), eq(adCodes.active, 1)))\n      .orderBy(adCodes.createdAt);\n  }\n\n  // Admin operations - Admin users\n  async getAdminUsers(): Promise<AdminUser[]> {\n    const results = await db\n      .select()\n      .from(adminUsers)\n      .leftJoin(users, eq(adminUsers.userId, users.id))\n      .orderBy(desc(adminUsers.createdAt));\n    \n    return results.map(r => ({\n      id: r.admin_users.id,\n      userId: r.admin_users.userId,\n      createdAt: r.admin_users.createdAt,\n      email: r.users?.email || null,\n      firstName: r.users?.firstName || null,\n      lastName: r.users?.lastName || null,\n    })) as AdminUser[];\n  }\n\n  async isAdmin(userId: string): Promise<boolean> {\n    const [admin] = await db\n      .select()\n      .from(adminUsers)\n      .where(eq(adminUsers.userId, userId));\n    return !!admin;\n  }\n\n  async addAdmin(userId: string): Promise<AdminUser> {\n    const [newAdmin] = await db\n      .insert(adminUsers)\n      .values({ userId })\n      .returning();\n    return newAdmin;\n  }\n\n  async removeAdmin(userId: string): Promise<void> {\n    await db.delete(adminUsers).where(eq(adminUsers.userId, userId));\n  }\n\n  // Admin operations - Settings\n  async getSetting(key: string): Promise<string | undefined> {\n    const [setting] = await db.select().from(settings).where(eq(settings.key, key));\n    return setting?.value;\n  }\n\n  async setSetting(key: string, value: string): Promise<Setting> {\n    const [setting] = await db\n      .insert(settings)\n      .values({ key, value })\n      .onConflictDoUpdate({\n        target: settings.key,\n        set: { value, updatedAt: new Date() },\n      })\n      .returning();\n    return setting;\n  }\n\n  async getAllSettings(): Promise<Setting[]> {\n    return await db.select().from(settings);\n  }\n\n  // Password reset operations\n  async createPasswordResetToken(userId: string): Promise<PasswordResetToken> {\n    // Generate a cryptographically secure random token\n    const crypto = await import('crypto');\n    const token = crypto.randomBytes(32).toString('hex');\n    \n    // Token expires in 1 hour\n    const expiresAt = new Date();\n    expiresAt.setHours(expiresAt.getHours() + 1);\n\n    const [resetToken] = await db\n      .insert(passwordResetTokens)\n      .values({\n        userId,\n        token,\n        expiresAt,\n        used: 0,\n      })\n      .returning();\n    \n    return resetToken;\n  }\n\n  async getPasswordResetToken(token: string): Promise<PasswordResetToken | undefined> {\n    const [resetToken] = await db\n      .select()\n      .from(passwordResetTokens)\n      .where(eq(passwordResetTokens.token, token));\n    return resetToken;\n  }\n\n  async markResetTokenAsUsed(token: string): Promise<void> {\n    await db\n      .update(passwordResetTokens)\n      .set({ used: 1 })\n      .where(eq(passwordResetTokens.token, token));\n  }\n}\n\nexport const storage = new DatabaseStorage();\n","size_bytes":9843},"replit.md":{"content":"# CalculateThis.org - Online Calculator Platform\n\n## Overview\n\nCalculateThis.org is a comprehensive online calculator platform offering over 200 calculators across multiple categories (Math, Finance, Health, and Other). It provides both authenticated and unauthenticated experiences, with authenticated users able to track their calculation history. The platform aims to be a go-to resource for a wide range of calculation needs, from everyday math to specialized financial and health metrics. A key ambition is to enable users to create custom calculators using AI, significantly expanding the platform's utility and user engagement.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Core Technologies\n\nThe platform is built with a modern TypeScript stack, featuring a React frontend (Vite, Wouter, TanStack Query, shadcn/ui, Tailwind CSS) and an Express.js backend (Node.js, Drizzle ORM, Neon PostgreSQL).\n\n### Frontend Architecture\n\n- **Component Library**: shadcn/ui (Radix UI + Tailwind) for customizable, accessible components. Components are copied into the project for full control.\n- **Routing**: Wouter for lightweight client-side routing, handling authentication-aware rendering.\n- **State Management**: TanStack Query manages all server state, reducing the need for traditional state management libraries for data fetching.\n- **Styling**: Tailwind CSS with CSS variables enables flexible theming, including light and dark modes.\n\n### Backend Architecture\n\n- **Database ORM**: Drizzle ORM provides type-safe database interactions with PostgreSQL.\n- **Session Management**: `express-session` with `connect-pg-simple` ensures persistent session storage in PostgreSQL, suitable for the Replit deployment environment.\n- **Monorepo**: Client and server code share a single repository, including shared TypeScript schema types.\n- **API Design**: RESTful endpoints (`/api` prefix) with authentication middleware for protected routes.\n\n### Database Schema\n\nPostgreSQL is used with Drizzle ORM. Key tables include:\n- `sessions`: Stores Express session data.\n- `users`: Stores user profiles from Replit Auth (OIDC).\n- `calculator_usage`: Tracks calculation history for both authenticated and unauthenticated users.\n- `calculators`: Stores definitions for dynamic calculators.\n- `ad_codes`: Manages advertisement code snippets.\n- `admin_users`: Defines platform administrators.\n- `settings`: Stores key-value site configurations.\n\n### Authentication & Authorization\n\n- **Replit Authentication (OpenID Connect)**: Leverages Passport.js and `openid-client` for seamless integration with Replit's OIDC provider.\n- **Session-based**: Authentication relies on PostgreSQL-backed sessions.\n- **Authorization**: Simple authenticated/unauthenticated model, with an `isAdmin` middleware for admin-specific routes.\n\n### Calculator Engine\n\n- **Registry-based Architecture**: A `calculatorConfig.ts` registry maps calculator slugs to handler types and form fields.\n- **Handler-based Logic**: `calculatorHandlers.ts` contains calculation logic categorized by type (arithmetic, finance, health, conversion, etc.).\n- **Dynamic Forms**: `calculatorFormsNew.ts` generates dynamic form fields based on configurations, providing sensible fallbacks and smart type detection.\n- **Unit Conversions**: Defaults to imperial units for all conversions.\n\n### AI-Powered Custom Calculator Builder\n\n- **Overview**: Allows users to describe a calculator in plain English, and AI generates a functional calculator.\n- **AI Generation**: Uses Replit AI Integrations (OpenAI-compatible) to generate calculator name, description, input fields, and `mathjs` formula.\n- **Secure Formula Execution**: Formulas are executed server-side with a multi-layered security architecture:\n    1.  **Character Whitelist**: Allows safe math operators, comparisons (`<`, `>`, `=`), ternary operators (`?`, `:`), and logical operators (`!`, `&`, `|`).\n    2.  **Pattern Blocklist**: Blocks dangerous patterns (e.g., `[]`, `.` for property access, keywords like `eval`, statement separators).\n    3.  **Input Validation**: Converts all user inputs to numbers and rejects invalid values.\n    4.  **Safe Evaluation**: Uses `mathjs.evaluate()` which is AST-based and prevents arbitrary code execution.\n    5.  **Result Validation**: Ensures results are valid numbers.\n\n### Admin Dashboard\n\n- **Purpose**: Provides centralized management for site configuration (advertising, administrators, contact settings).\n- **Access Control**: Protected by `isAuthenticated` and `isAdmin` middleware.\n- **Features**:\n    -   **Ad Codes Management**: Add, activate, and manage ad snippets.\n    -   **Administrators Management**: Add/remove admin users.\n    -   **Settings Management**: Configure site settings like contact email.\n\n### Ad Placement System\n\n- **Purpose**: Display active ad codes across all calculator pages with strategic placement.\n- **Component**: Reusable AdSlot component that fetches and renders ads by location.\n- **Locations**: header (top of pages), sidebar (right side on calculator pages), inline (between content), footer (bottom of pages).\n- **Page Coverage**: Landing page, individual calculator pages, and AI-generated calculator pages all include ad placements.\n- **Ad Rotation**: Randomly selects one ad when multiple active ads exist for a location.\n- **Global Toggle**: Admins can enable/disable all ads globally via Settings tab to adjust spacing. Uses public `/api/settings/ads_enabled` endpoint accessible to all users.\n- **Integration**: Managed through admin dashboard; changes take effect immediately on page reload.\n\n### Community Built Calculators\n\n- **Purpose**: Showcase user-created AI calculators on the homepage to inspire and engage visitors.\n- **Creator Attribution**: Users can optionally add their name when creating calculators, which is displayed with special purple styling on featured calculators.\n- **Featured System**: Admins can mark calculators as \"featured\" to display them in the Community Built section on the landing page.\n- **Admin Management**: New \"Community Calculators\" tab in admin dashboard lists all AI-generated calculators with toggle switches to feature/unfeature them.\n- **Display**: Featured calculators appear in a dedicated section on the homepage with special styling (gradient backgrounds, AI-Generated badges, creator names).\n- **Schema**: `calculators` table includes `featured` column (0 or 1), `creator_name` (nullable varchar), and `fields` (jsonb) to store field definitions.\n- **API**: \n  - Public endpoint `/api/calculators/featured/list` returns up to 6 featured calculators for homepage display\n  - Public endpoint `/api/calculators/slug/:slug` fetches individual calculators by slug for viewing\n- **Routes**: \n  - `/custom-calculator` - AI calculator builder\n  - `/custom-calculator/:slug` - View individual saved calculator with inputs and calculation\n  - `/community-calculators` - Browse all featured community calculators\n- **Landing Page Display**: Compact teaser showing 3 featured calculators with a \"View All\" link to the dedicated community page.\n\n### Email Service\n\n- **Resend Integration**: Transactional email service for password reset functionality via Replit connector.\n- **Configuration**: Requires domain verification at https://resend.com/domains to send emails to any recipient.\n- **Test Mode**: Without domain verification, can only send to the email address associated with the Resend account.\n- **Implementation**: Server-side module (`server/resend.ts`) handles email sending with HTML templates.\n\n### SEO & Sitemap\n\n- **Dynamic XML Sitemap**: Automatically generated sitemap at `/sitemap.xml` includes all pages for search engine indexing.\n- **Coverage**: Homepage, all 200+ calculator pages, custom calculator builder, community calculators, and user-created AI calculators.\n- **Updates**: Sitemap updates automatically as new custom calculators are added to the database.\n- **Priorities**: Homepage (1.0), main pages (0.8), calculators (0.7), custom calculators (0.6).\n\n## External Dependencies\n\n1.  **Neon PostgreSQL**: Serverless PostgreSQL database solution.\n2.  **Replit Authentication Service**: OIDC provider for user identity.\n3.  **Resend**: Transactional email service for password reset emails.\n4.  **Google Fonts**: Inter and Roboto Mono font families for typography.\n5.  **Vite**: Build tool and development server.\n6.  **esbuild**: Backend bundling for production.\n7.  **tsx**: TypeScript execution for development.\n8.  **Tailwind CSS**: Utility-first CSS framework.\n9.  **Drizzle Kit**: Database migration tool.\n10. **Radix UI**: Unstyled component primitives (via shadcn/ui).\n11. **react-hook-form**: Form validation.\n12. **date-fns**: Date manipulation utility.\n13. **lucide-react**: Icon library.\n14. **mathjs**: For safe mathematical expression evaluation in custom calculators.","size_bytes":8901},"client/src/components/AdSlot.tsx":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport { useEffect, useRef } from \"react\";\nimport type { AdCode } from \"@shared/schema\";\n\ninterface AdSlotProps {\n  location: string;\n  className?: string;\n}\n\nexport default function AdSlot({ location, className = \"\" }: AdSlotProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n  \n  const { data: adsSetting } = useQuery<{ key: string; value: string | undefined }>({\n    queryKey: ['/api/settings/ads_enabled'],\n  });\n\n  const { data: ads, isLoading } = useQuery<AdCode[]>({\n    queryKey: ['/api/ad-codes', location],\n  });\n\n  const adsEnabled = adsSetting?.value === '1';\n\n  useEffect(() => {\n    if (!containerRef.current || !ads || ads.length === 0) {\n      return;\n    }\n\n    const randomAd = ads[Math.floor(Math.random() * ads.length)];\n    const container = containerRef.current;\n    \n    container.innerHTML = randomAd.code;\n\n    const scripts = container.querySelectorAll('script');\n    scripts.forEach((oldScript) => {\n      const newScript = document.createElement('script');\n      \n      Array.from(oldScript.attributes).forEach(attr => {\n        newScript.setAttribute(attr.name, attr.value);\n      });\n      \n      if (oldScript.src) {\n        newScript.src = oldScript.src;\n      } else {\n        newScript.textContent = oldScript.textContent;\n      }\n      \n      oldScript.parentNode?.replaceChild(newScript, oldScript);\n    });\n  }, [ads]);\n\n  if (!adsEnabled) {\n    return null;\n  }\n\n  if (isLoading) {\n    return null;\n  }\n\n  if (!ads || ads.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className={`ad-slot ${className}`} data-testid={`ad-${location}`}>\n      <div ref={containerRef}></div>\n    </div>\n  );\n}\n","size_bytes":1701},"client/src/pages/community-calculators.tsx":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport Header from \"@/components/Header\";\nimport AdSlot from \"@/components/AdSlot\";\nimport SEO from \"@/components/SEO\";\nimport { Link, useLocation } from \"wouter\";\nimport { ArrowLeft, Sparkles, Users, User } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport Badge from \"@/components/Badge\";\nimport type { Calculator as CalculatorType } from \"@shared/schema\";\n\nexport default function CommunityCalculators() {\n  const [, navigate] = useLocation();\n  const { data: featuredCalculators, isLoading } = useQuery<CalculatorType[]>({\n    queryKey: ['/api/calculators/featured/list'],\n  });\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <SEO\n        title=\"Community Built Calculators - AI-Generated Calculators | CalculateThis.org\"\n        description=\"Explore amazing calculators created by our community using AI. Each calculator was made in seconds with our AI Calculator Builder.\"\n        keywords=\"community calculators, AI calculators, user-generated calculators, custom calculators\"\n        ogUrl=\"https://calculatethis.org/community-calculators\"\n      />\n      <Header />\n\n      <main className=\"max-w-7xl mx-auto px-4 py-8\">\n        <Button\n          variant=\"ghost\"\n          onClick={() => navigate('/')}\n          className=\"mb-6\"\n          data-testid=\"button-back-home\"\n        >\n          <ArrowLeft className=\"mr-2 h-4 w-4\" />\n          Back to Home\n        </Button>\n\n        <AdSlot location=\"header\" className=\"mb-6\" />\n\n        <div className=\"text-center mb-12\">\n          <div className=\"flex items-center justify-center gap-3 mb-4\">\n            <Users className=\"h-10 w-10 text-blue-600\" />\n            <h1 className=\"text-4xl font-bold text-gray-900\">Community Built Calculators</h1>\n          </div>\n          <p className=\"text-xl text-gray-600 max-w-3xl mx-auto mb-6\">\n            Explore amazing calculators created by our community using AI. Each one was made in seconds with our AI Calculator Builder!\n          </p>\n          <Link href=\"/custom-calculator\">\n            <Button size=\"lg\" className=\"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600\" data-testid=\"button-create-calculator\">\n              <Sparkles className=\"mr-2 h-5 w-5\" />\n              Create Your Own Calculator\n            </Button>\n          </Link>\n        </div>\n\n        {isLoading ? (\n          <div className=\"text-center py-12\">\n            <p className=\"text-gray-600\">Loading calculators...</p>\n          </div>\n        ) : !featuredCalculators || featuredCalculators.length === 0 ? (\n          <Card>\n            <CardContent className=\"pt-6\">\n              <div className=\"text-center py-12\">\n                <Users className=\"h-16 w-16 text-gray-400 mx-auto mb-4\" />\n                <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">No Community Calculators Yet</h2>\n                <p className=\"text-gray-600 mb-6\">Be the first to create a calculator using our AI Builder!</p>\n                <Link href=\"/custom-calculator\">\n                  <Button size=\"lg\" data-testid=\"button-create-first\">\n                    <Sparkles className=\"mr-2 h-5 w-5\" />\n                    Create Calculator\n                  </Button>\n                </Link>\n              </div>\n            </CardContent>\n          </Card>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {featuredCalculators.map((calculator) => (\n              <Link\n                key={calculator.id}\n                href={`/custom-calculator/${calculator.slug}`}\n                data-testid={`link-community-calculator-${calculator.slug}`}\n              >\n                <Card className=\"h-full hover:shadow-xl transition-all hover:scale-[1.02] cursor-pointer bg-white border-2 border-gray-200\">\n                  <CardHeader>\n                    <div className=\"flex items-center gap-2 mb-3\">\n                      <Sparkles className=\"h-5 w-5 text-purple-600\" />\n                      <Badge variant=\"new\">AI-Generated</Badge>\n                    </div>\n                    <CardTitle className=\"text-xl text-gray-900 mb-2\">{calculator.name}</CardTitle>\n                    <p className=\"text-gray-700 text-sm leading-relaxed line-clamp-3\">\n                      {calculator.description}\n                    </p>\n                  </CardHeader>\n                  <CardContent>\n                    {calculator.creatorName && (\n                      <div className=\"flex items-center gap-2 mb-3 text-sm text-gray-700\">\n                        <User className=\"h-4 w-4\" />\n                        <span>Created by <span className=\"font-semibold text-purple-600\">{calculator.creatorName}</span></span>\n                      </div>\n                    )}\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"bg-blue-100 text-blue-800 text-xs px-3 py-1 rounded-full font-medium\">\n                        {calculator.category}\n                      </span>\n                    </div>\n                  </CardContent>\n                </Card>\n              </Link>\n            ))}\n          </div>\n        )}\n\n        <AdSlot location=\"footer\" className=\"mt-12\" />\n      </main>\n    </div>\n  );\n}\n","size_bytes":5399},"client/src/pages/login.tsx":{"content":"import { useState } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { Link } from \"wouter\";\nimport { Eye, EyeOff } from \"lucide-react\";\nimport SEO from \"@/components/SEO\";\n\nexport default function LoginPage() {\n  const [, setLocation] = useLocation();\n  const { toast } = useToast();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [showPassword, setShowPassword] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!email || !password) {\n      toast({\n        title: \"Error\",\n        description: \"Please enter both email and password\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      await apiRequest('POST', '/api/login', { email, password });\n      \n      // Invalidate user query to refresh auth state\n      queryClient.invalidateQueries({ queryKey: ['/api/auth/user'] });\n      \n      toast({\n        title: \"Success\",\n        description: \"Logged in successfully\",\n      });\n      \n      setLocation(\"/\");\n    } catch (error: any) {\n      toast({\n        title: \"Login failed\",\n        description: error.message || \"Invalid email or password\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center px-4 py-12\">\n      <SEO\n        title=\"Sign In - CalculateThis.org\"\n        description=\"Sign in to your CalculateThis.org account to access your calculation history and saved calculators.\"\n        ogUrl=\"https://calculatethis.org/login\"\n      />\n      <Card className=\"w-full max-w-md\">\n        <CardHeader>\n          <CardTitle className=\"text-2xl font-bold\">Sign In</CardTitle>\n          <CardDescription>Enter your email and password to access your account</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"email\">Email</Label>\n              <Input\n                id=\"email\"\n                type=\"email\"\n                data-testid=\"input-login-email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                placeholder=\"you@example.com\"\n                required\n              />\n            </div>\n            \n            <div className=\"space-y-2\">\n              <div className=\"flex items-center justify-between\">\n                <Label htmlFor=\"password\">Password</Label>\n                <Link \n                  href=\"/forgot-password\" \n                  className=\"text-sm text-orange-600 hover:text-orange-700 dark:text-orange-400 dark:hover:text-orange-300\"\n                  data-testid=\"link-forgot-password\"\n                >\n                  Forgot password?\n                </Link>\n              </div>\n              <div className=\"relative\">\n                <Input\n                  id=\"password\"\n                  type={showPassword ? \"text\" : \"password\"}\n                  data-testid=\"input-login-password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  placeholder=\"Enter your password\"\n                  required\n                  className=\"pr-10\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\"\n                  data-testid=\"button-toggle-password-visibility\"\n                  aria-label={showPassword ? \"Hide password\" : \"Show password\"}\n                >\n                  {showPassword ? <EyeOff className=\"h-5 w-5\" /> : <Eye className=\"h-5 w-5\" />}\n                </button>\n              </div>\n            </div>\n\n            <Button \n              type=\"submit\" \n              className=\"w-full\" \n              data-testid=\"button-login-submit\"\n              disabled={isLoading}\n            >\n              {isLoading ? \"Signing in...\" : \"Sign In\"}\n            </Button>\n          </form>\n\n          <div className=\"mt-6 text-center text-sm text-gray-600\">\n            Don't have an account?{\" \"}\n            <Link href=\"/register\" className=\"text-blue-600 hover:underline\" data-testid=\"link-register\">\n              Sign up\n            </Link>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":5009},"server/emailAuth.ts":{"content":"import passport from \"passport\";\nimport { Strategy as LocalStrategy } from \"passport-local\";\nimport session from \"express-session\";\nimport type { Express } from \"express\";\nimport connectPg from \"connect-pg-simple\";\nimport bcrypt from \"bcrypt\";\nimport { storage } from \"./storage\";\nimport type { User } from \"@shared/schema\";\n\nexport function getSession() {\n  const sessionTtl = 7 * 24 * 60 * 60 * 1000; // 1 week\n  const pgStore = connectPg(session);\n  const sessionStore = new pgStore({\n    conString: process.env.DATABASE_URL,\n    createTableIfMissing: false,\n    ttl: sessionTtl,\n    tableName: \"sessions\",\n  });\n  return session({\n    secret: process.env.SESSION_SECRET!,\n    store: sessionStore,\n    resave: false,\n    saveUninitialized: false,\n    cookie: {\n      httpOnly: true,\n      secure: process.env.NODE_ENV === 'production',\n      maxAge: sessionTtl,\n    },\n  });\n}\n\nexport async function setupAuth(app: Express) {\n  app.set(\"trust proxy\", 1);\n  app.use(getSession());\n  app.use(passport.initialize());\n  app.use(passport.session());\n\n  // Configure passport-local strategy\n  passport.use(\n    new LocalStrategy(\n      {\n        usernameField: \"email\",\n        passwordField: \"password\",\n      },\n      async (email, password, done) => {\n        try {\n          const user = await storage.getUserByEmail(email);\n          if (!user) {\n            return done(null, false, { message: \"Incorrect email or password\" });\n          }\n\n          if (!user.password) {\n            return done(null, false, { message: \"Password not set for this account\" });\n          }\n\n          const isPasswordValid = await bcrypt.compare(password, user.password);\n          if (!isPasswordValid) {\n            return done(null, false, { message: \"Incorrect email or password\" });\n          }\n\n          return done(null, user);\n        } catch (error) {\n          return done(error);\n        }\n      }\n    )\n  );\n\n  passport.serializeUser((user: any, done) => {\n    done(null, user.id);\n  });\n\n  passport.deserializeUser(async (id: string, done) => {\n    try {\n      const user = await storage.getUserById(id);\n      if (!user) {\n        return done(null, false);\n      }\n      done(null, user);\n    } catch (error) {\n      done(null, false);\n    }\n  });\n\n  // Login route\n  app.post(\"/api/login\", (req, res, next) => {\n    passport.authenticate(\"local\", (err: any, user: User | false, info: any) => {\n      if (err) {\n        return res.status(500).json({ message: \"Internal server error\" });\n      }\n      if (!user) {\n        return res.status(401).json({ message: info?.message || \"Login failed\" });\n      }\n      req.logIn(user, (err) => {\n        if (err) {\n          return res.status(500).json({ message: \"Failed to establish session\" });\n        }\n        return res.json({ \n          user: {\n            id: user.id,\n            email: user.email,\n            firstName: user.firstName,\n            lastName: user.lastName,\n            profileImageUrl: user.profileImageUrl\n          }\n        });\n      });\n    })(req, res, next);\n  });\n\n  // Register route\n  app.post(\"/api/register\", async (req, res) => {\n    try {\n      const { email, password, firstName, lastName } = req.body;\n\n      if (!email || !password) {\n        return res.status(400).json({ message: \"Email and password are required\" });\n      }\n\n      // Check if user already exists\n      const existingUser = await storage.getUserByEmail(email);\n      if (existingUser) {\n        return res.status(400).json({ message: \"Email already registered\" });\n      }\n\n      // Hash password\n      const hashedPassword = await bcrypt.hash(password, 10);\n\n      // Create user\n      const user = await storage.createUser({\n        email,\n        password: hashedPassword,\n        firstName: firstName || null,\n        lastName: lastName || null,\n      });\n\n      // Log user in\n      req.logIn(user, (err) => {\n        if (err) {\n          return res.status(500).json({ message: \"Account created but login failed\" });\n        }\n        return res.json({\n          user: {\n            id: user.id,\n            email: user.email,\n            firstName: user.firstName,\n            lastName: user.lastName,\n            profileImageUrl: user.profileImageUrl\n          }\n        });\n      });\n    } catch (error) {\n      console.error(\"Registration error:\", error);\n      res.status(500).json({ message: \"Failed to create account\" });\n    }\n  });\n\n  // Logout route\n  app.post(\"/api/logout\", (req, res) => {\n    req.logout(() => {\n      res.json({ message: \"Logged out successfully\" });\n    });\n  });\n}\n","size_bytes":4559},"client/src/pages/register.tsx":{"content":"import { useState } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { Link } from \"wouter\";\nimport { Eye, EyeOff } from \"lucide-react\";\nimport SEO from \"@/components/SEO\";\n\nexport default function RegisterPage() {\n  const [, setLocation] = useLocation();\n  const { toast } = useToast();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!email || !password) {\n      toast({\n        title: \"Error\",\n        description: \"Email and password are required\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    if (password.length < 6) {\n      toast({\n        title: \"Error\",\n        description: \"Password must be at least 6 characters\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    if (password !== confirmPassword) {\n      toast({\n        title: \"Error\",\n        description: \"Passwords do not match\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      await apiRequest('POST', '/api/register', { \n        email, \n        password,\n        firstName: firstName || undefined,\n        lastName: lastName || undefined,\n      });\n      \n      // Invalidate user query to refresh auth state\n      queryClient.invalidateQueries({ queryKey: ['/api/auth/user'] });\n      \n      toast({\n        title: \"Success\",\n        description: \"Account created successfully\",\n      });\n      \n      setLocation(\"/\");\n    } catch (error: any) {\n      toast({\n        title: \"Registration failed\",\n        description: error.message || \"Could not create account\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center px-4 py-12\">\n      <SEO\n        title=\"Create Account - CalculateThis.org\"\n        description=\"Sign up for CalculateThis.org to save your calculation history and create custom calculators.\"\n        ogUrl=\"https://calculatethis.org/register\"\n      />\n      <Card className=\"w-full max-w-md\">\n        <CardHeader>\n          <CardTitle className=\"text-2xl font-bold\">Create Account</CardTitle>\n          <CardDescription>Sign up to save your calculation history</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"firstName\">First Name</Label>\n                <Input\n                  id=\"firstName\"\n                  type=\"text\"\n                  data-testid=\"input-register-firstname\"\n                  value={firstName}\n                  onChange={(e) => setFirstName(e.target.value)}\n                  placeholder=\"John\"\n                />\n              </div>\n              \n              <div className=\"space-y-2\">\n                <Label htmlFor=\"lastName\">Last Name</Label>\n                <Input\n                  id=\"lastName\"\n                  type=\"text\"\n                  data-testid=\"input-register-lastname\"\n                  value={lastName}\n                  onChange={(e) => setLastName(e.target.value)}\n                  placeholder=\"Doe\"\n                />\n              </div>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"email\">Email</Label>\n              <Input\n                id=\"email\"\n                type=\"email\"\n                data-testid=\"input-register-email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                placeholder=\"you@example.com\"\n                required\n              />\n            </div>\n            \n            <div className=\"space-y-2\">\n              <Label htmlFor=\"password\">Password</Label>\n              <div className=\"relative\">\n                <Input\n                  id=\"password\"\n                  type={showPassword ? \"text\" : \"password\"}\n                  data-testid=\"input-register-password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  placeholder=\"At least 6 characters\"\n                  required\n                  className=\"pr-10\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\"\n                  data-testid=\"button-toggle-password-visibility\"\n                  aria-label={showPassword ? \"Hide password\" : \"Show password\"}\n                >\n                  {showPassword ? <EyeOff className=\"h-5 w-5\" /> : <Eye className=\"h-5 w-5\" />}\n                </button>\n              </div>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"confirmPassword\">Confirm Password</Label>\n              <div className=\"relative\">\n                <Input\n                  id=\"confirmPassword\"\n                  type={showConfirmPassword ? \"text\" : \"password\"}\n                  data-testid=\"input-register-confirm-password\"\n                  value={confirmPassword}\n                  onChange={(e) => setConfirmPassword(e.target.value)}\n                  placeholder=\"Re-enter password\"\n                  required\n                  className=\"pr-10\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowConfirmPassword(!showConfirmPassword)}\n                  className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\"\n                  data-testid=\"button-toggle-confirm-password-visibility\"\n                  aria-label={showConfirmPassword ? \"Hide password\" : \"Show password\"}\n                >\n                  {showConfirmPassword ? <EyeOff className=\"h-5 w-5\" /> : <Eye className=\"h-5 w-5\" />}\n                </button>\n              </div>\n            </div>\n\n            <Button \n              type=\"submit\" \n              className=\"w-full\" \n              data-testid=\"button-register-submit\"\n              disabled={isLoading}\n            >\n              {isLoading ? \"Creating account...\" : \"Create Account\"}\n            </Button>\n          </form>\n\n          <div className=\"mt-6 text-center text-sm text-gray-600\">\n            Already have an account?{\" \"}\n            <Link href=\"/login\" className=\"text-blue-600 hover:underline\" data-testid=\"link-login\">\n              Sign in\n            </Link>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":7513},"client/src/pages/reset-password.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport { Link, useLocation } from \"wouter\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { CheckCircle, AlertCircle, Eye, EyeOff } from \"lucide-react\";\nimport SEO from \"@/components/SEO\";\n\nconst resetPasswordSchema = z.object({\n  newPassword: z.string().min(8, \"Password must be at least 8 characters\"),\n  confirmPassword: z.string(),\n}).refine((data) => data.newPassword === data.confirmPassword, {\n  message: \"Passwords don't match\",\n  path: [\"confirmPassword\"],\n});\n\ntype ResetPasswordFormData = z.infer<typeof resetPasswordSchema>;\n\nexport default function ResetPassword() {\n  const [, setLocation] = useLocation();\n  const [token, setToken] = useState<string>(\"\");\n  const [resetSuccess, setResetSuccess] = useState(false);\n  const [showNewPassword, setShowNewPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n\n  useEffect(() => {\n    // Get token from URL query parameter\n    const params = new URLSearchParams(window.location.search);\n    const tokenParam = params.get(\"token\");\n    if (tokenParam) {\n      setToken(tokenParam);\n    }\n  }, []);\n\n  const form = useForm<ResetPasswordFormData>({\n    resolver: zodResolver(resetPasswordSchema),\n    defaultValues: {\n      newPassword: \"\",\n      confirmPassword: \"\",\n    },\n  });\n\n  const resetPasswordMutation = useMutation({\n    mutationFn: async (data: ResetPasswordFormData) => {\n      const response = await apiRequest(\"POST\", \"/api/auth/reset-password\", {\n        token,\n        newPassword: data.newPassword,\n      });\n      return response;\n    },\n    onSuccess: () => {\n      setResetSuccess(true);\n      setTimeout(() => {\n        setLocation(\"/login\");\n      }, 3000);\n    },\n  });\n\n  const onSubmit = (data: ResetPasswordFormData) => {\n    resetPasswordMutation.mutate(data);\n  };\n\n  if (!token) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 px-4\">\n        <SEO\n          title=\"Invalid Reset Link - CalculateThis.org\"\n          description=\"This password reset link is invalid or has expired. Request a new password reset link.\"\n          ogUrl=\"https://calculatethis.org/reset-password\"\n        />\n        <Card className=\"w-full max-w-md\">\n          <CardHeader>\n            <CardTitle className=\"text-2xl font-bold text-center text-red-600 dark:text-red-400\">\n              Invalid Reset Link\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"text-center space-y-4\">\n            <Alert variant=\"destructive\">\n              <AlertCircle className=\"h-4 w-4\" />\n              <AlertDescription>\n                This password reset link is invalid or has expired.\n              </AlertDescription>\n            </Alert>\n            <Link\n              href=\"/forgot-password\"\n              className=\"inline-block text-orange-600 hover:text-orange-700 dark:text-orange-400 dark:hover:text-orange-300\"\n              data-testid=\"link-request-new-link\"\n            >\n              Request a new reset link\n            </Link>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 px-4\">\n      <SEO\n        title=\"Reset Your Password - CalculateThis.org\"\n        description=\"Create a new password for your CalculateThis.org account.\"\n        ogUrl=\"https://calculatethis.org/reset-password\"\n      />\n      <Card className=\"w-full max-w-md\">\n        <CardHeader className=\"space-y-1\">\n          <CardTitle className=\"text-2xl font-bold text-center\">\n            Reset Your Password\n          </CardTitle>\n          <CardDescription className=\"text-center\">\n            Enter your new password below\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          {resetSuccess ? (\n            <Alert className=\"mb-4 bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800\">\n              <CheckCircle className=\"h-4 w-4 text-green-600 dark:text-green-400\" />\n              <AlertDescription className=\"text-green-800 dark:text-green-200\">\n                Your password has been reset successfully! Redirecting to login...\n              </AlertDescription>\n            </Alert>\n          ) : (\n            <Form {...form}>\n              <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n                <FormField\n                  control={form.control}\n                  name=\"newPassword\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>New Password</FormLabel>\n                      <FormControl>\n                        <div className=\"relative\">\n                          <Input\n                            type={showNewPassword ? \"text\" : \"password\"}\n                            placeholder=\"Enter new password\"\n                            {...field}\n                            data-testid=\"input-new-password\"\n                            className=\"pr-10\"\n                          />\n                          <button\n                            type=\"button\"\n                            onClick={() => setShowNewPassword(!showNewPassword)}\n                            className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\"\n                            data-testid=\"button-toggle-new-password-visibility\"\n                            aria-label={showNewPassword ? \"Hide password\" : \"Show password\"}\n                          >\n                            {showNewPassword ? <EyeOff className=\"h-5 w-5\" /> : <Eye className=\"h-5 w-5\" />}\n                          </button>\n                        </div>\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <FormField\n                  control={form.control}\n                  name=\"confirmPassword\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Confirm Password</FormLabel>\n                      <FormControl>\n                        <div className=\"relative\">\n                          <Input\n                            type={showConfirmPassword ? \"text\" : \"password\"}\n                            placeholder=\"Confirm new password\"\n                            {...field}\n                            data-testid=\"input-confirm-password\"\n                            className=\"pr-10\"\n                          />\n                          <button\n                            type=\"button\"\n                            onClick={() => setShowConfirmPassword(!showConfirmPassword)}\n                            className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\"\n                            data-testid=\"button-toggle-confirm-password-visibility\"\n                            aria-label={showConfirmPassword ? \"Hide password\" : \"Show password\"}\n                          >\n                            {showConfirmPassword ? <EyeOff className=\"h-5 w-5\" /> : <Eye className=\"h-5 w-5\" />}\n                          </button>\n                        </div>\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                {resetPasswordMutation.isError && (\n                  <Alert variant=\"destructive\">\n                    <AlertDescription>\n                      {resetPasswordMutation.error instanceof Error\n                        ? resetPasswordMutation.error.message\n                        : \"Failed to reset password\"}\n                    </AlertDescription>\n                  </Alert>\n                )}\n\n                <Button\n                  type=\"submit\"\n                  className=\"w-full bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-700 hover:to-orange-600\"\n                  disabled={resetPasswordMutation.isPending}\n                  data-testid=\"button-reset-password\"\n                >\n                  {resetPasswordMutation.isPending\n                    ? \"Resetting...\"\n                    : \"Reset Password\"}\n                </Button>\n              </form>\n            </Form>\n          )}\n\n          <div className=\"mt-4 text-center text-sm\">\n            <Link\n              href=\"/login\"\n              className=\"text-orange-600 hover:text-orange-700 dark:text-orange-400 dark:hover:text-orange-300\"\n              data-testid=\"link-back-to-login\"\n            >\n              Back to Login\n            </Link>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":9501},"client/src/pages/settings.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { User } from \"@shared/schema\";\nimport SEO from \"@/components/SEO\";\n\nexport default function Settings() {\n  const { toast } = useToast();\n  const [currentPassword, setCurrentPassword] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n\n  const { data: user } = useQuery<User>({\n    queryKey: ['/api/auth/user'],\n  });\n\n  const changePasswordMutation = useMutation({\n    mutationFn: (data: { currentPassword: string; newPassword: string }) =>\n      apiRequest('POST', '/api/auth/change-password', data),\n    onSuccess: () => {\n      toast({\n        title: \"Success\",\n        description: \"Password changed successfully\",\n      });\n      setCurrentPassword(\"\");\n      setNewPassword(\"\");\n      setConfirmPassword(\"\");\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"Error\",\n        description: error.message || \"Failed to change password\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (newPassword !== confirmPassword) {\n      toast({\n        title: \"Error\",\n        description: \"New passwords do not match\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    if (newPassword.length < 8) {\n      toast({\n        title: \"Error\",\n        description: \"Password must be at least 8 characters long\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    changePasswordMutation.mutate({ currentPassword, newPassword });\n  };\n\n  return (\n    <div className=\"container mx-auto py-8 px-4\">\n      <SEO\n        title=\"Account Settings - CalculateThis.org\"\n        description=\"Manage your CalculateThis.org account settings and change your password.\"\n        ogUrl=\"https://calculatethis.org/settings\"\n      />\n      <div className=\"max-w-2xl mx-auto\">\n        <h1 className=\"text-3xl font-bold mb-6 text-brown-900 dark:text-brown-100\">Account Settings</h1>\n\n        <Card className=\"mb-6\">\n          <CardHeader>\n            <CardTitle>Profile Information</CardTitle>\n            <CardDescription>Your account details</CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div>\n              <Label className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">Email</Label>\n              <p className=\"text-sm text-gray-900 dark:text-gray-100\" data-testid=\"text-user-email\">{user?.email}</p>\n            </div>\n            {user?.firstName && (\n              <div>\n                <Label className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">Name</Label>\n                <p className=\"text-sm text-gray-900 dark:text-gray-100\" data-testid=\"text-user-name\">\n                  {user.firstName} {user.lastName}\n                </p>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>Change Password</CardTitle>\n            <CardDescription>Update your password to keep your account secure</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"currentPassword\">Current Password</Label>\n                <Input\n                  id=\"currentPassword\"\n                  type=\"password\"\n                  value={currentPassword}\n                  onChange={(e) => setCurrentPassword(e.target.value)}\n                  required\n                  data-testid=\"input-current-password\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"newPassword\">New Password</Label>\n                <Input\n                  id=\"newPassword\"\n                  type=\"password\"\n                  value={newPassword}\n                  onChange={(e) => setNewPassword(e.target.value)}\n                  required\n                  minLength={8}\n                  data-testid=\"input-new-password\"\n                />\n                <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                  Must be at least 8 characters long\n                </p>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"confirmPassword\">Confirm New Password</Label>\n                <Input\n                  id=\"confirmPassword\"\n                  type=\"password\"\n                  value={confirmPassword}\n                  onChange={(e) => setConfirmPassword(e.target.value)}\n                  required\n                  minLength={8}\n                  data-testid=\"input-confirm-password\"\n                />\n              </div>\n\n              <Button\n                type=\"submit\"\n                disabled={changePasswordMutation.isPending}\n                className=\"w-full\"\n                data-testid=\"button-change-password\"\n              >\n                {changePasswordMutation.isPending ? \"Changing Password...\" : \"Change Password\"}\n              </Button>\n            </form>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}\n","size_bytes":5594},"DEPLOYMENT_GUIDE.md":{"content":"# CalculateThis.org - Replit Deployment Guide\n\n## Pre-Deployment Checklist\n\nBefore you deploy, make sure these are set up:\n\n### ✅ 1. Database (Already Done)\n- Your PostgreSQL database is already configured\n- Environment variables (`DATABASE_URL`, etc.) are already set\n- All migrations have been applied\n\n### ✅ 2. Session Secret\n- You already have `SESSION_SECRET` configured\n- This keeps user sessions secure\n\n### ✅ 3. Test Your App Locally\n- Make sure the app runs without errors in development\n- Test login/registration works\n- Test a few calculators\n- Test the admin dashboard\n\n---\n\n## Step-by-Step Deployment Instructions\n\n### Step 1: Access the Publish Button\n\n1. Look at the **top of your Replit workspace**\n2. Click the **\"Deploy\"** or **\"Publish\"** button in the header\n\n### Step 2: Choose Deployment Type\n\n1. Select **\"Autoscale\"** deployment option\n2. This is the most cost-effective for your calculator site\n\n### Step 3: Configure Deployment Settings\n\n**Machine Configuration** (defaults are fine):\n- 1 vCPU\n- 2 GiB RAM\n- Maximum 3 machines\n\n**Run Command:**\nYour app should use: `npm run dev` (for development) or `npm start` (for production)\n\n**Important:** Make sure your app binds to `0.0.0.0:5000` (it already does!)\n\n### Step 4: Verify Environment Variables\n\nYour deployment will automatically include:\n- ✅ `DATABASE_URL` - PostgreSQL connection\n- ✅ `PGHOST`, `PGUSER`, `PGPASSWORD`, `PGDATABASE`, `PGPORT`\n- ✅ `SESSION_SECRET` - Session encryption key\n\n**If you need to add more later:**\n- Go to Secrets tool in workspace\n- Add new secret\n- Redeploy for changes to take effect\n\n### Step 5: Launch Your Deployment\n\n1. Click **\"Publish\"** button\n2. Wait 2-3 minutes for deployment\n3. Your app will be live at: `https://your-app-name.replit.app`\n\n---\n\n## Post-Deployment Verification\n\n### 1. Test Your Live Site\n\nVisit your deployment URL and test:\n- [ ] Homepage loads correctly\n- [ ] Registration works (create a test account)\n- [ ] Login works\n- [ ] Try a calculator (e.g., BMI Calculator)\n- [ ] Admin dashboard loads (login as nethania@gmail.com)\n- [ ] Calculator history saves for logged-in users\n\n### 2. Check the Console\n\nIn Replit workspace:\n1. Go to **\"Console\"** tool\n2. Look for any errors in your deployed app\n3. Common issues:\n   - Port binding errors (should be 0.0.0.0, not localhost)\n   - Database connection errors\n   - Missing environment variables\n\n### 3. Monitor Performance\n\nIn the deployment dashboard:\n- Check response times\n- Monitor resource usage\n- Review costs (should be minimal with low traffic)\n\n---\n\n## Custom Domain Setup (Optional)\n\nIf you want to use **calculatethis.org** instead of *.replit.app:\n\n### Option A: Point Your Hostinger Domain to Replit\n\n1. **In Replit Deployment Dashboard:**\n   - Click on your deployment\n   - Go to \"Domains\" section\n   - Click \"Add custom domain\"\n   - Enter: `calculatethis.org`\n   - Replit will show you DNS records to add\n\n2. **In Hostinger DNS Settings:**\n   - Login to Hostinger\n   - Go to your domain management\n   - Add the DNS records Replit provided:\n     - Type: `CNAME`\n     - Name: `@` or `www`\n     - Value: (provided by Replit)\n   - Save changes\n\n3. **Wait for DNS Propagation:**\n   - Can take 1-48 hours\n   - Your site will be accessible at calculatethis.org\n\n### Option B: Keep Using Replit Subdomain\n\n- Your app is live at: `your-app-name.replit.app`\n- Free, works immediately\n- No DNS configuration needed\n\n---\n\n## Cost Breakdown (Autoscale Deployment)\n\n### Monthly Costs:\n- **Base fee:** $1.00/month\n- **Compute units:** $3.20 per million units\n- **Requests:** $1.20 per million requests\n\n### Example for Low Traffic Site:\n- 10,000 visits/month\n- Average 2 calculators per visit\n- **Estimated cost:** ~$2-3/month total\n\n### If You Have Replit Core ($20/mo):\n- You get $25 in monthly credits\n- Your deployment is likely **covered by credits**\n- Effectively **FREE** or near-free!\n\n---\n\n## Troubleshooting\n\n### App Won't Start\n**Problem:** Deployment fails or app crashes\n**Solution:**\n1. Check Console for error messages\n2. Verify `PORT` environment variable is used correctly\n3. Make sure app binds to `0.0.0.0`, not `localhost`\n\n### Database Connection Failed\n**Problem:** Can't connect to PostgreSQL\n**Solution:**\n1. Verify `DATABASE_URL` is in deployment secrets\n2. Check database is accessible from deployment\n3. Test connection in development first\n\n### Sessions Not Persisting\n**Problem:** Users get logged out frequently\n**Solution:**\n1. Verify `SESSION_SECRET` is set\n2. Check session store is configured correctly\n3. Make sure cookies work over HTTPS\n\n### Admin Dashboard Not Loading\n**Problem:** 403 or 404 errors\n**Solution:**\n1. Verify your email (nethania@gmail.com) is in admin_users table\n2. Check authentication middleware is working\n3. Clear browser cookies and try again\n\n---\n\n## Updating Your Deployed App\n\nWhen you make changes to your code:\n\n1. **Test locally first** in development workspace\n2. **Click \"Redeploy\"** in the deployment dashboard\n3. **Wait 2-3 minutes** for new version to go live\n4. **Test the live site** to verify changes\n\n**Note:** Deployments automatically pull from your latest code!\n\n---\n\n## Production Best Practices\n\n### Security\n- ✅ Never log sensitive data in production\n- ✅ Use strong `SESSION_SECRET` (you already have this)\n- ✅ Keep dependencies updated\n- ✅ Monitor for unusual activity\n\n### Performance\n- Monitor response times in deployment dashboard\n- Optimize slow calculators if needed\n- Consider caching frequently used data\n- Use Autoscale to handle traffic spikes\n\n### Backups\n- Your PostgreSQL database should be backed up regularly\n- Replit provides automatic backups for databases\n- You can export data manually via admin dashboard\n\n---\n\n## Support Resources\n\n### Replit Documentation\n- Deployment docs: https://docs.replit.com/\n- Community forum: https://ask.replit.com/\n\n### Your App Details\n- **Admin Email:** nethania@gmail.com\n- **Temp Password:** TempPass2024! (change this after first login!)\n- **Database:** PostgreSQL (Neon-backed)\n- **Framework:** Node.js + Express + React\n\n---\n\n## Ready to Deploy?\n\n**Your app is production-ready!** Here's what to do:\n\n1. ✅ Test your app one more time locally\n2. ✅ Click the \"Deploy\" button at the top\n3. ✅ Choose \"Autoscale\" deployment\n4. ✅ Click \"Publish\"\n5. ✅ Wait 2-3 minutes\n6. ✅ Visit your live URL and test!\n\n**Estimated deployment cost:** ~$1-3/month (or FREE with Core plan credits!)\n\nGood luck with your launch! 🚀\n","size_bytes":6468},"client/src/pages/forgot-password.tsx":{"content":"import { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport { Link } from \"wouter\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { CheckCircle } from \"lucide-react\";\nimport SEO from \"@/components/SEO\";\n\nconst forgotPasswordSchema = z.object({\n  email: z.string().email(\"Please enter a valid email address\"),\n});\n\ntype ForgotPasswordFormData = z.infer<typeof forgotPasswordSchema>;\n\nexport default function ForgotPassword() {\n  const [resetLink, setResetLink] = useState<string | null>(null);\n\n  const form = useForm<ForgotPasswordFormData>({\n    resolver: zodResolver(forgotPasswordSchema),\n    defaultValues: {\n      email: \"\",\n    },\n  });\n\n  const forgotPasswordMutation = useMutation({\n    mutationFn: async (data: ForgotPasswordFormData) => {\n      const response = await apiRequest(\"POST\", \"/api/auth/forgot-password\", data);\n      const result = await response.json();\n      return result;\n    },\n    onSuccess: (data: any) => {\n      if (data.resetLink) {\n        setResetLink(data.resetLink);\n      }\n    },\n  });\n\n  const onSubmit = (data: ForgotPasswordFormData) => {\n    forgotPasswordMutation.mutate(data);\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 px-4\">\n      <SEO\n        title=\"Forgot Password - CalculateThis.org\"\n        description=\"Reset your CalculateThis.org password. Enter your email to receive a password reset link.\"\n        ogUrl=\"https://calculatethis.org/forgot-password\"\n      />\n      <Card className=\"w-full max-w-md\">\n        <CardHeader className=\"space-y-1\">\n          <CardTitle className=\"text-2xl font-bold text-center\">\n            Forgot Password\n          </CardTitle>\n          <CardDescription className=\"text-center\">\n            Enter your email address and we'll send you a link to reset your password\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          {forgotPasswordMutation.isSuccess && !resetLink ? (\n            <Alert className=\"mb-4 bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800\">\n              <CheckCircle className=\"h-4 w-4 text-green-600 dark:text-green-400\" />\n              <AlertDescription className=\"text-green-800 dark:text-green-200\">\n                If an account exists with this email, a password reset link has been sent.\n                Please check your inbox.\n              </AlertDescription>\n            </Alert>\n          ) : null}\n\n          {resetLink ? (\n            <div className=\"space-y-4\">\n              <Alert className=\"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800\">\n                <AlertDescription className=\"text-blue-800 dark:text-blue-200\">\n                  <strong className=\"block mb-2\">Development Mode:</strong>\n                  Click the link below to reset your password:\n                </AlertDescription>\n              </Alert>\n              <a\n                href={resetLink.split(window.location.host)[1]}\n                className=\"block w-full text-center bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition-colors\"\n                data-testid=\"link-reset-password\"\n              >\n                Reset Your Password\n              </a>\n              <p className=\"text-sm text-gray-600 dark:text-gray-400 text-center mt-4\">\n                In production, this link would be sent to your email.\n              </p>\n            </div>\n          ) : (\n            <Form {...form}>\n              <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n                <FormField\n                  control={form.control}\n                  name=\"email\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Email Address</FormLabel>\n                      <FormControl>\n                        <Input\n                          type=\"email\"\n                          placeholder=\"your.email@example.com\"\n                          {...field}\n                          data-testid=\"input-email\"\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                {forgotPasswordMutation.isError && (\n                  <Alert variant=\"destructive\">\n                    <AlertDescription>\n                      {forgotPasswordMutation.error instanceof Error\n                        ? forgotPasswordMutation.error.message\n                        : \"Failed to process password reset request\"}\n                    </AlertDescription>\n                  </Alert>\n                )}\n\n                <Button\n                  type=\"submit\"\n                  className=\"w-full bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-700 hover:to-orange-600\"\n                  disabled={forgotPasswordMutation.isPending}\n                  data-testid=\"button-send-reset-link\"\n                >\n                  {forgotPasswordMutation.isPending\n                    ? \"Sending...\"\n                    : \"Send Reset Link\"}\n                </Button>\n              </form>\n            </Form>\n          )}\n\n          <div className=\"mt-4 text-center text-sm\">\n            <Link\n              href=\"/login\"\n              className=\"text-orange-600 hover:text-orange-700 dark:text-orange-400 dark:hover:text-orange-300\"\n              data-testid=\"link-back-to-login\"\n            >\n              Back to Login\n            </Link>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":6172},"client/src/pages/admin-setup.tsx":{"content":"import { useState } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { Shield, CheckCircle } from \"lucide-react\";\n\nexport default function AdminSetup() {\n  const { user, isLoading: authLoading } = useAuth();\n  const [, setLocation] = useLocation();\n  const { toast } = useToast();\n  const [isLoading, setIsLoading] = useState(false);\n  const [success, setSuccess] = useState(false);\n\n  const handleMakeAdmin = async () => {\n    setIsLoading(true);\n    try {\n      const response = await apiRequest('POST', '/api/make-me-admin', {}) as unknown as { message: string };\n      \n      // Invalidate admin check query\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/check'] });\n      \n      setSuccess(true);\n      toast({\n        title: \"Success!\",\n        description: response.message,\n      });\n\n      // Redirect to admin dashboard after 2 seconds\n      setTimeout(() => {\n        setLocation(\"/admin\");\n      }, 2000);\n    } catch (error: any) {\n      toast({\n        title: \"Error\",\n        description: error.message || \"Failed to make you an admin\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  if (authLoading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center px-4 py-12\">\n        <div className=\"text-center\">Loading...</div>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center px-4 py-12\">\n        <Card className=\"w-full max-w-md\">\n          <CardHeader>\n            <CardTitle>Authentication Required</CardTitle>\n            <CardDescription>Please log in to continue</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <Button onClick={() => setLocation(\"/login\")} className=\"w-full\">\n              Go to Login\n            </Button>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center px-4 py-12\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader>\n          <div className=\"flex items-center gap-2\">\n            <Shield className=\"h-6 w-6 text-orange-600\" />\n            <CardTitle className=\"text-2xl font-bold\">Admin Setup</CardTitle>\n          </div>\n          <CardDescription>Make yourself an administrator</CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          {success ? (\n            <div className=\"flex flex-col items-center gap-4 py-8\">\n              <CheckCircle className=\"h-16 w-16 text-green-600\" />\n              <p className=\"text-lg font-semibold text-center\">\n                You're now an administrator!\n              </p>\n              <p className=\"text-sm text-gray-600 text-center\">\n                Redirecting to admin dashboard...\n              </p>\n            </div>\n          ) : (\n            <>\n              <p className=\"text-gray-700\">\n                Logged in as: <strong>{(user as any).email}</strong>\n              </p>\n              <p className=\"text-sm text-gray-600\">\n                Click the button below to grant yourself administrator privileges.\n              </p>\n              <Button\n                onClick={handleMakeAdmin}\n                disabled={isLoading}\n                className=\"w-full\"\n                data-testid=\"button-make-admin\"\n              >\n                {isLoading ? \"Processing...\" : \"Make Me Admin\"}\n              </Button>\n            </>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":3970},"design_guidelines.md":{"content":"# CalculateThis.org Design Guidelines\n\n## Design Approach\n\n**Design System Foundation**: Material Design + Modern SaaS patterns\n- **Rationale**: Utility-focused tool requiring clarity, accessibility, and efficiency\n- **Principles**: Clear hierarchy, generous spacing, consistent patterns, scannable information architecture\n\n## Typography System\n\n**Font Stack**:\n- Primary: Inter (Google Fonts) - weights 400, 500, 600, 700\n- Monospace: JetBrains Mono - for numerical inputs/outputs\n\n**Hierarchy**:\n- Hero Headlines: 3xl-5xl, weight 700, tight leading\n- Page Titles: 2xl-3xl, weight 600\n- Section Headers: xl-2xl, weight 600\n- Calculator Labels: base-lg, weight 500\n- Body Text: base, weight 400, relaxed leading\n- Input Fields: base, weight 400\n- Results/Output: lg-xl, weight 600, monospace\n\n## Layout System\n\n**Spacing Units**: Tailwind 2, 4, 6, 8, 12, 16, 20, 24 (consistent rhythm)\n\n**Container Strategy**:\n- Full-width sections: w-full with max-w-7xl inner containers\n- Content sections: max-w-6xl centered\n- Calculator interfaces: max-w-4xl for optimal usability\n- Dashboards: max-w-screen-2xl with sidebar layouts\n\n**Grid Patterns**:\n- Calculator Gallery: 3-column on desktop (lg:grid-cols-3), 2-column tablet (md:grid-cols-2), single mobile\n- Feature Cards: 3-column grid with equal heights\n- Dashboard Metrics: 4-column stat cards reducing to 2 on tablet\n- Admin Tables: Full-width responsive tables with horizontal scroll\n\n## Core Components\n\n**Navigation**:\n- Sticky header with site logo, mega-menu for calculator categories, search bar, auth CTA\n- Mega-menu: Opens on hover with categorized calculator grid (6-8 categories, 5-6 items each)\n- Mobile: Hamburger menu with accordion category navigation\n- Breadcrumbs: Implement on all calculator/dashboard pages for wayfinding\n\n**Calculator Interface Components**:\n- Input Groups: Label above, input field, helper text below, validation messaging\n- Numerical Inputs: Large touch targets (h-12), right-aligned monospace text, clear units\n- Action Buttons: Primary \"Calculate\" button (large, prominent), secondary \"Reset\" button\n- Results Display: Dedicated card with prominent output, step-by-step breakdown accordion, visual charts where applicable\n- Related Calculators: Horizontal scrolling carousel at bottom\n\n**Cards**:\n- Calculator Cards: Icon top-left, title, brief description, usage count badge, hover lift effect\n- Elevation: Base shadow, hover shadow-lg for interactive cards\n- Padding: p-6 for standard cards, p-8 for feature cards\n\n**Form Elements**:\n- Input Fields: h-12, rounded-lg borders, px-4 padding, focus ring treatment\n- Buttons: h-12 standard, h-10 compact, rounded-lg, medium weight text\n- Checkboxes/Radios: Large 20px touch targets, custom styled\n- Dropdowns: Native select with custom arrow, matching input styling\n\n**Authentication Forms**:\n- Centered card layout (max-w-md), generous internal padding (p-8)\n- OAuth buttons: Full-width with provider icons (Google, GitHub)\n- Divider: \"OR\" centered between OAuth and email forms\n- Link hierarchy: Primary CTA button, secondary text links below\n\n**Dashboard Layout**:\n- Left sidebar (w-64): Logo, navigation sections, collapse on mobile\n- Main content: Full-width metrics row, recent activity feed, favorites grid\n- Metrics Cards: Icon, label, large number, trend indicator\n- Activity Timeline: Left-aligned timestamps, calculator icons, action descriptions\n\n**Admin Interface**:\n- Two-column layout: Navigation sidebar (w-72) + content area\n- Data Tables: Sortable headers, row actions dropdown, pagination\n- Quick Actions Toolbar: Bulk operations, filters, search\n- Status Indicators: Dot badges for active/inactive states\n\n## Images\n\n**Hero Section** (Homepage):\n- Large hero image: Professional workspace with calculator, charts, documents - modern, bright, productive atmosphere\n- Placement: Full-width section, min-h-[500px], image as background with overlay gradient for text readability\n- Hero Content: Centered over image - headline, subheadline, search bar, category quick-links\n- Buttons on Image: Implement backdrop-blur-md background for buttons placed over hero image\n\n**Calculator Category Pages**:\n- Category hero: Relevant contextual images (finance calculators = charts/graphs, health = wellness imagery)\n- Smaller height: min-h-[300px]\n\n**Supporting Images**:\n- Feature section illustrations: 3 custom spots showing calculator usage scenarios\n- Trust indicators: Partner logos, certification badges (placed in dedicated section)\n- No images needed for: Auth pages, dashboard, admin, individual calculator pages\n\n## Animation & Interaction\n\n**Minimal Animation Approach**:\n- Hover states: Subtle scale (scale-105), shadow transitions only\n- Page transitions: Fade-in content on load (300ms)\n- Calculator results: Slide-down result card with 400ms ease\n- Avoid: Scroll animations, parallax, complex transitions\n\n## Page-Specific Layouts\n\n**Homepage**:\n1. Hero with search (500px height, image background)\n2. Popular Calculators Grid (3-column, 9 items visible)\n3. Category Navigation Cards (6 large cards, 2-column on mobile)\n4. Feature Benefits (3-column with icons, descriptions)\n5. Trust Section (usage stats, testimonials)\n6. CTA Section (newsletter signup + calculator request form)\n\n**Calculator Page**:\n1. Breadcrumb navigation\n2. Page title + description (max-w-3xl)\n3. Calculator Interface (2-column: inputs left, results right on desktop)\n4. Information Accordion (formulas, examples, FAQs)\n5. Related Calculators Carousel\n\n**Dashboard**:\n1. Welcome header with user stats\n2. Favorites Grid (masonry layout)\n3. Recent Calculations Timeline\n4. Recommended Calculators Section\n\n## Accessibility Requirements\n\n- ARIA labels on all interactive elements\n- Skip navigation links\n- Keyboard navigation for calculator inputs (tab order)\n- Focus indicators: 2px outline with offset\n- Form validation: Inline error messages with icons\n- Color contrast: Ensure AA compliance minimum\n- Screen reader announcements for calculator results\n\n**Consistent Implementation**: All form inputs, text fields, buttons, and interactive elements maintain identical styling, spacing, and accessibility patterns across authentication, calculators, dashboard, and admin interfaces.","size_bytes":6216},"client/src/components/SEO.tsx":{"content":"import { useEffect } from \"react\";\n\ninterface SEOProps {\n  title: string;\n  description: string;\n  keywords?: string;\n  ogTitle?: string;\n  ogDescription?: string;\n  ogUrl?: string;\n  ogType?: string;\n}\n\nexport default function SEO({\n  title,\n  description,\n  keywords,\n  ogTitle,\n  ogDescription,\n  ogUrl,\n  ogType = \"website\",\n}: SEOProps) {\n  useEffect(() => {\n    document.title = title;\n\n    const setMetaTag = (name: string, content: string, isProperty = false) => {\n      const attribute = isProperty ? \"property\" : \"name\";\n      let element = document.querySelector(`meta[${attribute}=\"${name}\"]`);\n      \n      if (!element) {\n        element = document.createElement(\"meta\");\n        element.setAttribute(attribute, name);\n        document.head.appendChild(element);\n      }\n      \n      element.setAttribute(\"content\", content);\n    };\n\n    setMetaTag(\"description\", description);\n    \n    if (keywords) {\n      setMetaTag(\"keywords\", keywords);\n    }\n\n    setMetaTag(\"og:title\", ogTitle || title, true);\n    setMetaTag(\"og:description\", ogDescription || description, true);\n    setMetaTag(\"og:type\", ogType, true);\n    \n    if (ogUrl) {\n      setMetaTag(\"og:url\", ogUrl, true);\n    }\n  }, [title, description, keywords, ogTitle, ogDescription, ogUrl, ogType]);\n\n  return null;\n}\n","size_bytes":1291},"server/resend.ts":{"content":"import { Resend } from 'resend';\n\nlet connectionSettings: any;\n\nasync function getCredentials() {\n  const hostname = process.env.REPLIT_CONNECTORS_HOSTNAME;\n  \n  console.log('[Resend] Checking credentials...');\n  console.log('[Resend] REPLIT_CONNECTORS_HOSTNAME:', hostname ? 'present' : 'missing');\n  console.log('[Resend] REPL_IDENTITY:', process.env.REPL_IDENTITY ? 'present' : 'missing');\n  console.log('[Resend] WEB_REPL_RENEWAL:', process.env.WEB_REPL_RENEWAL ? 'present' : 'missing');\n  \n  const xReplitToken = process.env.REPL_IDENTITY \n    ? 'repl ' + process.env.REPL_IDENTITY \n    : process.env.WEB_REPL_RENEWAL \n    ? 'depl ' + process.env.WEB_REPL_RENEWAL \n    : null;\n\n  if (!xReplitToken) {\n    console.error('[Resend] X_REPLIT_TOKEN not found for repl/depl');\n    throw new Error('X_REPLIT_TOKEN not found for repl/depl');\n  }\n\n  try {\n    const response = await fetch(\n      'https://' + hostname + '/api/v2/connection?include_secrets=true&connector_names=resend',\n      {\n        headers: {\n          'Accept': 'application/json',\n          'X_REPLIT_TOKEN': xReplitToken\n        }\n      }\n    );\n    \n    console.log('[Resend] Fetch response status:', response.status);\n    \n    const data = await response.json();\n    console.log('[Resend] Response data:', JSON.stringify(data, null, 2));\n    \n    connectionSettings = data.items?.[0];\n\n    if (!connectionSettings || !connectionSettings.settings?.api_key) {\n      console.error('[Resend] Connection settings missing or incomplete:', connectionSettings);\n      throw new Error('Resend not connected or missing API key');\n    }\n    \n    console.log('[Resend] Credentials retrieved successfully');\n    \n    let fromEmail = connectionSettings.settings.from_email;\n    \n    if (fromEmail && fromEmail.includes('@myyahoo.com')) {\n      fromEmail = 'onboarding@resend.dev';\n      console.log('[Resend] Using Resend test domain for unverified sender');\n    }\n    \n    return {\n      apiKey: connectionSettings.settings.api_key, \n      fromEmail: fromEmail || 'onboarding@resend.dev'\n    };\n  } catch (error) {\n    console.error('[Resend] Error fetching credentials:', error);\n    throw error;\n  }\n}\n\nasync function getUncachableResendClient() {\n  const { apiKey, fromEmail } = await getCredentials();\n  return {\n    client: new Resend(apiKey),\n    fromEmail\n  };\n}\n\nexport async function sendPasswordResetEmail(toEmail: string, resetLink: string) {\n  console.log('[Resend] Attempting to send password reset email to:', toEmail);\n  try {\n    const { client, fromEmail } = await getUncachableResendClient();\n    console.log('[Resend] Client initialized, from email:', fromEmail);\n    \n    const { data, error } = await client.emails.send({\n      from: fromEmail,\n      to: toEmail,\n      subject: 'Reset Your CalculateThis.org Password',\n      html: `\n        <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n          <h2 style=\"color: #8B4513;\">Reset Your Password</h2>\n          <p>You requested to reset your password for CalculateThis.org.</p>\n          <p>Click the link below to reset your password:</p>\n          <p style=\"margin: 20px 0;\">\n            <a href=\"${resetLink}\" style=\"background-color: #8B4513; color: white; padding: 12px 24px; text-decoration: none; border-radius: 4px; display: inline-block;\">\n              Reset Password\n            </a>\n          </p>\n          <p style=\"color: #666; font-size: 14px;\">\n            This link will expire in 1 hour. If you didn't request this, you can safely ignore this email.\n          </p>\n          <p style=\"color: #666; font-size: 14px;\">\n            Or copy and paste this link into your browser:<br>\n            ${resetLink}\n          </p>\n        </div>\n      `,\n    });\n\n    if (error) {\n      console.error('[Resend] ❌ Error from Resend API:', error);\n      throw error;\n    }\n\n    console.log('[Resend] ✅ Password reset email sent successfully to:', toEmail);\n    console.log('[Resend] Email ID:', data?.id);\n    return true;\n  } catch (error) {\n    console.error('[Resend] ❌ Error sending password reset email:', error);\n    throw error;\n  }\n}\n","size_bytes":4117}},"version":2}